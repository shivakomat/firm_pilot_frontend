<div class="container-fluid">
  <!-- Progress Header -->
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h4 class="card-title mb-0">üìÑ Client Tax Intake Form</h4>
            <div class="d-flex align-items-center">
              <span class="badge bg-info me-2" *ngIf="isSaving">Saving...</span>
              <span class="text-muted">Step {{currentSection + 1}} of {{sections.length}}</span>
            </div>
          </div>
          
          <!-- Progress Bar -->
          <div class="progress mb-3" style="height: 12px;">
            <div class="progress-bar bg-info" [style.width.%]="progress" role="progressbar" [attr.aria-valuenow]="progress" aria-valuemin="0" aria-valuemax="100">
              <span class="visually-hidden">{{progress}}% Complete</span>
            </div>
          </div>
          
          <!-- Section Navigation -->
          <div class="d-flex flex-wrap gap-2">
            <button 
              *ngFor="let section of sections; let i = index"
              type="button" 
              class="btn btn-sm btn-info"
              (click)="goToSection(i)">
              <i [class]="section.icon" class="me-1"></i>
              {{section.title}}
              <i class="ri-check-line ms-1" *ngIf="section.completed"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Form Content -->
  <div class="row" *ngIf="!isLoading">
    <div class="col-12">
      <div class="card">
        <div class="card-body">
          <form [formGroup]="intakeForm">
            
            <!-- Section A: Personal Information -->
            <div *ngIf="currentSection === 0">
              <div class="d-flex justify-content-between align-items-center mb-4">
                <h5 class="mb-0">üîê Section A. Personal Information</h5>
                <button type="button" class="btn btn-outline-danger btn-sm" (click)="clearSection(0)">
                  <i class="ri-delete-bin-line me-1"></i>Clear Section
                </button>
              </div>
              <div formGroupName="personalInformation">
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Full Name *</label>
                    <input type="text" class="form-control" formControlName="fullName">
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Date of Birth *</label>
                    <input type="date" class="form-control" formControlName="dateOfBirth">
                  </div>
                </div>
                
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">SSN/ITIN *</label>
                    <div class="input-group">
                      <input 
                        type="text" 
                        class="form-control" 
                        [value]="getDisplaySSN(intakeForm.get('personalInformation.ssn')?.value, 'personal-ssn')"
                        (input)="formatSSNInput($event, 'personalInformation.ssn')"
                        placeholder="***-**-****">
                      <button 
                        type="button" 
                        class="btn btn-outline-secondary"
                        (click)="toggleSSNMask('personal-ssn')">
                        <i class="ri-eye-line" *ngIf="isSSNMasked('personal-ssn')"></i>
                        <i class="ri-eye-off-line" *ngIf="!isSSNMasked('personal-ssn')"></i>
                      </button>
                    </div>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Marital Status *</label>
                    <select class="form-select" formControlName="maritalStatus">
                      <option value="">Select Status</option>
                      <option value="single">Single</option>
                      <option value="married-jointly">Married Filing Jointly</option>
                      <option value="married-separately">Married Filing Separately</option>
                      <option value="head-of-household">Head of Household</option>
                      <option value="qualifying-widower">Qualifying Widower</option>
                    </select>
                  </div>
                </div>
                
                <!-- Spouse Information (conditional) -->
                <div *ngIf="intakeForm.get('personalInformation.maritalStatus')?.value === 'married-jointly' || intakeForm.get('personalInformation.maritalStatus')?.value === 'married-separately'">
                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <label class="form-label">Spouse's Name</label>
                      <input type="text" class="form-control" formControlName="spouseName">
                    </div>
                    <div class="col-md-6 mb-3">
                      <label class="form-label">Spouse's SSN</label>
                      <div class="input-group">
                        <input 
                          type="text" 
                          class="form-control" 
                          [value]="getDisplaySSN(intakeForm.get('personalInformation.spouseSsn')?.value, 'spouse-ssn')"
                          (input)="formatSSNInput($event, 'personalInformation.spouseSsn')"
                          placeholder="***-**-****">
                        <button 
                          type="button" 
                          class="btn btn-outline-secondary"
                          (click)="toggleSSNMask('spouse-ssn')">
                          <i class="ri-eye-line" *ngIf="isSSNMasked('spouse-ssn')"></i>
                          <i class="ri-eye-off-line" *ngIf="!isSSNMasked('spouse-ssn')"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Address -->
                <div formGroupName="address">
                  <div class="row">
                    <div class="col-12 mb-3">
                      <label class="form-label">Street Address *</label>
                      <input type="text" class="form-control" formControlName="street">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4 mb-3">
                      <label class="form-label">City *</label>
                      <input type="text" class="form-control" formControlName="city">
                    </div>
                    <div class="col-md-4 mb-3">
                      <label class="form-label">State *</label>
                      <input type="text" class="form-control" formControlName="state">
                    </div>
                    <div class="col-md-4 mb-3">
                      <label class="form-label">ZIP Code *</label>
                      <input type="text" class="form-control" formControlName="zipCode">
                    </div>
                  </div>
                </div>
                
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Phone *</label>
                    <input type="tel" class="form-control" formControlName="phone" placeholder="(555) 123-4567" (input)="formatPhoneInput($event, 'personalInformation.phone')">
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Email *</label>
                    <input type="email" class="form-control" formControlName="email">
                  </div>
                </div>
                
                <!-- Driver's License -->
                <div formGroupName="driverLicense">
                  <h6 class="mb-3">Driver's License / State ID</h6>
                  <div class="row">
                    <div class="col-md-4 mb-3">
                      <label class="form-label">License Number</label>
                      <input type="text" class="form-control" formControlName="number">
                    </div>
                    <div class="col-md-4 mb-3">
                      <label class="form-label">State</label>
                      <input type="text" class="form-control" formControlName="state">
                    </div>
                    <div class="col-md-4 mb-3">
                      <label class="form-label">Expiration Date</label>
                      <input type="date" class="form-control" formControlName="expiration">
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Section B: Dependents -->
            <div *ngIf="currentSection === 1">
              <div class="d-flex justify-content-between align-items-center mb-4">
                <h5 class="mb-0">üë®‚Äçüë©‚Äçüëß Section B. Dependents</h5>
                <div class="d-flex gap-2">
                  <button type="button" class="btn btn-outline-danger btn-sm" (click)="clearSection(1)">
                    <i class="ri-delete-bin-line me-1"></i>Clear Section
                  </button>
                  <button type="button" class="btn btn-info btn-sm" (click)="addDependent()">
                    <i class="ri-add-line me-1"></i>Add Dependent
                  </button>
                </div>
              </div>
              
              <div *ngIf="dependentsArray.length === 0" class="text-center text-muted py-4">
                <i class="ri-group-line font-size-48 mb-3 d-block"></i>
                <p>No dependents added yet. Click "Add Dependent" to get started.</p>
              </div>
              
              <div *ngFor="let dependent of dependentsArray.controls; let i = index" class="card mb-3">
                <div class="card-header d-flex justify-content-between align-items-center">
                  <h6 class="mb-0">Dependent {{i + 1}}</h6>
                  <button type="button" class="btn btn-outline-danger btn-sm" (click)="removeDependent(i)">
                    <i class="ri-delete-bin-line"></i>
                  </button>
                </div>
                <div class="card-body" [formGroup]="dependent">
                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <label class="form-label">Name *</label>
                      <input type="text" class="form-control" formControlName="name">
                    </div>
                    <div class="col-md-6 mb-3">
                      <label class="form-label">SSN/ITIN *</label>
                      <div class="input-group">
                        <input 
                          type="text" 
                          class="form-control" 
                          [value]="getDisplaySSN(dependent.get('ssn')?.value, 'dependent-ssn-' + i)"
                          (input)="formatSSNInput($event, 'dependents.' + i + '.ssn')"
                          placeholder="***-**-****">
                        <button 
                          type="button" 
                          class="btn btn-outline-secondary"
                          (click)="toggleSSNMask('dependent-ssn-' + i)">
                          <i class="ri-eye-line" *ngIf="isSSNMasked('dependent-ssn-' + i)"></i>
                          <i class="ri-eye-off-line" *ngIf="!isSSNMasked('dependent-ssn-' + i)"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4 mb-3">
                      <label class="form-label">Date of Birth *</label>
                      <input type="date" class="form-control" formControlName="dateOfBirth">
                    </div>
                    <div class="col-md-4 mb-3">
                      <label class="form-label">Relationship *</label>
                      <select class="form-select" formControlName="relationship">
                        <option value="">Select Relationship</option>
                        <option value="son">Son</option>
                        <option value="daughter">Daughter</option>
                        <option value="stepchild">Stepchild</option>
                        <option value="grandchild">Grandchild</option>
                        <option value="other">Other</option>
                      </select>
                    </div>
                    <div class="col-md-4 mb-3">
                      <label class="form-label">Months Lived With You</label>
                      <input type="number" class="form-control" formControlName="monthsLivedWithYou" min="1" max="12">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <div class="form-check">
                        <input type="checkbox" class="form-check-input" formControlName="fullYear" id="fullYear_{{i}}">
                        <label class="form-check-label" for="fullYear_{{i}}">Lived with you full year</label>
                      </div>
                    </div>
                    <div class="col-md-6 mb-3">
                      <div class="form-check">
                        <input type="checkbox" class="form-check-input" formControlName="childCareExpenses" id="childCare_{{i}}">
                        <label class="form-check-label" for="childCare_{{i}}">Child care expenses paid</label>
                      </div>
                    </div>
                  </div>
                  <div class="row" *ngIf="dependent.get('childCareExpenses')?.value">
                    <div class="col-md-6 mb-3">
                      <label class="form-label">Child Care Amount</label>
                      <input type="number" class="form-control" formControlName="childCareAmount" min="0">
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Section C: Income -->
            <div *ngIf="currentSection === 2">
              <div class="d-flex justify-content-between align-items-center mb-4">
                <h5 class="mb-0">üíº Section C. Income</h5>
                <div class="d-flex gap-2">
                  <button type="button" class="btn btn-outline-danger btn-sm" (click)="clearSection(2)">
                    <i class="ri-delete-bin-line me-1"></i>Clear Section
                  </button>
                  <button type="button" class="btn btn-info btn-sm" (click)="addIncomeSource()">
                    <i class="ri-add-line me-1"></i>Add Income Source
                  </button>
                </div>
              </div>
              
              <div *ngIf="incomeArray.length === 0" class="text-center text-muted py-4">
                <i class="ri-money-dollar-circle-line font-size-48 mb-3 d-block"></i>
                <p>No income sources added yet. Click "Add Income Source" to get started.</p>
              </div>
              
              <div *ngFor="let income of incomeArray.controls; let i = index" class="card mb-3">
                <div class="card-header d-flex justify-content-between align-items-center">
                  <h6 class="mb-0">Income Source {{i + 1}}</h6>
                  <button type="button" class="btn btn-outline-danger btn-sm" (click)="removeIncomeSource(i)">
                    <i class="ri-delete-bin-line"></i>
                  </button>
                </div>
                <div class="card-body" [formGroup]="income">
                  <div class="row">
                    <div class="col-md-4 mb-3">
                      <label class="form-label">Income Type *</label>
                      <select class="form-select" formControlName="type">
                        <option value="">Select Type</option>
                        <option value="w2">W-2 Employment Income</option>
                        <option value="1099-nec">1099-NEC (Freelance/Contractor)</option>
                        <option value="1099-misc">1099-MISC</option>
                        <option value="1099-int">1099-INT (Interest)</option>
                        <option value="1099-div">1099-DIV (Dividends)</option>
                        <option value="1099-b">1099-B (Stock Sales)</option>
                        <option value="1099-r">1099-R (Retirement)</option>
                        <option value="ssa-1099">SSA-1099 (Social Security)</option>
                        <option value="rental">Rental Income</option>
                        <option value="business">Business/Self-Employment</option>
                        <option value="other">Other Income</option>
                      </select>
                    </div>
                    <div class="col-md-4 mb-3">
                      <label class="form-label">Description *</label>
                      <input type="text" class="form-control" formControlName="description" placeholder="e.g., ABC Company, Rental Property">
                    </div>
                    <div class="col-md-4 mb-3">
                      <label class="form-label">Amount *</label>
                      <input type="number" class="form-control" formControlName="amount" min="0" step="0.01">
                    </div>
                  </div>
                  <div class="row" *ngIf="income.get('type')?.value === 'w2'">
                    <div class="col-md-6 mb-3">
                      <label class="form-label">Employer Name</label>
                      <input type="text" class="form-control" formControlName="employerName">
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Section D: Deductions & Adjustments -->
            <div *ngIf="currentSection === 3">
              <div class="d-flex justify-content-between align-items-center mb-4">
                <h5 class="mb-0">üí∏ Section D. Deductions & Adjustments</h5>
                <button type="button" class="btn btn-outline-danger btn-sm" (click)="clearSection(3)">
                  <i class="ri-delete-bin-line me-1"></i>Clear Section
                </button>
              </div>
              <div formGroupName="deductionsAdjustments">
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <div class="form-check">
                      <input type="checkbox" class="form-check-input" formControlName="mortgageInterest" id="mortgageInterest">
                      <label class="form-check-label" for="mortgageInterest">Mortgage Interest Paid</label>
                    </div>
                    <div *ngIf="intakeForm.get('deductionsAdjustments.mortgageInterest')?.value" class="mt-2">
                      <input type="number" class="form-control" formControlName="mortgageAmount" placeholder="Amount" min="0">
                    </div>
                  </div>
                  <div class="col-md-6 mb-3">
                    <div class="form-check">
                      <input type="checkbox" class="form-check-input" formControlName="propertyTaxes" id="propertyTaxes">
                      <label class="form-check-label" for="propertyTaxes">Property Taxes Paid</label>
                    </div>
                    <div *ngIf="intakeForm.get('deductionsAdjustments.propertyTaxes')?.value" class="mt-2">
                      <input type="number" class="form-control" formControlName="propertyTaxAmount" placeholder="Amount" min="0">
                    </div>
                  </div>
                </div>
                
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Charitable Contributions (Cash)</label>
                    <input type="number" class="form-control" formControlName="charitableCash" min="0">
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Charitable Contributions (Non-Cash)</label>
                    <input type="number" class="form-control" formControlName="charitableNonCash" min="0">
                  </div>
                </div>
                
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <div class="form-check">
                      <input type="checkbox" class="form-check-input" formControlName="studentLoanInterest" id="studentLoanInterest">
                      <label class="form-check-label" for="studentLoanInterest">Student Loan Interest Paid</label>
                    </div>
                    <div *ngIf="intakeForm.get('deductionsAdjustments.studentLoanInterest')?.value" class="mt-2">
                      <input type="number" class="form-control" formControlName="studentLoanAmount" placeholder="Amount" min="0">
                    </div>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">IRA/401(k) Contributions</label>
                    <input type="number" class="form-control" formControlName="iraContributions" min="0">
                  </div>
                </div>
                
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">IRA Type</label>
                    <select class="form-select" formControlName="iraType">
                      <option value="">Select Type</option>
                      <option value="traditional">Traditional IRA</option>
                      <option value="roth">Roth IRA</option>
                      <option value="401k">401(k)</option>
                      <option value="403b">403(b)</option>
                    </select>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Medical Expenses (Out-of-Pocket)</label>
                    <input type="number" class="form-control" formControlName="medicalExpenses" min="0">
                  </div>
                </div>
                
                <div class="mb-3">
                  <label class="form-label">Other Adjustments</label>
                  <textarea class="form-control" formControlName="otherAdjustments" rows="3" placeholder="Describe any other deductions or adjustments"></textarea>
                </div>
              </div>
            </div>
            
            <!-- Section E: Health Coverage -->
            <div *ngIf="currentSection === 4">
              <div class="d-flex justify-content-between align-items-center mb-4">
                <h5 class="mb-0">üè• Section E. Health Coverage</h5>
                <button type="button" class="btn btn-outline-danger btn-sm" (click)="clearSection(4)">
                  <i class="ri-delete-bin-line me-1"></i>Clear Section
                </button>
              </div>
              <div formGroupName="healthCoverage">
                <div class="mb-4">
                  <label class="form-label">Did you have health insurance all year? *</label>
                  <div class="form-check">
                    <input type="radio" class="form-check-input" formControlName="hadInsuranceAllYear" [value]="true" id="insurance_yes">
                    <label class="form-check-label" for="insurance_yes">Yes</label>
                  </div>
                  <div class="form-check">
                    <input type="radio" class="form-check-input" formControlName="hadInsuranceAllYear" [value]="false" id="insurance_no">
                    <label class="form-check-label" for="insurance_no">No</label>
                  </div>
                </div>
                
                <div class="row">
                  <div class="col-md-4 mb-3">
                    <div class="form-check">
                      <input type="checkbox" class="form-check-input" formControlName="marketplaceCoverage" id="marketplace">
                      <label class="form-check-label" for="marketplace">Marketplace Coverage</label>
                    </div>
                  </div>
                  <div class="col-md-4 mb-3">
                    <div class="form-check">
                      <input type="checkbox" class="form-check-input" formControlName="employerCoverage" id="employer">
                      <label class="form-check-label" for="employer">Employer Coverage</label>
                    </div>
                  </div>
                </div>
                
                <div class="row">
                  <div class="col-md-4 mb-3">
                    <div class="form-check">
                      <input type="checkbox" class="form-check-input" formControlName="form1095A" id="form1095A">
                      <label class="form-check-label" for="form1095A">Form 1095-A (Marketplace)</label>
                    </div>
                  </div>
                  <div class="col-md-4 mb-3">
                    <div class="form-check">
                      <input type="checkbox" class="form-check-input" formControlName="form1095B" id="form1095B">
                      <label class="form-check-label" for="form1095B">Form 1095-B</label>
                    </div>
                  </div>
                  <div class="col-md-4 mb-3">
                    <div class="form-check">
                      <input type="checkbox" class="form-check-input" formControlName="form1095C" id="form1095C">
                      <label class="form-check-label" for="form1095C">Form 1095-C</label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Section F: Credits -->
            <div *ngIf="currentSection === 5">
              <div class="d-flex justify-content-between align-items-center mb-4">
                <h5 class="mb-0">üéì Section F. Credits</h5>
                <button type="button" class="btn btn-outline-danger btn-sm" (click)="clearSection(5)">
                  <i class="ri-delete-bin-line me-1"></i>Clear Section
                </button>
              </div>
              <div formGroupName="credits">
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Education Expenses</label>
                    <input type="number" class="form-control" formControlName="educationExpenses" min="0">
                  </div>
                  <div class="col-md-6 mb-3">
                    <div class="form-check mt-4">
                      <input type="checkbox" class="form-check-input" formControlName="tuition1098T" id="tuition1098T">
                      <label class="form-check-label" for="tuition1098T">Have Form 1098-T (Tuition Statement)</label>
                    </div>
                  </div>
                </div>
                
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Child & Dependent Care Expenses</label>
                    <input type="number" class="form-control" formControlName="childCareExpenses" min="0">
                  </div>
                </div>
                
                <div class="row" *ngIf="intakeForm.get('credits.childCareExpenses')?.value > 0">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Care Provider Name</label>
                    <input type="text" class="form-control" formControlName="childCareProviderName">
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Care Provider EIN/SSN</label>
                    <input type="text" class="form-control" formControlName="childCareProviderEin">
                  </div>
                </div>
                
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Adoption Expenses</label>
                    <input type="number" class="form-control" formControlName="adoptionExpenses" min="0">
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Energy-Efficient Home Upgrades</label>
                    <input type="number" class="form-control" formControlName="energyEfficiencyUpgrades" min="0">
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Section G: Prior Year & IRS Notices -->
            <div *ngIf="currentSection === 6">
              <div class="d-flex justify-content-between align-items-center mb-4">
                <h5 class="mb-0">üìÇ Section G. Prior Year & IRS Notices</h5>
                <button type="button" class="btn btn-outline-danger btn-sm" (click)="clearSection(6)">
                  <i class="ri-delete-bin-line me-1"></i>Clear Section
                </button>
              </div>
              <div formGroupName="priorYearInfo">
                <div class="mb-4">
                  <label class="form-label">Did you file taxes last year?</label>
                  <div class="form-check">
                    <input type="radio" class="form-check-input" formControlName="filedLastYear" [value]="true" id="filed_yes">
                    <label class="form-check-label" for="filed_yes">Yes</label>
                  </div>
                  <div class="form-check">
                    <input type="radio" class="form-check-input" formControlName="filedLastYear" [value]="false" id="filed_no">
                    <label class="form-check-label" for="filed_no">No</label>
                  </div>
                </div>
                
                <div class="mb-4">
                  <div class="form-check">
                    <input type="checkbox" class="form-check-input" formControlName="irsNotices" id="irsNotices">
                    <label class="form-check-label" for="irsNotices">Received IRS or State Notices</label>
                  </div>
                </div>
                
                <div class="mb-3">
                  <label class="form-label">Other Notes or Questions</label>
                  <textarea class="form-control" formControlName="otherNotes" rows="4" placeholder="Any additional information, questions, or special circumstances you'd like your accountant to know about"></textarea>
                </div>
              </div>
            </div>
            
            <!-- Navigation Buttons -->
            <div class="d-flex justify-content-between mt-4">
              <button 
                type="button" 
                class="btn btn-outline-secondary"
                (click)="previousSection()"
                [disabled]="currentSection === 0">
                <i class="ri-arrow-left-line me-1"></i>Previous
              </button>
              
              <div>
                <button 
                  type="button" 
                  class="btn btn-info me-2"
                  (click)="autoSave()"
                  [disabled]="isSaving">
                  <i class="ri-save-line me-1"></i>Save Draft
                </button>
                
                <button 
                  *ngIf="currentSection === sections.length - 1"
                  type="button" 
                  class="btn btn-info"
                  (click)="submitForm()"
                  [disabled]="!intakeForm.valid || isLoading">
                  <i class="ri-send-plane-line me-1"></i>Submit Form
                </button>
                
                <button 
                  *ngIf="currentSection < sections.length - 1"
                  type="button" 
                  class="btn btn-info"
                  (click)="nextSection()">
                  Next<i class="ri-arrow-right-line ms-1"></i>
                </button>
              </div>
            </div>
            
          </form>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Loading State -->
  <div class="row" *ngIf="isLoading">
    <div class="col-12">
      <div class="card">
        <div class="card-body text-center py-5">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <p class="mt-3 text-muted">Loading your intake form...</p>
        </div>
      </div>
    </div>
  </div>
</div>

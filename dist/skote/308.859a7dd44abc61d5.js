"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[308],{6308:(Ce,b,m)=>{m.r(b),m.d(b,{ClientsModule:()=>ve});var u=m(177),p=m(803),r=m(9417),y=m(6551),_=m(779),M=m(8032),d=m.n(M),t=m(4438),g=m(6344);const P=["newClientModal"],T=["editClientModal"],R=["inviteClientModal"],I=(i,l)=>l.value,O=(i,l)=>l.id;function $(i,l){if(1&i&&(t.j41(0,"option",109),t.EFF(1),t.k0s()),2&i){const e=l.$implicit;t.Y8G("value",e.value),t.R7$(),t.JRh(e.label)}}function D(i,l){if(1&i&&(t.j41(0,"div",103),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&i){const e=t.XpG().$implicit;t.R7$(),t.JRh(t.i5U(2,1,e.lastInvitedAt,"short"))}}function S(i,l){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"a",110),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.viewClientDetail(n))}),t.EFF(3),t.k0s()(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td")(11,"span",100),t.EFF(12),t.k0s()(),t.j41(13,"td")(14,"span",100),t.EFF(15),t.k0s()(),t.j41(16,"td")(17,"span",100),t.EFF(18),t.k0s(),t.DNE(19,D,3,4,"div",103),t.k0s(),t.j41(20,"td"),t.EFF(21),t.nI1(22,"date"),t.k0s(),t.j41(23,"td")(24,"div",111)(25,"button",112),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.viewClientDetail(n))}),t.nrm(26,"i",113),t.k0s(),t.j41(27,"button",114),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.viewClientProjects(n))}),t.nrm(28,"i",115),t.k0s(),t.j41(29,"button",116),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.openInviteModal(n))}),t.nrm(30,"i",117),t.k0s(),t.j41(31,"button",118),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.openEditModal(n))}),t.nrm(32,"i",119),t.k0s()()()()}if(2&i){const e=l.$implicit,o=t.XpG();t.R7$(3),t.SpI(" ",e.firstName||"No First Name"," "),t.R7$(2),t.JRh(e.lastName||"No Last Name"),t.R7$(2),t.JRh(e.email||"N/A"),t.R7$(2),t.JRh(o.formatPhoneForDisplay(e.phone)),t.R7$(2),t.Y8G("ngClass","INDIVIDUAL"===e.entityType?"bg-primary":"bg-info"),t.R7$(),t.SpI(" ",e.entityType||"N/A"," "),t.R7$(2),t.Y8G("ngClass",o.getClientStatusClass(e.status)),t.R7$(),t.SpI(" ",o.getClientStatusText(e.status)," "),t.R7$(2),t.Y8G("ngClass",o.getInvitationStatusClass(e.invitationStatus)),t.R7$(),t.SpI(" ",o.getInvitationStatusText(e.invitationStatus)," "),t.R7$(),t.vxM(19,e.lastInvitedAt?19:-1),t.R7$(2),t.JRh(t.i5U(22,13,e.createdAt,"short")),t.R7$(8),t.Y8G("disabled","accepted"===e.invitationStatus)}}function G(i,l){1&i&&(t.j41(0,"tr")(1,"td",120)(2,"div",107),t.nrm(3,"i",121),t.EFF(4,' No clients found. Click "New Client" to add your first client. '),t.k0s()()())}function w(i,l){1&i&&t.EFF(0," First name is required. ")}function L(i,l){if(1&i&&(t.j41(0,"div",49),t.DNE(1,w,1,0),t.k0s()),2&i){let e;const o=t.XpG();t.R7$(),t.vxM(1,null!=(e=o.createClientForm.get("firstName"))&&null!=e.errors&&e.errors.required?1:-1)}}function B(i,l){1&i&&t.EFF(0," Last name is required. ")}function V(i,l){if(1&i&&(t.j41(0,"div",49),t.DNE(1,B,1,0),t.k0s()),2&i){let e;const o=t.XpG();t.R7$(),t.vxM(1,null!=(e=o.createClientForm.get("lastName"))&&null!=e.errors&&e.errors.required?1:-1)}}function X(i,l){1&i&&t.EFF(0," Email is required. ")}function A(i,l){1&i&&t.EFF(0," Please enter a valid email address. ")}function Y(i,l){if(1&i&&(t.j41(0,"div",49),t.DNE(1,X,1,0)(2,A,1,0),t.k0s()),2&i){let e,o;const n=t.XpG();t.R7$(),t.vxM(1,null!=(e=n.createClientForm.get("email"))&&null!=e.errors&&e.errors.required?1:-1),t.R7$(),t.vxM(2,null!=(o=n.createClientForm.get("email"))&&null!=o.errors&&o.errors.email?2:-1)}}function z(i,l){1&i&&t.EFF(0," Entity type is required. ")}function q(i,l){if(1&i&&(t.j41(0,"div",49),t.DNE(1,z,1,0),t.k0s()),2&i){let e;const o=t.XpG();t.R7$(),t.vxM(1,null!=(e=o.createClientForm.get("entityType"))&&null!=e.errors&&e.errors.required?1:-1)}}function U(i,l){1&i&&t.EFF(0," Status is required. ")}function J(i,l){if(1&i&&(t.j41(0,"div",49),t.DNE(1,U,1,0),t.k0s()),2&i){let e;const o=t.XpG();t.R7$(),t.vxM(1,null!=(e=o.createClientForm.get("status"))&&null!=e.errors&&e.errors.required?1:-1)}}function H(i,l){1&i&&(t.nrm(0,"span",122),t.EFF(1," Creating... "))}function K(i,l){1&i&&t.EFF(0," Add Client ")}function Q(i,l){1&i&&t.EFF(0," First name is required. ")}function Z(i,l){if(1&i&&(t.j41(0,"div",49),t.DNE(1,Q,1,0),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.vxM(1,null!=e.ef.firstName.errors&&e.ef.firstName.errors.required?1:-1)}}function W(i,l){1&i&&t.EFF(0," Last name is required. ")}function tt(i,l){if(1&i&&(t.j41(0,"div",49),t.DNE(1,W,1,0),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.vxM(1,null!=e.ef.lastName.errors&&e.ef.lastName.errors.required?1:-1)}}function et(i,l){1&i&&t.EFF(0," Please enter a valid email address. ")}function nt(i,l){if(1&i&&(t.j41(0,"div",49),t.DNE(1,et,1,0),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.vxM(1,null!=e.ef.email.errors&&e.ef.email.errors.email?1:-1)}}function it(i,l){1&i&&(t.nrm(0,"span",122),t.EFF(1," Updating... "))}function ot(i,l){1&i&&t.EFF(0," Update Client ")}function lt(i,l){if(1&i&&(t.j41(0,"div",103),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.SpI("Last sent: ",t.i5U(2,1,null==e.selectedClient?null:e.selectedClient.lastInvitedAt,"medium"),"")}}function st(i,l){1&i&&(t.nrm(0,"span",122),t.EFF(1," Resending... "))}function at(i,l){1&i&&(t.nrm(0,"i",124),t.EFF(1,"Resend Invitation "))}function rt(i,l){if(1&i&&(t.j41(0,"button",123),t.DNE(1,st,2,0)(2,at,2,0),t.k0s()),2&i){const e=t.XpG();t.Y8G("disabled",e.inviteLoading),t.R7$(),t.vxM(1,e.inviteLoading?1:2)}}function ct(i,l){1&i&&(t.nrm(0,"span",122),t.EFF(1," Sending... "))}function dt(i,l){1&i&&(t.nrm(0,"i",126),t.EFF(1,"Send Invitation "))}function mt(i,l){if(1&i&&(t.j41(0,"button",125),t.DNE(1,ct,2,0)(2,dt,2,0),t.k0s()),2&i){const e=t.XpG();t.Y8G("disabled",e.inviteLoading),t.R7$(),t.vxM(1,e.inviteLoading?1:2)}}let ut=(()=>{class i{constructor(e,o,n){this.apiService=e,this.formBuilder=o,this.router=n,this.clients=[],this.filteredClients=[],this.searchTerm="",this.statusFilter="all",this.statusOptions=[{value:"all",label:"All Clients"},{value:"lead",label:"Lead"},{value:"invited",label:"Invited"},{value:"active",label:"Active"},{value:"complete",label:"Complete"}],this.submitted=!1,this.loading=!1,this.error="",this.editSubmitted=!1,this.editLoading=!1,this.selectedClient=null,this.inviteSubmitted=!1,this.inviteLoading=!1}applyFilters(){let e=[...this.clients];if("all"!==this.statusFilter&&(e=e.filter(o=>o.status===this.statusFilter)),this.searchTerm.trim()){const o=this.searchTerm.toLowerCase();e=e.filter(n=>n.firstName?.toLowerCase().includes(o)||n.lastName?.toLowerCase().includes(o)||n.email?.toLowerCase().includes(o))}this.filteredClients=e}searchClients(){this.applyFilters()}onStatusFilterChange(){this.applyFilters()}ngOnInit(){this.breadCrumbItems=[{label:"Clients"},{label:"Clients List",active:!0}],this.createClientForm=this.formBuilder.group({firstName:["",[r.k0.required]],lastName:["",[r.k0.required]],email:["",[r.k0.required,r.k0.email]],phoneNumber:[""],entityType:["",[r.k0.required]],status:["lead",[r.k0.required]]}),this.editClientForm=this.formBuilder.group({firstName:["",[r.k0.required]],lastName:["",[r.k0.required]],email:["",[r.k0.email]],phoneNumber:[""],entityType:[""],status:[""]}),this.inviteClientForm=this.formBuilder.group({emailTemplate:[this.getDefaultEmailTemplate()]}),this.loadClients()}saveClient(){if(this.submitted=!0,this.createClientForm.valid){this.loading=!0,this.error="",this.apiService.debugTokenStatus();const e={email:this.createClientForm.value.email,firstName:this.createClientForm.value.firstName,lastName:this.createClientForm.value.lastName};this.createClientForm.value.phoneNumber&&this.createClientForm.value.phoneNumber.trim()&&(e.phone=this.cleanPhoneNumber(this.createClientForm.value.phoneNumber)),this.createClientForm.value.entityType&&(e.entityType=this.createClientForm.value.entityType),this.createClientForm.value.status&&(e.status=this.createClientForm.value.status),this.apiService.createClient(e).subscribe({next:o=>{this.loading=!1,o.success?(d().fire({title:"Success!",text:"Client has been created successfully.",icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"OK"}),this.createClientForm.reset(),this.createClientForm.patchValue({entityType:"INDIVIDUAL",status:"lead"}),this.submitted=!1,this.loadClients(),this.newClientModal?.hide()):(this.error=o.message||"Failed to create client",d().fire({title:"Error!",text:this.error,icon:"error",confirmButtonColor:"#d33",confirmButtonText:"OK"}))},error:o=>{this.loading=!1,console.error("Error creating client:",o);let n="Failed to create client. Please try again.";401===o.status||403===o.status?n="Authentication failed. Please log in again.":o.error?.message?n=o.error.message:o.message&&(n=o.message),this.error=n,d().fire({title:"Error!",text:n,icon:"error",confirmButtonColor:"#d33",confirmButtonText:"OK"})}})}else console.log("Form is invalid"),Object.keys(this.createClientForm.controls).forEach(e=>{this.createClientForm.get(e)?.markAsTouched()})}loadClients(){this.apiService.getClients().subscribe({next:e=>{console.log("Clients response:",e),console.log("Response type:",typeof e),console.log("Response keys:",Object.keys(e||{})),e.success&&e.clients?(console.log("Clients array:",e.clients),console.log("Clients count:",e.clients.length),e.clients.length>0&&(console.log("First client sample:",e.clients[0]),console.log("First client keys:",Object.keys(e.clients[0]||{}))),this.clients=e.clients,this.applyFilters()):(console.warn("No clients found in response"),this.clients=[],this.filteredClients=[])},error:e=>{console.error("Error loading clients:",e),this.clients=[],this.filteredClients=[]}})}get f(){return this.createClientForm.controls}get ef(){return this.editClientForm.controls}formatPhoneNumber(e){let o=e.target.value.replace(/\D/g,"");o.length>=6?o=`(${o.slice(0,3)}) ${o.slice(3,6)}-${o.slice(6,10)}`:o.length>=3?o=`(${o.slice(0,3)}) ${o.slice(3)}`:o.length>0&&(o=`(${o}`),o.length>14&&(o=o.slice(0,14)),e.target.value=o,"client-phone-input"===e.target.id?this.createClientForm.patchValue({phoneNumber:o}):"editPhoneNumber"===e.target.id&&this.editClientForm.patchValue({phoneNumber:o})}cleanPhoneNumber(e){return e?e.replace(/\D/g,""):""}formatPhoneForDisplay(e){if(!e)return"";const o=e.replace(/\D/g,"");return 10===o.length?`(${o.slice(0,3)}) ${o.slice(3,6)}-${o.slice(6)}`:e}viewClientDetail(e){this.router.navigate(["/clients/detail",e.id])}viewClientProjects(e){this.router.navigate(["/tax-consultant/client-projects",e.id])}openEditModal(e){this.selectedClient=e;const o=this.formatPhoneForDisplay(e.phone||"");this.editClientForm.patchValue({firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",phoneNumber:o,entityType:e.entityType||"",status:e.status||""}),this.editSubmitted=!1,this.editClientModal?.show()}updateClient(){if(this.editSubmitted=!0,this.editClientForm.invalid)return;this.editLoading=!0;const e={firstName:this.ef.firstName.value,lastName:this.ef.lastName.value,email:this.ef.email.value||void 0,phone:this.ef.phoneNumber.value?this.cleanPhoneNumber(this.ef.phoneNumber.value):void 0,entityType:this.ef.entityType.value||void 0,status:this.ef.status.value||void 0};this.apiService.updateClient(this.selectedClient.id,e).subscribe({next:o=>{console.log("Client updated:",o),o.success?(d().fire({title:"Success!",text:"Client has been updated successfully.",icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"OK"}),this.editClientModal?.hide(),this.loadClients(),this.editClientForm.reset(),this.selectedClient=null):d().fire({title:"Error!",text:o.message||"Failed to update client.",icon:"error",confirmButtonColor:"#d33",confirmButtonText:"OK"}),this.editLoading=!1},error:o=>{console.error("Error updating client:",o),this.editLoading=!1;let n="Failed to update client. Please try again.";o.error?.message?n=o.error.message:o.message&&(n=o.message),d().fire({title:"Error!",text:n,icon:"error",confirmButtonColor:"#d33",confirmButtonText:"OK"})}})}getDefaultEmailTemplate(){return"Dear {clientName},\n\nYou have been invited to access your client portal for Firm Pilot.\n\nAs a valued client, you now have secure access to:\n\u2022 View your account information\n\u2022 Upload and manage documents\n\u2022 Track the progress of your services\n\u2022 Communicate directly with our team\n\nTo get started, please click the link below to set up your account:\n{invitationLink}\n\nThis invitation will expire on {expiryDate}. If you have any questions, please don't hesitate to contact us.\n\nBest regards,\n{firmName}"}openInviteModal(e){this.selectedClient=e,this.inviteClientForm.patchValue({emailTemplate:this.getDefaultEmailTemplate()}),this.inviteSubmitted=!1,this.inviteClientModal?.show()}sendInvitation(){this.inviteSubmitted=!0,!this.inviteClientForm.invalid&&this.selectedClient?.id&&(this.inviteLoading=!0,this.apiService.inviteClient(this.selectedClient.id,{message:this.inviteClientForm.value.emailTemplate||void 0}).subscribe({next:o=>{console.log("Invitation sent:",o),o.success?(d().fire({title:"Success!",text:"Invitation has been sent successfully.",icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"OK"}),this.inviteClientModal?.hide(),this.loadClients(),this.inviteClientForm.reset(),this.selectedClient=null):d().fire({title:"Error!",text:o.message||"Failed to send invitation.",icon:"error",confirmButtonColor:"#d33",confirmButtonText:"OK"}),this.inviteLoading=!1},error:o=>{console.error("Error sending invitation:",o),this.inviteLoading=!1;let n="Failed to send invitation. Please try again.";401===o.status||403===o.status?n="Authentication failed. Please log in again.":o.error?.message?n=o.error.message:o.message&&(n=o.message),d().fire({title:"Error!",text:n,icon:"error",confirmButtonColor:"#d33",confirmButtonText:"OK"})}}))}getInvitationStatusClass(e){switch(e){case"pending":return"bg-warning";case"sent":return"bg-info";case"accepted":return"bg-success";case"expired":return"bg-danger";default:return"bg-secondary"}}getInvitationStatusText(e){switch(e){case"pending":return"Pending";case"sent":return"Sent";case"accepted":return"Accepted";case"expired":return"Expired";default:return"Not Invited"}}get if(){return this.inviteClientForm.controls}getClientStats(){return{total:this.clients.length,lead:this.clients.filter(a=>"lead"===a.status).length,invited:this.clients.filter(a=>"invited"===a.status).length,active:this.clients.filter(a=>"active"===a.status).length,complete:this.clients.filter(a=>"complete"===a.status).length}}getClientStatusClass(e){switch(e){case"lead":return"bg-warning";case"invited":return"bg-info";case"active":return"bg-success";case"complete":return"bg-primary";default:return"bg-secondary"}}getClientStatusText(e){switch(e){case"lead":return"Lead";case"invited":return"Invited";case"active":return"Active";case"complete":return"Complete";default:return"Unknown"}}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(g.G),t.rXU(r.ze),t.rXU(p.Ix))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-clientlist"]],viewQuery:function(o,n){if(1&o&&(t.GBs(P,5),t.GBs(T,5),t.GBs(R,5)),2&o){let s;t.mGM(s=t.lsd())&&(n.newClientModal=s.first),t.mGM(s=t.lsd())&&(n.editClientModal=s.first),t.mGM(s=t.lsd())&&(n.inviteClientModal=s.first)}},standalone:!0,features:[t.aNF],decls:315,vars:60,consts:[["newClientModal","bs-modal"],["editClientModal","bs-modal"],["inviteClientModal","bs-modal"],[1,"container-fluid"],["title","Clients List",3,"breadcrumbItems"],[1,"row","mb-4"],[1,"col-xl-3","col-md-6"],[1,"card"],[1,"card-body"],[1,"d-flex"],[1,"flex-1","overflow-hidden"],[1,"text-truncate","font-size-14","mb-2"],[1,"mb-0"],[1,"text-primary"],[1,"bx","bx-user","font-size-24"],[1,"text-warning"],[1,"bx","bx-user-plus","font-size-24"],[1,"text-success"],[1,"bx","bx-check-circle","font-size-24"],[1,"bx","bx-check-double","font-size-24"],[1,"row"],[1,"col-lg-12"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"search-box","me-2","mb-2","d-inline-block"],[1,"position-relative"],["type","text","id","searchTableList","placeholder","Search clients...",1,"form-control",3,"ngModelChange","ngModel"],[1,"bx","bx-search-alt","search-icon"],[1,"form-select","form-select-primary",3,"ngModelChange","ngModel"],[1,"text-sm-end"],["type","button",1,"btn","btn-info","btn-rounded","waves-effect","waves-light","mb-2","me-2",3,"click"],[1,"mdi","mdi-refresh","me-1"],["type","button","data-bs-toggle","modal",1,"btn","btn-success","btn-rounded","waves-effect","waves-light","addClient-modal","mb-2",3,"click"],[1,"mdi","mdi-plus","me-1"],[1,"table-responsive"],[1,"table","table-nowrap","align-middle"],[1,"table-light"],["bsModal","","id","newClientModal","tabindex","-1","aria-labelledby","newClientModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","newClientModalLabel",1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["autocomplete","off","id","createClient-form","novalidate","",1,"needs-validation","createClient-form",3,"ngSubmit","formGroup"],[1,"col-lg-6"],[1,"mb-3"],["for","client-firstName-input",1,"form-label"],["type","text","id","client-firstName-input","placeholder","Enter first name","formControlName","firstName","required","",1,"form-control"],[1,"invalid-feedback"],["for","client-lastName-input",1,"form-label"],["type","text","id","client-lastName-input","placeholder","Enter last name","formControlName","lastName","required","",1,"form-control"],["for","client-email-input",1,"form-label"],[1,"text-danger"],["type","email","id","client-email-input","placeholder","Enter email address","formControlName","email","required","",1,"form-control"],["for","client-phone-input",1,"form-label"],["type","tel","id","client-phone-input","placeholder","(XXX) XXX-XXXX","formControlName","phoneNumber","maxlength","14",1,"form-control",3,"input"],["for","client-entityType-input",1,"form-label"],["id","client-entityType-input","formControlName","entityType","required","",1,"form-select"],["value",""],["value","INDIVIDUAL"],["value","BUSINESS"],["value","CORPORATION"],["value","PARTNERSHIP"],["value","LLC"],["for","client-status-input",1,"form-label"],["id","client-status-input","formControlName","status","required","",1,"form-select"],["value","lead"],["value","invited"],["value","active"],["value","inactive"],[1,"text-end"],["type","button",1,"btn","btn-outline-secondary","me-2",3,"click","disabled"],["type","submit","id","addClient-btn",1,"btn","btn-success",3,"disabled"],["bsModal","","id","editClientModal","tabindex","-1","aria-labelledby","editClientModalLabel","aria-hidden","true",1,"modal","fade"],["id","editClientModalLabel",1,"modal-title"],[3,"ngSubmit","formGroup"],["for","editFirstName",1,"form-label"],["type","text","id","editFirstName","formControlName","firstName",1,"form-control"],["for","editLastName",1,"form-label"],["type","text","id","editLastName","formControlName","lastName",1,"form-control"],["for","editEmail",1,"form-label"],["type","email","id","editEmail","formControlName","email",1,"form-control"],["for","editPhoneNumber",1,"form-label"],["type","tel","id","editPhoneNumber","formControlName","phoneNumber","placeholder","(XXX) XXX-XXXX","maxlength","14",1,"form-control",3,"input"],["for","editEntityType",1,"form-label"],["id","editEntityType","formControlName","entityType",1,"form-select"],["for","editStatus",1,"form-label"],["id","editStatus","formControlName","status",1,"form-select"],["type","submit","id","updateClient-btn",1,"btn","btn-primary",3,"disabled"],["bsModal","","id","inviteClientModal","tabindex","-1","aria-labelledby","inviteClientModalLabel","aria-hidden","true",1,"modal","fade"],["id","inviteClientModalLabel",1,"modal-title"],[1,"bx","bx-mail-send","me-2"],["autocomplete","off","id","inviteClient-form","novalidate","",1,"needs-validation","inviteClient-form",3,"ngSubmit","formGroup"],[1,"col-12"],[1,"card","bg-light"],[1,"card-body","p-3"],[1,"card-title","mb-2"],[1,"col-md-6"],[1,"mb-1"],[1,"badge",3,"ngClass"],[1,"form-label"],[1,"mt-2"],[1,"text-muted","small","mt-1"],["for","invite-template-input",1,"form-label"],["id","invite-template-input","rows","8","formControlName","emailTemplate","placeholder","Customize the invitation email...",1,"form-control"],[1,"form-text"],[1,"text-muted"],["type","submit",1,"btn","btn-warning"],[3,"value"],["href","javascript:void(0)","title","View client details",1,"text-primary","fw-medium",3,"click"],[1,"d-flex","gap-2"],["type","button","title","View Client Details",1,"btn","btn-sm","btn-outline-success",3,"click"],[1,"bx","bx-show"],["type","button","title","View Client Projects",1,"btn","btn-sm","btn-outline-info",3,"click"],[1,"bx","bx-briefcase"],["type","button","title","Send Invitation Email",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],[1,"bx","bx-mail-send"],["type","button","title","Edit Client Details",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"bx","bx-pencil"],["colspan","9",1,"text-center","py-4"],[1,"bx","bx-user-plus","font-size-48","text-muted","d-block","mb-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"],["type","submit",1,"btn","btn-warning",3,"disabled"],[1,"bx","bx-refresh","me-1"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bx","bx-mail-send","me-1"]],template:function(o,n){if(1&o){const s=t.RV6();t.j41(0,"div",3),t.nrm(1,"app-page-title",4),t.j41(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"p",11),t.EFF(9,"Total Clients"),t.k0s(),t.j41(10,"h4",12),t.EFF(11),t.k0s()(),t.j41(12,"div",13),t.nrm(13,"i",14),t.k0s()()()()(),t.j41(14,"div",6)(15,"div",7)(16,"div",8)(17,"div",9)(18,"div",10)(19,"p",11),t.EFF(20,"Leads"),t.k0s(),t.j41(21,"h4",12),t.EFF(22),t.k0s()(),t.j41(23,"div",15),t.nrm(24,"i",16),t.k0s()()()()(),t.j41(25,"div",6)(26,"div",7)(27,"div",8)(28,"div",9)(29,"div",10)(30,"p",11),t.EFF(31,"Active"),t.k0s(),t.j41(32,"h4",12),t.EFF(33),t.k0s()(),t.j41(34,"div",17),t.nrm(35,"i",18),t.k0s()()()()(),t.j41(36,"div",6)(37,"div",7)(38,"div",8)(39,"div",9)(40,"div",10)(41,"p",11),t.EFF(42,"Complete"),t.k0s(),t.j41(43,"h4",12),t.EFF(44),t.k0s()(),t.j41(45,"div",13),t.nrm(46,"i",19),t.k0s()()()()()(),t.j41(47,"div",20)(48,"div",21)(49,"div",7)(50,"div",8)(51,"div",22)(52,"div",23)(53,"div",24)(54,"div",25)(55,"input",26),t.mxI("ngModelChange",function(a){return t.eBV(s),t.DH7(n.searchTerm,a)||(n.searchTerm=a),t.Njj(a)}),t.bIt("ngModelChange",function(){return t.eBV(s),t.Njj(n.searchClients())}),t.k0s(),t.nrm(56,"i",27),t.k0s()()(),t.j41(57,"div",23)(58,"select",28),t.mxI("ngModelChange",function(a){return t.eBV(s),t.DH7(n.statusFilter,a)||(n.statusFilter=a),t.Njj(a)}),t.bIt("ngModelChange",function(){return t.eBV(s),t.Njj(n.onStatusFilterChange())}),t.Z7z(59,$,2,2,"option",null,I),t.k0s()(),t.j41(61,"div",23)(62,"div",29)(63,"button",30),t.bIt("click",function(){return t.eBV(s),t.Njj(n.loadClients())}),t.nrm(64,"i",31),t.EFF(65," Refresh "),t.k0s(),t.j41(66,"button",32),t.bIt("click",function(){t.eBV(s);const a=t.sdS(96);return t.Njj(a.show())}),t.nrm(67,"i",33),t.EFF(68," New Client"),t.k0s()()()(),t.j41(69,"div",34)(70,"table",35)(71,"thead",36)(72,"tr")(73,"th"),t.EFF(74,"First Name"),t.k0s(),t.j41(75,"th"),t.EFF(76,"Last Name"),t.k0s(),t.j41(77,"th"),t.EFF(78,"Email"),t.k0s(),t.j41(79,"th"),t.EFF(80,"Phone Number"),t.k0s(),t.j41(81,"th"),t.EFF(82,"Entity Type"),t.k0s(),t.j41(83,"th"),t.EFF(84,"Status"),t.k0s(),t.j41(85,"th"),t.EFF(86,"Invitation"),t.k0s(),t.j41(87,"th"),t.EFF(88,"Created Date"),t.k0s(),t.j41(89,"th"),t.EFF(90,"Actions"),t.k0s()()(),t.j41(91,"tbody"),t.Z7z(92,S,33,16,"tr",null,O,!1,G,5,0,"tr"),t.k0s()()()()()()()(),t.j41(95,"div",37,0)(97,"div",38)(98,"div",39)(99,"div",40)(100,"h5",41),t.EFF(101,"Add New Client"),t.k0s(),t.j41(102,"button",42),t.bIt("click",function(){t.eBV(s);const a=t.sdS(96);return t.Njj(a.hide())}),t.k0s()(),t.j41(103,"div",43)(104,"form",44),t.bIt("ngSubmit",function(){return t.eBV(s),t.Njj(n.saveClient())}),t.j41(105,"div",20)(106,"div",45)(107,"div",46)(108,"label",47),t.EFF(109,"First Name"),t.k0s(),t.nrm(110,"input",48),t.DNE(111,L,2,1,"div",49),t.k0s()(),t.j41(112,"div",45)(113,"div",46)(114,"label",50),t.EFF(115,"Last Name"),t.k0s(),t.nrm(116,"input",51),t.DNE(117,V,2,1,"div",49),t.k0s()(),t.j41(118,"div",45)(119,"div",46)(120,"label",52),t.EFF(121,"Email Address "),t.j41(122,"span",53),t.EFF(123,"*"),t.k0s()(),t.nrm(124,"input",54),t.DNE(125,Y,3,2,"div",49),t.k0s()(),t.j41(126,"div",45)(127,"div",46)(128,"label",55),t.EFF(129,"Phone Number"),t.k0s(),t.j41(130,"input",56),t.bIt("input",function(a){return t.eBV(s),t.Njj(n.formatPhoneNumber(a))}),t.k0s()()(),t.j41(131,"div",45)(132,"div",46)(133,"label",57),t.EFF(134,"Entity Type "),t.j41(135,"span",53),t.EFF(136,"*"),t.k0s()(),t.j41(137,"select",58)(138,"option",59),t.EFF(139,"Select Entity Type"),t.k0s(),t.j41(140,"option",60),t.EFF(141,"Individual"),t.k0s(),t.j41(142,"option",61),t.EFF(143,"Business"),t.k0s(),t.j41(144,"option",62),t.EFF(145,"Corporation"),t.k0s(),t.j41(146,"option",63),t.EFF(147,"Partnership"),t.k0s(),t.j41(148,"option",64),t.EFF(149,"LLC"),t.k0s()(),t.DNE(150,q,2,1,"div",49),t.k0s()(),t.j41(151,"div",45)(152,"div",46)(153,"label",65),t.EFF(154,"Status "),t.j41(155,"span",53),t.EFF(156,"*"),t.k0s()(),t.j41(157,"select",66)(158,"option",59),t.EFF(159,"Select Status"),t.k0s(),t.j41(160,"option",67),t.EFF(161,"Lead"),t.k0s(),t.j41(162,"option",68),t.EFF(163,"Invited"),t.k0s(),t.j41(164,"option",69),t.EFF(165,"Active"),t.k0s(),t.j41(166,"option",70),t.EFF(167,"Inactive"),t.k0s()(),t.DNE(168,J,2,1,"div",49),t.k0s()(),t.j41(169,"div",21)(170,"div",71)(171,"button",72),t.bIt("click",function(){t.eBV(s);const a=t.sdS(96);return t.Njj(a.hide())}),t.EFF(172,"Cancel"),t.k0s(),t.j41(173,"button",73),t.DNE(174,H,2,0)(175,K,1,0),t.k0s()()()()()()()()(),t.j41(176,"div",74,1)(178,"div",38)(179,"div",39)(180,"div",40)(181,"h5",75),t.EFF(182,"Edit Client"),t.k0s(),t.j41(183,"button",42),t.bIt("click",function(){t.eBV(s);const a=t.sdS(177);return t.Njj(a.hide())}),t.k0s()(),t.j41(184,"div",43)(185,"form",76),t.bIt("ngSubmit",function(){return t.eBV(s),t.Njj(n.updateClient())}),t.j41(186,"div",20)(187,"div",45)(188,"div",46)(189,"label",77),t.EFF(190,"First Name "),t.j41(191,"span",53),t.EFF(192,"*"),t.k0s()(),t.nrm(193,"input",78),t.DNE(194,Z,2,1,"div",49),t.k0s()(),t.j41(195,"div",45)(196,"div",46)(197,"label",79),t.EFF(198,"Last Name "),t.j41(199,"span",53),t.EFF(200,"*"),t.k0s()(),t.nrm(201,"input",80),t.DNE(202,tt,2,1,"div",49),t.k0s()(),t.j41(203,"div",45)(204,"div",46)(205,"label",81),t.EFF(206,"Email"),t.k0s(),t.nrm(207,"input",82),t.DNE(208,nt,2,1,"div",49),t.k0s()(),t.j41(209,"div",45)(210,"div",46)(211,"label",83),t.EFF(212,"Phone Number"),t.k0s(),t.j41(213,"input",84),t.bIt("input",function(a){return t.eBV(s),t.Njj(n.formatPhoneNumber(a))}),t.k0s()()(),t.j41(214,"div",45)(215,"div",46)(216,"label",85),t.EFF(217,"Entity Type"),t.k0s(),t.j41(218,"select",86)(219,"option",59),t.EFF(220,"Select Entity Type"),t.k0s(),t.j41(221,"option",60),t.EFF(222,"Individual"),t.k0s(),t.j41(223,"option",61),t.EFF(224,"Business"),t.k0s(),t.j41(225,"option",62),t.EFF(226,"Corporation"),t.k0s(),t.j41(227,"option",63),t.EFF(228,"Partnership"),t.k0s(),t.j41(229,"option",64),t.EFF(230,"LLC"),t.k0s()()()(),t.j41(231,"div",45)(232,"div",46)(233,"label",87),t.EFF(234,"Status"),t.k0s(),t.j41(235,"select",88)(236,"option",59),t.EFF(237,"Select Status"),t.k0s(),t.j41(238,"option",67),t.EFF(239,"Lead"),t.k0s(),t.j41(240,"option",68),t.EFF(241,"Invited"),t.k0s(),t.j41(242,"option",69),t.EFF(243,"Active"),t.k0s(),t.j41(244,"option",70),t.EFF(245,"Inactive"),t.k0s()()()(),t.j41(246,"div",21)(247,"div",71)(248,"button",72),t.bIt("click",function(){t.eBV(s);const a=t.sdS(177);return t.Njj(a.hide())}),t.EFF(249,"Cancel"),t.k0s(),t.j41(250,"button",89),t.DNE(251,it,2,0)(252,ot,1,0),t.k0s()()()()()()()()(),t.j41(253,"div",90,2)(255,"div",38)(256,"div",39)(257,"div",40)(258,"h5",91),t.nrm(259,"i",92),t.EFF(260,"Send Client Invitation "),t.k0s(),t.j41(261,"button",42),t.bIt("click",function(){t.eBV(s);const a=t.sdS(254);return t.Njj(a.hide())}),t.k0s()(),t.j41(262,"div",43)(263,"form",93),t.bIt("ngSubmit",function(){return t.eBV(s),t.Njj(n.sendInvitation())}),t.j41(264,"div",5)(265,"div",94)(266,"div",95)(267,"div",96)(268,"h6",97),t.EFF(269,"Client Information"),t.k0s(),t.j41(270,"div",20)(271,"div",98)(272,"p",99)(273,"strong"),t.EFF(274,"Name:"),t.k0s(),t.EFF(275),t.k0s(),t.j41(276,"p",99)(277,"strong"),t.EFF(278,"Email:"),t.k0s(),t.EFF(279),t.k0s()(),t.j41(280,"div",98)(281,"p",99)(282,"strong"),t.EFF(283,"Entity Type:"),t.k0s(),t.EFF(284),t.k0s(),t.j41(285,"p",99)(286,"strong"),t.EFF(287,"Status:"),t.k0s(),t.j41(288,"span",100),t.EFF(289),t.k0s()()()()()()()(),t.j41(290,"div",20)(291,"div",94)(292,"div",46)(293,"label",101),t.EFF(294,"Current Invitation Status"),t.k0s(),t.j41(295,"div",102)(296,"span",100),t.EFF(297),t.k0s(),t.DNE(298,lt,3,4,"div",103),t.k0s()()()(),t.j41(299,"div",20)(300,"div",94)(301,"div",46)(302,"label",104),t.EFF(303,"Email Template"),t.k0s(),t.nrm(304,"textarea",105),t.j41(305,"div",106)(306,"small",107),t.EFF(307),t.k0s()()()()(),t.j41(308,"div",20)(309,"div",94)(310,"div",71)(311,"button",72),t.bIt("click",function(){t.eBV(s);const a=t.sdS(254);return t.Njj(a.hide())}),t.EFF(312,"Cancel"),t.k0s(),t.DNE(313,rt,3,2,"button",108)(314,mt,3,2),t.k0s()()()()()()()()}if(2&o){let s,c,a,h,F,k,j,E,x,N;t.R7$(),t.Y8G("breadcrumbItems",n.breadCrumbItems),t.R7$(10),t.JRh(n.getClientStats().total),t.R7$(11),t.JRh(n.getClientStats().lead),t.R7$(11),t.JRh(n.getClientStats().active),t.R7$(11),t.JRh(n.getClientStats().complete),t.R7$(11),t.R50("ngModel",n.searchTerm),t.R7$(3),t.R50("ngModel",n.statusFilter),t.R7$(),t.Dyx(n.statusOptions),t.R7$(33),t.Dyx(n.filteredClients),t.R7$(12),t.Y8G("formGroup",n.createClientForm),t.R7$(6),t.AVh("is-invalid",n.submitted&&(null==(s=n.createClientForm.get("firstName"))?null:s.errors)),t.R7$(),t.vxM(111,n.submitted&&null!=(c=n.createClientForm.get("firstName"))&&c.errors?111:-1),t.R7$(5),t.AVh("is-invalid",n.submitted&&(null==(a=n.createClientForm.get("lastName"))?null:a.errors)),t.R7$(),t.vxM(117,n.submitted&&null!=(h=n.createClientForm.get("lastName"))&&h.errors?117:-1),t.R7$(7),t.AVh("is-invalid",n.submitted&&(null==(F=n.createClientForm.get("email"))?null:F.errors)),t.R7$(),t.vxM(125,n.submitted&&null!=(k=n.createClientForm.get("email"))&&k.errors?125:-1),t.R7$(12),t.AVh("is-invalid",n.submitted&&(null==(j=n.createClientForm.get("entityType"))?null:j.errors)),t.R7$(13),t.vxM(150,n.submitted&&null!=(E=n.createClientForm.get("entityType"))&&E.errors?150:-1),t.R7$(7),t.AVh("is-invalid",n.submitted&&(null==(x=n.createClientForm.get("status"))?null:x.errors)),t.R7$(11),t.vxM(168,n.submitted&&null!=(N=n.createClientForm.get("status"))&&N.errors?168:-1),t.R7$(3),t.Y8G("disabled",n.loading),t.R7$(2),t.Y8G("disabled",n.loading),t.R7$(),t.vxM(174,n.loading?174:175),t.R7$(11),t.Y8G("formGroup",n.editClientForm),t.R7$(8),t.AVh("is-invalid",n.editSubmitted&&n.ef.firstName.errors),t.R7$(),t.vxM(194,n.editSubmitted&&n.ef.firstName.errors?194:-1),t.R7$(7),t.AVh("is-invalid",n.editSubmitted&&n.ef.lastName.errors),t.R7$(),t.vxM(202,n.editSubmitted&&n.ef.lastName.errors?202:-1),t.R7$(5),t.AVh("is-invalid",n.editSubmitted&&n.ef.email.errors),t.R7$(),t.vxM(208,n.editSubmitted&&n.ef.email.errors?208:-1),t.R7$(40),t.Y8G("disabled",n.editLoading),t.R7$(2),t.Y8G("disabled",n.editLoading),t.R7$(),t.vxM(251,n.editLoading?251:252),t.R7$(12),t.Y8G("formGroup",n.inviteClientForm),t.R7$(12),t.Lme(" ",null==n.selectedClient?null:n.selectedClient.firstName," ",null==n.selectedClient?null:n.selectedClient.lastName,""),t.R7$(4),t.SpI(" ",null==n.selectedClient?null:n.selectedClient.email,""),t.R7$(5),t.SpI(" ",(null==n.selectedClient?null:n.selectedClient.entityType)||"N/A",""),t.R7$(4),t.Y8G("ngClass","lead"===(null==n.selectedClient?null:n.selectedClient.status)?"bg-info":"active"===(null==n.selectedClient?null:n.selectedClient.status)?"bg-success":"bg-secondary"),t.R7$(),t.SpI(" ",(null==n.selectedClient?null:n.selectedClient.status)||"N/A"," "),t.R7$(7),t.Y8G("ngClass",n.getInvitationStatusClass(null==n.selectedClient?null:n.selectedClient.invitationStatus)),t.R7$(),t.SpI(" ",n.getInvitationStatusText(null==n.selectedClient?null:n.selectedClient.invitationStatus)," "),t.R7$(),t.vxM(298,null!=n.selectedClient&&n.selectedClient.lastInvitedAt?298:-1),t.R7$(9),t.Ld(" Available variables: ","{","clientName","}",", ","{","firmName","}",", ","{","invitationLink","}",", ","{","expiryDate","}"," "),t.R7$(4),t.Y8G("disabled",n.inviteLoading),t.R7$(2),t.vxM(313,"pending"===(null==n.selectedClient?null:n.selectedClient.invitationStatus)||"sent"===(null==n.selectedClient?null:n.selectedClient.invitationStatus)?313:314)}},dependencies:[u.MD,u.YU,u.vh,r.YN,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.YS,r.tU,r.vS,r.X1,r.j4,r.JD,y.T,_.Q_,_.hZ],styles:[".card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);transition:transform .2s ease-in-out;box-shadow:0 1rem 2rem #12263f1a}.card[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}"]})}}return i})();var pt=m(1413),f=m(6977);const _t=["editClientModal"],ft=["notesEditor"];function bt(i,l){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Lme("",e.client.firstName," ",e.client.lastName,"")}}function gt(i,l){1&i&&(t.j41(0,"span"),t.EFF(1,"Client Details"),t.k0s())}function vt(i,l){if(1&i){const e=t.RV6();t.j41(0,"button",50),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.sendEmail())}),t.nrm(1,"i",51),t.EFF(2," Send Email "),t.k0s()}}function Ct(i,l){if(1&i){const e=t.RV6();t.j41(0,"button",52),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.openEditModal())}),t.nrm(1,"i",53),t.EFF(2," Edit Client "),t.k0s()}}function ht(i,l){if(1&i){const e=t.RV6();t.j41(0,"button",54),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.viewAllProjects())}),t.nrm(1,"i",55),t.EFF(2," All Projects "),t.k0s()}}function Ft(i,l){1&i&&(t.j41(0,"div",3)(1,"div",4)(2,"div",56)(3,"div",57)(4,"div",58)(5,"span",59),t.EFF(6,"Loading..."),t.k0s()(),t.j41(7,"p",60),t.EFF(8,"Loading client details..."),t.k0s()()()()())}function kt(i,l){1&i&&t.nrm(0,"span",105)}function jt(i,l){1&i&&t.nrm(0,"i",106)}function Et(i,l){if(1&i){const e=t.RV6();t.j41(0,"button",102),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.saveNotes())}),t.DNE(1,kt,1,0,"span",103)(2,jt,1,0,"i",104),t.EFF(3," Save "),t.k0s()}if(2&i){const e=t.XpG(2);t.Y8G("disabled",e.isSavingNotes),t.R7$(),t.Y8G("ngIf",e.isSavingNotes),t.R7$(),t.Y8G("ngIf",!e.isSavingNotes)}}function xt(i,l){if(1&i&&t.nrm(0,"div",110),2&i){const e=t.XpG(3);t.Y8G("innerHTML",e.formatNotesForDisplay(e.meetingNotes),t.npT)}}function Nt(i,l){1&i&&(t.j41(0,"div",111),t.nrm(1,"i",112),t.j41(2,"p",113),t.EFF(3,'No meeting notes yet. Click "Edit" to add notes.'),t.k0s()())}function yt(i,l){if(1&i&&(t.j41(0,"div",107),t.DNE(1,xt,1,1,"div",108)(2,Nt,4,0,"div",109),t.k0s()),2&i){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.meetingNotes&&e.meetingNotes.trim()),t.R7$(),t.Y8G("ngIf",!e.meetingNotes||!e.meetingNotes.trim())}}function Mt(i,l){if(1&i){const e=t.RV6();t.j41(0,"div",114)(1,"div",115)(2,"div",116)(3,"button",117),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.formatText("bold"))}),t.nrm(4,"i",118),t.k0s(),t.j41(5,"button",119),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.formatText("italic"))}),t.nrm(6,"i",120),t.k0s(),t.j41(7,"button",121),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.formatText("underline"))}),t.nrm(8,"i",122),t.k0s()(),t.j41(9,"div",123)(10,"button",124),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.formatText("insertUnorderedList"))}),t.nrm(11,"i",125),t.k0s(),t.j41(12,"button",126),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.formatText("insertOrderedList"))}),t.nrm(13,"i",127),t.k0s()(),t.j41(14,"div",123)(15,"button",128),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.insertDateTime())}),t.nrm(16,"i",129),t.EFF(17,"Date "),t.k0s()()(),t.j41(18,"div",130)(19,"div",131,1),t.bIt("input",function(n){t.eBV(e);const s=t.XpG(2);return t.Njj(s.onNotesChange(n))})("paste",function(n){t.eBV(e);const s=t.XpG(2);return t.Njj(s.onPaste(n))}),t.k0s()(),t.j41(21,"div",132)(22,"small",71),t.nrm(23,"i",133),t.EFF(24," Use the toolbar for formatting. Press Ctrl+S to save quickly. "),t.k0s()()()}if(2&i){const e=t.XpG(2);t.R7$(19),t.Y8G("innerHTML",e.meetingNotes,t.npT)}}function Pt(i,l){1&i&&(t.j41(0,"div",134)(1,"div",58)(2,"span",59),t.EFF(3,"Loading notes..."),t.k0s()(),t.j41(4,"p",60),t.EFF(5,"Loading meeting notes..."),t.k0s()())}function Tt(i,l){if(1&i&&(t.j41(0,"div",135)(1,"small",71),t.nrm(2,"i",136),t.EFF(3),t.j41(4,"span",137),t.nrm(5,"i",129),t.EFF(6),t.k0s()()()),2&i){const e=t.XpG(2);t.R7$(3),t.SpI(" Last updated: ",e.formatDate(e.currentNote.updatedAt)," "),t.R7$(3),t.SpI(" Created: ",e.formatDate(e.currentNote.createdAt)," ")}}function Rt(i,l){if(1&i&&(t.j41(0,"div",142)(1,"div",143)(2,"span",144),t.nrm(3,"i",145),t.k0s()(),t.j41(4,"div",146)(5,"h6",147),t.EFF(6),t.k0s(),t.j41(7,"p",76)(8,"span"),t.EFF(9),t.k0s()()()()),2&i){const e=l.$implicit,o=t.XpG(4);t.R7$(6),t.JRh(e.name),t.R7$(2),t.HbH(o.getProjectStatusClass(e.status)),t.R7$(),t.SpI(" ",o.getProjectStatusLabel(e.status)," ")}}function It(i,l){if(1&i&&(t.j41(0,"div"),t.DNE(1,Rt,10,4,"div",141),t.k0s()),2&i){const e=t.XpG(3);t.R7$(),t.Y8G("ngForOf",e.projects.slice(0,3))}}function Ot(i,l){1&i&&(t.j41(0,"div",148),t.nrm(1,"i",149),t.EFF(2," No projects yet "),t.k0s())}function $t(i,l){if(1&i&&(t.j41(0,"div",142)(1,"div",143)(2,"span",150),t.nrm(3,"i",151),t.k0s()(),t.j41(4,"div",146)(5,"h6",147),t.EFF(6),t.k0s(),t.j41(7,"p",76)(8,"span"),t.EFF(9),t.nI1(10,"titlecase"),t.k0s()()()()),2&i){const e=l.$implicit,o=t.XpG(4);t.R7$(6),t.JRh(e.form.title),t.R7$(2),t.HbH(o.getIntakeFormStatusClass((null==e.response?null:e.response.status)||"draft")),t.R7$(),t.SpI(" ",t.bMT(10,4,(null==e.response?null:e.response.status)||"draft")," ")}}function Dt(i,l){if(1&i&&(t.j41(0,"div"),t.DNE(1,$t,11,6,"div",141),t.k0s()),2&i){const e=t.XpG(3);t.R7$(),t.Y8G("ngForOf",e.intakeForms.slice(0,3))}}function St(i,l){1&i&&(t.j41(0,"div",148),t.nrm(1,"i",152),t.EFF(2," No forms yet "),t.k0s())}function Gt(i,l){if(1&i&&(t.j41(0,"div")(1,"h5",138),t.EFF(2,"Client Overview"),t.k0s(),t.j41(3,"div",3)(4,"div",139)(5,"h6",23),t.EFF(6,"Recent Projects"),t.k0s(),t.DNE(7,It,2,1,"div",8)(8,Ot,3,0,"div",140),t.k0s(),t.j41(9,"div",139)(10,"h6",23),t.EFF(11,"Recent Forms"),t.k0s(),t.DNE(12,Dt,2,1,"div",8)(13,St,3,0,"div",140),t.k0s()()()),2&i){const e=t.XpG(2);t.R7$(7),t.Y8G("ngIf",e.projects.length>0),t.R7$(),t.Y8G("ngIf",0===e.projects.length),t.R7$(4),t.Y8G("ngIf",e.intakeForms.length>0),t.R7$(),t.Y8G("ngIf",0===e.intakeForms.length)}}function wt(i,l){if(1&i&&(t.j41(0,"p",76),t.EFF(1),t.k0s()),2&i){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.description," ")}}function Lt(i,l){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"h6",147),t.EFF(3),t.k0s(),t.DNE(4,wt,2,1,"p",161),t.k0s(),t.j41(5,"td")(6,"span",162),t.EFF(7),t.k0s()(),t.j41(8,"td")(9,"span"),t.EFF(10),t.k0s()(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td")(14,"button",163),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG(4);return t.Njj(s.viewProject(n))}),t.nrm(15,"i",164),t.k0s()()()}if(2&i){const e=l.$implicit,o=t.XpG(4);t.R7$(3),t.JRh(e.name),t.R7$(),t.Y8G("ngIf",e.description),t.R7$(3),t.JRh(o.getProjectTypeLabel(e.projectType)),t.R7$(2),t.HbH(o.getProjectStatusClass(e.status)),t.R7$(),t.SpI(" ",o.getProjectStatusLabel(e.status)," "),t.R7$(2),t.JRh(o.formatDate(e.dueDate||""))}}function Bt(i,l){if(1&i&&(t.j41(0,"div",68)(1,"table",158)(2,"thead",159)(3,"tr")(4,"th"),t.EFF(5,"Project Name"),t.k0s(),t.j41(6,"th"),t.EFF(7,"Type"),t.k0s(),t.j41(8,"th"),t.EFF(9,"Status"),t.k0s(),t.j41(10,"th"),t.EFF(11,"Due Date"),t.k0s(),t.j41(12,"th"),t.EFF(13,"Actions"),t.k0s()()(),t.j41(14,"tbody"),t.DNE(15,Lt,16,7,"tr",160),t.k0s()()()),2&i){const e=t.XpG(3);t.R7$(15),t.Y8G("ngForOf",e.projects)}}function Vt(i,l){if(1&i){const e=t.RV6();t.j41(0,"div",165),t.nrm(1,"i",166),t.j41(2,"h5"),t.EFF(3,"No Projects Yet"),t.k0s(),t.j41(4,"p",71),t.EFF(5,"This client doesn't have any projects. Create one to get started."),t.k0s(),t.j41(6,"button",167),t.bIt("click",function(){t.eBV(e);const n=t.XpG(3);return t.Njj(n.viewAllProjects())}),t.nrm(7,"i",155),t.EFF(8," Create First Project "),t.k0s()()}}function Xt(i,l){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"div",153)(2,"h5",82),t.EFF(3),t.k0s(),t.j41(4,"button",154),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.viewAllProjects())}),t.nrm(5,"i",155),t.EFF(6," New Project "),t.k0s()(),t.DNE(7,Bt,16,1,"div",156)(8,Vt,9,0,"div",157),t.k0s()}if(2&i){const e=t.XpG(2);t.R7$(3),t.SpI("Projects (",e.projects.length,")"),t.R7$(4),t.Y8G("ngIf",e.projects.length>0),t.R7$(),t.Y8G("ngIf",0===e.projects.length)}}function At(i,l){if(1&i&&(t.j41(0,"p",176),t.EFF(1),t.k0s()),2&i){const e=t.XpG().$implicit,o=t.XpG(4);t.R7$(),t.SpI(" Submitted: ",o.formatDate(e.response.submittedAt)," ")}}function Yt(i,l){1&i&&(t.j41(0,"p",176),t.EFF(1," Not started yet "),t.k0s())}function zt(i,l){if(1&i){const e=t.RV6();t.j41(0,"div",169)(1,"div",170)(2,"div",62)(3,"div",171)(4,"h6",82),t.EFF(5),t.k0s(),t.j41(6,"span"),t.EFF(7),t.nI1(8,"titlecase"),t.k0s()(),t.j41(9,"p",172)(10,"strong"),t.EFF(11,"Project:"),t.k0s(),t.EFF(12),t.k0s(),t.DNE(13,At,2,1,"p",173)(14,Yt,2,0,"p",173),t.j41(15,"button",174),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG(4);return t.Njj(s.openIntakeForm(n))}),t.nrm(16,"i",175),t.EFF(17),t.k0s()()()()}if(2&i){const e=l.$implicit,o=t.XpG(4);t.R7$(5),t.JRh(e.form.title),t.R7$(),t.HbH(o.getIntakeFormStatusClass((null==e.response?null:e.response.status)||"draft")),t.R7$(),t.SpI(" ",t.bMT(8,8,(null==e.response?null:e.response.status)||"draft")," "),t.R7$(5),t.SpI(" ",e.projectName," "),t.R7$(),t.Y8G("ngIf",null==e.response?null:e.response.submittedAt),t.R7$(),t.Y8G("ngIf",!e.response),t.R7$(3),t.SpI(" ",e.response?"View Form":"Open Form"," ")}}function qt(i,l){if(1&i&&(t.j41(0,"div",3),t.DNE(1,zt,18,10,"div",168),t.k0s()),2&i){const e=t.XpG(3);t.R7$(),t.Y8G("ngForOf",e.intakeForms)}}function Ut(i,l){1&i&&(t.j41(0,"div",165),t.nrm(1,"i",177),t.j41(2,"h5"),t.EFF(3,"No Intake Forms"),t.k0s(),t.j41(4,"p",71),t.EFF(5,"No intake forms have been created for this client yet."),t.k0s()())}function Jt(i,l){if(1&i&&(t.j41(0,"div")(1,"div",153)(2,"h5",82),t.EFF(3),t.k0s()(),t.DNE(4,qt,2,1,"div",13)(5,Ut,6,0,"div",157),t.k0s()),2&i){const e=t.XpG(2);t.R7$(3),t.SpI("Intake Forms (",e.intakeForms.length,")"),t.R7$(),t.Y8G("ngIf",e.intakeForms.length>0),t.R7$(),t.Y8G("ngIf",0===e.intakeForms.length)}}function Ht(i,l){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"div",179)(3,"div",143)(4,"span",180),t.nrm(5,"i",151),t.k0s()(),t.j41(6,"div")(7,"h6",181),t.EFF(8),t.k0s(),t.j41(9,"p",76),t.EFF(10),t.k0s()()()(),t.j41(11,"td")(12,"span",162),t.EFF(13),t.k0s()(),t.j41(14,"td"),t.EFF(15),t.k0s(),t.j41(16,"td")(17,"span"),t.EFF(18),t.k0s()(),t.j41(19,"td"),t.EFF(20),t.k0s(),t.j41(21,"td")(22,"button",182),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG(4);return t.Njj(s.downloadDocument(n))}),t.nrm(23,"i",183),t.j41(24,"span",184),t.EFF(25,"Download"),t.k0s()()()()}if(2&i){const e=l.$implicit,o=t.XpG(4);t.R7$(8),t.JRh(e.filename),t.R7$(2),t.JRh(e.mimeType),t.R7$(3),t.JRh(e.tag),t.R7$(2),t.JRh(o.formatFileSize(e.sizeBytes)),t.R7$(2),t.HbH(e.required?"badge bg-warning":"badge bg-secondary"),t.R7$(),t.SpI(" ",e.required?"Required":"Optional"," "),t.R7$(2),t.JRh(o.formatDate(e.uploadedAt)),t.R7$(2),t.Mz_("title","Download ",e.filename,"")}}function Kt(i,l){if(1&i&&(t.j41(0,"div",68)(1,"table",158)(2,"thead",159)(3,"tr")(4,"th"),t.EFF(5,"Document Name"),t.k0s(),t.j41(6,"th"),t.EFF(7,"Tag"),t.k0s(),t.j41(8,"th"),t.EFF(9,"Size"),t.k0s(),t.j41(10,"th"),t.EFF(11,"Required"),t.k0s(),t.j41(12,"th"),t.EFF(13,"Uploaded"),t.k0s(),t.j41(14,"th"),t.EFF(15,"Actions"),t.k0s()()(),t.j41(16,"tbody"),t.DNE(17,Ht,26,10,"tr",160),t.k0s()()()),2&i){const e=t.XpG(3);t.R7$(17),t.Y8G("ngForOf",e.documents)}}function Qt(i,l){if(1&i&&(t.j41(0,"span",194),t.EFF(1),t.k0s()),2&i){const e=t.XpG().$implicit,o=t.XpG(4);t.R7$(),t.SpI(" Due: ",o.formatDate(e.dueDate)," ")}}function Zt(i,l){if(1&i&&(t.j41(0,"div",187)(1,"div",170)(2,"div",188)(3,"div",189)(4,"div",146)(5,"h6",147),t.EFF(6),t.k0s(),t.j41(7,"p",190),t.EFF(8),t.k0s(),t.j41(9,"div",191)(10,"span"),t.EFF(11),t.k0s(),t.DNE(12,Qt,2,1,"span",192),t.k0s()(),t.j41(13,"div",46),t.nrm(14,"i",193),t.k0s()()()()()),2&i){const e=l.$implicit;t.R7$(),t.AVh("border-success",e.fulfilled)("border-warning",!e.fulfilled),t.R7$(5),t.JRh(e.documentType),t.R7$(2),t.JRh(e.description),t.R7$(2),t.HbH(e.fulfilled?"badge bg-success":"badge bg-warning"),t.R7$(),t.SpI(" ",e.fulfilled?"Fulfilled":"Required"," "),t.R7$(),t.Y8G("ngIf",e.dueDate),t.R7$(2),t.HbH(e.fulfilled?"bx bx-check-circle text-success":"bx bx-time text-warning")}}function Wt(i,l){if(1&i&&(t.j41(0,"div",185)(1,"h6",23),t.EFF(2,"Document Requirements"),t.k0s(),t.j41(3,"div",3),t.DNE(4,Zt,15,12,"div",186),t.k0s()()),2&i){const e=t.XpG(3);t.R7$(4),t.Y8G("ngForOf",e.documentRequirements)}}function te(i,l){1&i&&(t.j41(0,"div",165),t.nrm(1,"i",195),t.j41(2,"h5"),t.EFF(3,"No Documents"),t.k0s(),t.j41(4,"p",71),t.EFF(5,"No documents have been uploaded for this client yet."),t.k0s()())}function ee(i,l){if(1&i&&(t.j41(0,"div")(1,"div",153)(2,"h5",82),t.EFF(3),t.k0s()(),t.DNE(4,Kt,18,1,"div",156)(5,Wt,5,1,"div",178)(6,te,6,0,"div",157),t.k0s()),2&i){const e=t.XpG(2);t.R7$(3),t.SpI("Documents (",e.documents.length,")"),t.R7$(),t.Y8G("ngIf",e.documents.length>0),t.R7$(),t.Y8G("ngIf",e.documentRequirements.length>0),t.R7$(),t.Y8G("ngIf",0===e.documents.length&&0===e.documentRequirements.length)}}function ne(i,l){if(1&i&&(t.j41(0,"p",200)(1,"strong"),t.EFF(2,"Accepted:"),t.k0s(),t.EFF(3),t.k0s()),2&i){const e=t.XpG(4);t.R7$(3),t.SpI(" ",e.formatDate(e.invitation.acceptedAt)," ")}}function ie(i,l){if(1&i&&(t.j41(0,"p",200)(1,"strong"),t.EFF(2,"Last Resent:"),t.k0s(),t.EFF(3),t.k0s()),2&i){const e=t.XpG(4);t.R7$(3),t.SpI(" ",e.formatDate(e.invitation.lastResentAt)," ")}}function oe(i,l){if(1&i){const e=t.RV6();t.j41(0,"div",170)(1,"div",62)(2,"div",197)(3,"div",198)(4,"h6",199),t.EFF(5,"Invitation Status"),t.k0s(),t.j41(6,"p",200)(7,"strong"),t.EFF(8,"Email:"),t.k0s(),t.EFF(9),t.k0s(),t.j41(10,"p",200)(11,"strong"),t.EFF(12,"Status:"),t.k0s(),t.j41(13,"span",137),t.EFF(14),t.nI1(15,"titlecase"),t.k0s()(),t.j41(16,"p",200)(17,"strong"),t.EFF(18,"Sent:"),t.k0s(),t.EFF(19),t.k0s(),t.DNE(20,ne,4,1,"p",201)(21,ie,4,1,"p",201),t.j41(22,"p",200)(23,"strong"),t.EFF(24,"Resent Count:"),t.k0s(),t.EFF(25),t.k0s(),t.j41(26,"p",202)(27,"strong"),t.EFF(28,"Expires:"),t.k0s(),t.EFF(29),t.k0s()(),t.j41(30,"div",203)(31,"button",204),t.bIt("click",function(){t.eBV(e);const n=t.XpG(3);return t.Njj(n.resendInvitation())}),t.nrm(32,"i",51),t.EFF(33),t.k0s()()()()()}if(2&i){const e=t.XpG(3);t.R7$(9),t.SpI(" ",e.invitation.email," "),t.R7$(4),t.HbH(e.getInvitationStatusClass(e.invitation.status)),t.R7$(),t.SpI(" ",t.bMT(15,11,e.invitation.status)," "),t.R7$(5),t.SpI(" ",e.formatDate(e.invitation.invitedAt)," "),t.R7$(),t.Y8G("ngIf",e.invitation.acceptedAt),t.R7$(),t.Y8G("ngIf",e.invitation.lastResentAt),t.R7$(4),t.SpI(" ",e.invitation.resentCount," "),t.R7$(4),t.SpI(" ",e.formatDate(e.invitation.expiresAt)," "),t.R7$(2),t.Y8G("disabled","accepted"===e.invitation.status),t.R7$(2),t.SpI(" ","accepted"===e.invitation.status?"Invitation Accepted":"Resend Invitation"," ")}}function le(i,l){if(1&i){const e=t.RV6();t.j41(0,"div",165),t.nrm(1,"i",205),t.j41(2,"h5"),t.EFF(3,"No Invitation Sent"),t.k0s(),t.j41(4,"p",71),t.EFF(5,"No client portal invitation has been sent to this client yet."),t.k0s(),t.j41(6,"button",167),t.bIt("click",function(){t.eBV(e);const n=t.XpG(3);return t.Njj(n.resendInvitation())}),t.nrm(7,"i",51),t.EFF(8," Send Invitation "),t.k0s()()}}function se(i,l){if(1&i&&(t.j41(0,"div")(1,"h5",138),t.EFF(2,"Client Portal Invitation"),t.k0s(),t.DNE(3,oe,34,13,"div",196)(4,le,9,0,"div",157),t.k0s()),2&i){const e=t.XpG(2);t.R7$(3),t.Y8G("ngIf",e.invitation),t.R7$(),t.Y8G("ngIf",!e.invitation)}}function ae(i,l){if(1&i){const e=t.RV6();t.j41(0,"div",3)(1,"div",61)(2,"div",56)(3,"div",62)(4,"div",63)(5,"div",64)(6,"div",65),t.EFF(7),t.k0s()(),t.j41(8,"h5",66),t.EFF(9),t.k0s(),t.j41(10,"p",67)(11,"span"),t.EFF(12),t.k0s()()(),t.j41(13,"div",68)(14,"table",69)(15,"tbody")(16,"tr")(17,"th",70),t.EFF(18,"Email :"),t.k0s(),t.j41(19,"td",71),t.EFF(20),t.k0s()(),t.j41(21,"tr")(22,"th",70),t.EFF(23,"Phone :"),t.k0s(),t.j41(24,"td",71),t.EFF(25),t.k0s()(),t.j41(26,"tr")(27,"th",70),t.EFF(28,"Status :"),t.k0s(),t.j41(29,"td")(30,"span",72),t.EFF(31),t.k0s()()(),t.j41(32,"tr")(33,"th",70),t.EFF(34,"Joined :"),t.k0s(),t.j41(35,"td",71),t.EFF(36),t.k0s()()()()()()(),t.j41(37,"div",56)(38,"div",62)(39,"h5",73),t.EFF(40,"Quick Stats"),t.k0s(),t.j41(41,"div",3)(42,"div",74)(43,"div",63)(44,"h4",75),t.EFF(45),t.k0s(),t.j41(46,"p",76),t.EFF(47,"Active Projects"),t.k0s()()(),t.j41(48,"div",74)(49,"div",63)(50,"h4",77),t.EFF(51),t.k0s(),t.j41(52,"p",76),t.EFF(53,"Completed"),t.k0s()()()(),t.j41(54,"div",78)(55,"div",74)(56,"div",63)(57,"h4",79),t.EFF(58),t.k0s(),t.j41(59,"p",76),t.EFF(60,"Pending Forms"),t.k0s()()(),t.j41(61,"div",74)(62,"div",63)(63,"h4",80),t.EFF(64),t.k0s(),t.j41(65,"p",76),t.EFF(66,"Documents"),t.k0s()()()()()(),t.j41(67,"div",56)(68,"div",62)(69,"div",81)(70,"h5",82),t.nrm(71,"i",83),t.EFF(72,"Meeting Notes "),t.k0s(),t.j41(73,"div",84)(74,"button",85),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.toggleNotesEdit())}),t.nrm(75,"i",86),t.EFF(76),t.k0s(),t.DNE(77,Et,4,3,"button",87),t.k0s()(),t.DNE(78,yt,3,2,"div",88)(79,Mt,25,1,"div",89)(80,Pt,6,0,"div",90)(81,Tt,7,2,"div",91),t.k0s()()(),t.j41(82,"div",92)(83,"div",56)(84,"div",62)(85,"ul",93)(86,"li",94)(87,"a",95),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.setActiveTab("overview"))}),t.nrm(88,"i",96),t.j41(89,"span",97),t.EFF(90,"Overview"),t.k0s()()(),t.j41(91,"li",94)(92,"a",95),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.setActiveTab("projects"))}),t.nrm(93,"i",98),t.j41(94,"span",97),t.EFF(95,"Projects"),t.k0s()()(),t.j41(96,"li",94)(97,"a",95),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.setActiveTab("intake"))}),t.nrm(98,"i",99),t.j41(99,"span",97),t.EFF(100,"Intake Forms"),t.k0s()()(),t.j41(101,"li",94)(102,"a",95),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.setActiveTab("documents"))}),t.nrm(103,"i",100),t.j41(104,"span",97),t.EFF(105,"Documents"),t.k0s()()(),t.j41(106,"li",94)(107,"a",95),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.setActiveTab("invitation"))}),t.nrm(108,"i",101),t.j41(109,"span",97),t.EFF(110,"Invitation"),t.k0s()()()()()(),t.j41(111,"div",56)(112,"div",62),t.DNE(113,Gt,14,4,"div",8)(114,Xt,9,3,"div",8)(115,Jt,6,3,"div",8)(116,ee,7,4,"div",8)(117,se,5,2,"div",8),t.k0s()()()()}if(2&i){const e=t.XpG();t.R7$(7),t.Lme(" ",null==e.client.firstName?null:e.client.firstName.charAt(0),"",null==e.client.lastName?null:e.client.lastName.charAt(0)," "),t.R7$(2),t.Lme("",e.client.firstName," ",e.client.lastName,""),t.R7$(2),t.HbH("INDIVIDUAL"===e.client.entityType?"badge bg-primary":"badge bg-info"),t.R7$(),t.SpI(" ",e.client.entityType||"N/A"," "),t.R7$(8),t.JRh(e.client.email||"Not provided"),t.R7$(5),t.JRh(e.formatPhoneForDisplay(e.client.phone||"")||"Not provided"),t.R7$(5),t.Y8G("ngClass","active"===e.client.status?"bg-success":"lead"===e.client.status?"bg-warning":"invited"===e.client.status?"bg-primary":"bg-info"),t.R7$(),t.SpI(" ",e.client.status||"N/A"," "),t.R7$(5),t.JRh(e.formatDate(e.client.createdAt)),t.R7$(9),t.JRh(e.getActiveProjectsCount()),t.R7$(6),t.JRh(e.getCompletedProjectsCount()),t.R7$(7),t.JRh(e.getPendingIntakeFormsCount()),t.R7$(6),t.JRh(e.documents.length),t.R7$(10),t.Y8G("disabled",e.isSavingNotes),t.R7$(),t.AVh("bx-edit",!e.isEditingNotes)("bx-x",e.isEditingNotes),t.R7$(),t.SpI(" ",e.isEditingNotes?"Cancel":"Edit"," "),t.R7$(),t.Y8G("ngIf",e.isEditingNotes),t.R7$(),t.Y8G("ngIf",!e.isEditingNotes),t.R7$(),t.Y8G("ngIf",e.isEditingNotes),t.R7$(),t.Y8G("ngIf",e.isLoadingNotes),t.R7$(),t.Y8G("ngIf",e.currentNote&&!e.isLoadingNotes),t.R7$(6),t.AVh("active","overview"===e.activeTab),t.R7$(5),t.AVh("active","projects"===e.activeTab),t.R7$(5),t.AVh("active","intake"===e.activeTab),t.R7$(5),t.AVh("active","documents"===e.activeTab),t.R7$(5),t.AVh("active","invitation"===e.activeTab),t.R7$(6),t.Y8G("ngIf","overview"===e.activeTab),t.R7$(),t.Y8G("ngIf","projects"===e.activeTab),t.R7$(),t.Y8G("ngIf","intake"===e.activeTab),t.R7$(),t.Y8G("ngIf","documents"===e.activeTab),t.R7$(),t.Y8G("ngIf","invitation"===e.activeTab)}}function re(i,l){if(1&i){const e=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",56)(3,"div",57),t.nrm(4,"i",206),t.j41(5,"h5"),t.EFF(6,"Client Not Found"),t.k0s(),t.j41(7,"p",71),t.EFF(8,"The requested client could not be found."),t.k0s(),t.j41(9,"button",167),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.goBack())}),t.nrm(10,"i",207),t.EFF(11," Back to Clients "),t.k0s()()()()()}}function ce(i,l){1&i&&(t.j41(0,"div"),t.EFF(1,"First name is required"),t.k0s())}function de(i,l){if(1&i&&(t.j41(0,"div",208),t.DNE(1,ce,2,0,"div",8),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Y8G("ngIf",null==e.ef.firstName.errors?null:e.ef.firstName.errors.required)}}function me(i,l){1&i&&(t.j41(0,"div"),t.EFF(1,"Last name is required"),t.k0s())}function ue(i,l){if(1&i&&(t.j41(0,"div",208),t.DNE(1,me,2,0,"div",8),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Y8G("ngIf",null==e.ef.lastName.errors?null:e.ef.lastName.errors.required)}}function pe(i,l){1&i&&(t.j41(0,"div"),t.EFF(1,"Please enter a valid email address"),t.k0s())}function _e(i,l){if(1&i&&(t.j41(0,"div",208),t.DNE(1,pe,2,0,"div",8),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Y8G("ngIf",null==e.ef.email.errors?null:e.ef.email.errors.email)}}function fe(i,l){1&i&&t.nrm(0,"span",209)}let v=(()=>{class i{constructor(e,o,n,s){this.route=e,this.router=o,this.apiService=n,this.formBuilder=s,this.destroy$=new pt.B,this.client=null,this.projects=[],this.ongoingProjects=[],this.intakeForms=[],this.documents=[],this.documentRequirements=[],this.invitation=null,this.isLoading=!1,this.activeTab="overview",this.editSubmitted=!1,this.editLoading=!1,this.currentNote=null,this.meetingNotes="",this.noteTitle="Meeting Notes",this.noteType="MEETING",this.isEditingNotes=!1,this.isSavingNotes=!1,this.isLoadingNotes=!1,this.allNotes=[],this.projectStatuses=[{value:"active",label:"Active",class:"badge bg-success"},{value:"in_progress",label:"In Progress",class:"badge bg-primary"},{value:"completed",label:"Completed",class:"badge bg-info"},{value:"on_hold",label:"On Hold",class:"badge bg-warning"},{value:"cancelled",label:"Cancelled",class:"badge bg-danger"}],this.projectTypes=[{value:"tax_return",label:"Tax Return"},{value:"quarterly_filing",label:"Quarterly Filing"},{value:"business_setup",label:"Business Setup"},{value:"audit",label:"Audit"},{value:"consultation",label:"Consultation"},{value:"other",label:"Other"}]}ngOnInit(){this.initializeEditForm(),this.route.params.subscribe(e=>{this.clientId=+e.id,this.clientId&&this.loadClientDetails()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeEditForm(){this.editClientForm=this.formBuilder.group({firstName:["",[r.k0.required]],lastName:["",[r.k0.required]],email:["",[r.k0.email]],phoneNumber:[""],entityType:[""],status:[""]})}loadClientDetails(){this.isLoading=!0,this.apiService.getClientDetails(this.clientId).pipe((0,f.Q)(this.destroy$)).subscribe({next:e=>{if(e.success&&e.clientDetails){const o=e.clientDetails;this.client=o.client,this.projects=o.projects,this.ongoingProjects=o.ongoingProjects,this.intakeForms=o.intakeForms,this.documents=o.documents,this.documentRequirements=o.documentRequirements,this.invitation=o.invitation||null,this.loadNotes()}this.isLoading=!1},error:e=>{console.error("Error loading client details:",e),this.isLoading=!1,d().fire({title:"Error",text:"Failed to load client details.",icon:"error"})}})}setActiveTab(e){this.activeTab=e}goBack(){this.router.navigate(["/clients/list"])}viewProject(e){this.router.navigate(["/tax-consultant/project-detail",e.id])}viewAllProjects(){this.router.navigate(["/tax-consultant/client-projects",this.clientId])}openIntakeForm(e){console.log("Opening intake form:",e),d().fire({title:"Coming Soon",text:"Intake form integration will be available once the backend API is ready.",icon:"info"})}downloadDocument(e){console.log("Downloading document:",e),d().fire({title:"Downloading...",text:"Please wait while we prepare your document.",icon:"info",allowOutsideClick:!1,showConfirmButton:!1,didOpen:()=>{d().showLoading()}}),this.apiService.downloadDocument(e.id).pipe((0,f.Q)(this.destroy$)).subscribe({next:o=>{const n=window.URL.createObjectURL(o),s=window.document.createElement("a");s.href=n,s.download=e.filename,window.document.body.appendChild(s),s.click(),window.document.body.removeChild(s),window.URL.revokeObjectURL(n),d().fire({title:"Download Complete!",text:`${e.filename} has been downloaded successfully.`,icon:"success",timer:3e3,showConfirmButton:!1})},error:o=>{console.error("Error downloading document:",o);let n="Failed to download document. Please try again.";404===o.status?n="Document not found. It may have been moved or deleted.":403===o.status?n="You do not have permission to download this document.":401===o.status&&(n="Your session has expired. Please log in again."),d().fire({title:"Download Failed",text:n,icon:"error",confirmButtonText:"OK"})}})}sendEmail(){this.client?.email?d().fire({title:"Send Email",text:`Send an email to ${this.client.firstName} ${this.client.lastName} (${this.client.email})?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#556ee6",cancelButtonColor:"#74788d",confirmButtonText:"Send Email",cancelButtonText:"Cancel"}).then(e=>{if(e.isConfirmed){const o=encodeURIComponent(`Tax Services - ${this.client.firstName} ${this.client.lastName}`),n=encodeURIComponent(`Dear ${this.client.firstName},\n\nI hope this email finds you well.\n\nBest regards,\nYour Tax Consultant`);window.open(`mailto:${this.client.email}?subject=${o}&body=${n}`,"_blank"),d().fire({title:"Email Client Opened",text:"Your default email application should now be open with a pre-filled message.",icon:"success",timer:3e3,showConfirmButton:!1})}}):d().fire({title:"No Email Address",text:"This client does not have an email address on file.",icon:"warning"})}resendInvitation(){this.client&&this.apiService.inviteClient(this.client.id,{message:"Client portal invitation from your tax consultant."}).pipe((0,f.Q)(this.destroy$)).subscribe({next:o=>{o.success&&(d().fire({title:"Success!",text:"Invitation sent successfully.",icon:"success"}),this.loadClientDetails())},error:o=>{console.error("Error sending invitation:",o),d().fire({title:"Error",text:"Failed to send invitation.",icon:"error"})}})}openEditModal(){this.client&&(this.editClientForm.patchValue({firstName:this.client.firstName||"",lastName:this.client.lastName||"",email:this.client.email||"",phoneNumber:this.formatPhoneForDisplay(this.client.phone||""),entityType:this.client.entityType||"",status:this.client.status||""}),this.editSubmitted=!1,this.editClientModal?.show())}updateClient(){if(this.editSubmitted=!0,this.editClientForm.invalid||!this.client)return;this.editLoading=!0;const e=this.editClientForm.value,o=e.phoneNumber?e.phoneNumber.replace(/\D/g,""):"",n={firstName:e.firstName.trim(),lastName:e.lastName.trim(),email:e.email?e.email.trim():null,phone:o||null,entityType:e.entityType||null,status:e.status||null};this.apiService.updateClient(this.client.id,n).pipe((0,f.Q)(this.destroy$)).subscribe({next:s=>{this.editLoading=!1,s.success&&(d().fire({title:"Success!",text:"Client updated successfully.",icon:"success"}),this.editClientModal?.hide(),this.loadClientDetails(),this.editClientForm.reset())},error:s=>{this.editLoading=!1,console.error("Error updating client:",s),d().fire({title:"Error",text:"Failed to update client.",icon:"error"})}})}formatPhoneForDisplay(e){if(!e)return"";const o=e.replace(/\D/g,"");return 10===o.length?`(${o.slice(0,3)}) ${o.slice(3,6)}-${o.slice(6)}`:e}formatDate(e){return e?new Date(e).toLocaleDateString():"Not set"}getProjectStatusClass(e){const o=this.projectStatuses.find(n=>n.value===e);return o?o.class:"badge bg-secondary"}getProjectStatusLabel(e){const o=this.projectStatuses.find(n=>n.value===e);return o?o.label:e}getProjectTypeLabel(e){const o=this.projectTypes.find(n=>n.value===e);return o?o.label:e}getInvitationStatusClass(e){switch(e){case"accepted":return"badge bg-success";case"sent":return"badge bg-primary";case"pending":return"badge bg-warning";case"expired":return"badge bg-danger";default:return"badge bg-secondary"}}getIntakeFormStatusClass(e){switch(e){case"completed":return"badge bg-success";case"submitted":return"badge bg-info";case"draft":return"badge bg-warning";default:return"badge bg-secondary"}}get ef(){return this.editClientForm.controls}getActiveProjectsCount(){return this.projects.filter(e=>"active"===e.status||"in_progress"===e.status).length}getCompletedProjectsCount(){return this.projects.filter(e=>"completed"===e.status).length}getPendingIntakeFormsCount(){return this.intakeForms.filter(e=>"draft"===e.response?.status||!e.response).length}formatFileSize(e){if(0===e)return"0 Bytes";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]}toggleNotesEdit(){this.isEditingNotes?(this.isEditingNotes=!1,this.currentNote?(this.meetingNotes=this.currentNote.content,this.noteTitle=this.currentNote.title):(this.meetingNotes="",this.noteTitle="Meeting Notes")):(this.isEditingNotes=!0,setTimeout(()=>{this.notesEditor?.nativeElement&&this.notesEditor.nativeElement.focus()},100))}saveNotes(){this.isSavingNotes=!0,console.log("\u{1f4be} Saving meeting notes:",this.meetingNotes);const e={title:this.noteTitle,content:this.meetingNotes,noteType:this.noteType};(this.currentNote?this.apiService.updateNote(this.currentNote.id,e):this.apiService.createClientNote(this.clientId,e)).subscribe({next:n=>{if(!n.success||!n.note)throw new Error(n.message||"Failed to save notes");this.currentNote=n.note,this.isSavingNotes=!1,this.isEditingNotes=!1,d().fire({title:"Notes Saved!",text:"Meeting notes have been saved successfully.",icon:"success",timer:2e3,showConfirmButton:!1}),this.loadNotes()},error:n=>{console.error("\u274c Error saving notes:",n),this.isSavingNotes=!1,d().fire({title:"Error",text:"Failed to save notes. Please try again.",icon:"error"})}})}onNotesChange(e){this.meetingNotes=e.target.innerHTML}onPaste(e){e.preventDefault();const o=e.clipboardData?.getData("text/plain")||"";document.execCommand("insertText",!1,o)}formatText(e){document.execCommand(e,!1),this.notesEditor?.nativeElement&&this.notesEditor.nativeElement.focus()}insertDateTime(){const n=`<br><strong>\u{1f4c5} ${(new Date).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</strong><br>`;document.execCommand("insertHTML",!1,n),this.notesEditor?.nativeElement&&this.notesEditor.nativeElement.focus()}loadNotes(){this.clientId&&(this.isLoadingNotes=!0,this.apiService.getClientNotes(this.clientId,"MEETING").subscribe({next:e=>{if(e.success){this.allNotes=e.notes;const o=e.notes.find(n=>"MEETING"===n.noteType);o?(this.currentNote=o,this.meetingNotes=o.content,this.noteTitle=o.title):(this.currentNote=null,this.meetingNotes="",this.noteTitle="Meeting Notes")}this.isLoadingNotes=!1},error:e=>{console.error("\u274c Error loading notes:",e),this.isLoadingNotes=!1}}))}formatNotesForDisplay(e){return e?e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,"").replace(/javascript:/gi,""):""}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(p.nX),t.rXU(p.Ix),t.rXU(g.G),t.rXU(r.ze))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-client-detail"]],viewQuery:function(o,n){if(1&o&&(t.GBs(_t,5),t.GBs(ft,5)),2&o){let s;t.mGM(s=t.lsd())&&(n.editClientModal=s.first),t.mGM(s=t.lsd())&&(n.notesEditor=s.first)}},standalone:!0,features:[t.aNF],decls:88,vars:21,consts:[["editClientModal","bs-modal"],["notesEditor",""],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box","d-sm-flex","align-items-center","justify-content-between"],[1,"mb-sm-0","font-size-18"],["title","Go Back to Clients List",1,"bx","bx-arrow-back","me-2","cursor-pointer",3,"click"],[4,"ngIf"],[1,"page-title-right"],["type","button","class","btn btn-outline-success me-2","title","Send Email",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-primary me-2","title","Edit Client",3,"click",4,"ngIf"],["type","button","class","btn btn-primary","title","View All Projects",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["bsModal","","tabindex","-1","aria-labelledby","editClientModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","editClientModalLabel",1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit","formGroup"],[1,"col-lg-6"],[1,"mb-3"],["for","editFirstName",1,"form-label"],[1,"text-danger"],["type","text","id","editFirstName","formControlName","firstName",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","editLastName",1,"form-label"],["type","text","id","editLastName","formControlName","lastName",1,"form-control"],["for","editEmail",1,"form-label"],["type","email","id","editEmail","formControlName","email",1,"form-control"],["for","editPhoneNumber",1,"form-label"],["type","tel","id","editPhoneNumber","formControlName","phoneNumber","placeholder","(555) 123-4567",1,"form-control"],["for","editEntityType",1,"form-label"],["id","editEntityType","formControlName","entityType",1,"form-select"],["value",""],["value","INDIVIDUAL"],["value","BUSINESS"],["for","editStatus",1,"form-label"],["id","editStatus","formControlName","status",1,"form-select"],["value","lead"],["value","invited"],["value","active"],["value","complete"],[1,"col-lg-12"],[1,"text-end"],["type","button",1,"btn","btn-outline-secondary","me-2",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status","aria-hidden","true",4,"ngIf"],["type","button","title","Send Email",1,"btn","btn-outline-success","me-2",3,"click"],[1,"bx","bx-mail-send","me-1"],["type","button","title","Edit Client",1,"btn","btn-outline-primary","me-2",3,"click"],[1,"bx","bx-pencil","me-1"],["type","button","title","View All Projects",1,"btn","btn-primary",3,"click"],[1,"bx","bx-briefcase","me-1"],[1,"card"],[1,"card-body","text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[1,"col-xl-4"],[1,"card-body"],[1,"text-center"],[1,"avatar-lg","mx-auto","mb-4"],[1,"avatar-title","bg-light","text-primary","rounded-circle","font-size-24"],[1,"font-size-16","mb-1"],[1,"text-muted","mb-3"],[1,"table-responsive"],[1,"table","table-borderless","mb-0"],["scope","row",1,"ps-0"],[1,"text-muted"],[1,"badge",3,"ngClass"],[1,"card-title","mb-3"],[1,"col-6"],[1,"mb-1","text-primary"],[1,"text-muted","mb-0","font-size-12"],[1,"mb-1","text-success"],[1,"row","mt-3"],[1,"mb-1","text-warning"],[1,"mb-1","text-info"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"card-title","mb-0"],[1,"bx","bx-note","text-primary","me-2"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],[1,"me-1"],["type","button","class","btn btn-sm btn-success",3,"disabled","click",4,"ngIf"],["class","notes-display",4,"ngIf"],["class","notes-editor",4,"ngIf"],["class","text-center py-4",4,"ngIf"],["class","mt-3 pt-3 border-top",4,"ngIf"],[1,"col-xl-8"],["role","tablist",1,"nav","nav-tabs","nav-tabs-custom","nav-justified"],[1,"nav-item"],["role","tab",1,"nav-link",3,"click"],[1,"bx","bx-home","font-size-20"],[1,"d-none","d-sm-block"],[1,"bx","bx-briefcase","font-size-20"],[1,"bx","bx-file","font-size-20"],[1,"bx","bx-folder","font-size-20"],[1,"bx","bx-mail-send","font-size-20"],["type","button",1,"btn","btn-sm","btn-success",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],["class","bx bx-save me-1",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"bx","bx-save","me-1"],[1,"notes-display"],["class","notes-content p-3 bg-light rounded border",3,"innerHTML",4,"ngIf"],["class","text-center py-4 text-muted",4,"ngIf"],[1,"notes-content","p-3","bg-light","rounded","border",3,"innerHTML"],[1,"text-center","py-4","text-muted"],[1,"bx","bx-note","font-size-24","d-block","mb-2"],[1,"mb-0"],[1,"notes-editor"],[1,"editor-toolbar","mb-2"],["role","group",1,"btn-group","btn-group-sm"],["type","button","title","Bold",1,"btn","btn-outline-secondary",3,"click"],[1,"bx","bx-bold"],["type","button","title","Italic",1,"btn","btn-outline-secondary",3,"click"],[1,"bx","bx-italic"],["type","button","title","Underline",1,"btn","btn-outline-secondary",3,"click"],[1,"bx","bx-underline"],["role","group",1,"btn-group","btn-group-sm","ms-2"],["type","button","title","Bullet List",1,"btn","btn-outline-secondary",3,"click"],[1,"bx","bx-list-ul"],["type","button","title","Numbered List",1,"btn","btn-outline-secondary",3,"click"],[1,"bx","bx-list-ol"],["type","button","title","Insert Date/Time",1,"btn","btn-outline-secondary",3,"click"],[1,"bx","bx-calendar","me-1"],[1,"editor-container"],["contenteditable","true","placeholder","Add your meeting notes here... Use the toolbar above for formatting.",1,"form-control","notes-editor-content",2,"min-height","200px","max-height","400px","overflow-y","auto",3,"input","paste","innerHTML"],[1,"editor-footer","mt-2"],[1,"bx","bx-info-circle","me-1"],[1,"text-center","py-4"],[1,"mt-3","pt-3","border-top"],[1,"bx","bx-time","me-1"],[1,"ms-2"],[1,"card-title","mb-4"],[1,"col-md-6"],["class","text-muted text-center py-3",4,"ngIf"],["class","d-flex align-items-center mb-3",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","mb-3"],[1,"avatar-xs","me-3"],[1,"avatar-title","bg-light","text-primary","rounded-circle"],[1,"bx","bx-briefcase"],[1,"flex-grow-1"],[1,"mb-1","font-size-14"],[1,"text-muted","text-center","py-3"],[1,"bx","bx-briefcase","font-size-24","d-block","mb-2"],[1,"avatar-title","bg-light","text-info","rounded-circle"],[1,"bx","bx-file"],[1,"bx","bx-file","font-size-24","d-block","mb-2"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"bx","bx-plus","me-1"],["class","table-responsive",4,"ngIf"],["class","text-center py-5",4,"ngIf"],[1,"table","table-nowrap","align-middle","mb-0"],[1,"table-light"],[4,"ngFor","ngForOf"],["class","text-muted mb-0 font-size-12",4,"ngIf"],[1,"badge","bg-light","text-dark"],["type","button","title","View Project Details",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bx","bx-show"],[1,"text-center","py-5"],[1,"bx","bx-briefcase","font-size-48","text-muted","d-block","mb-3"],["type","button",1,"btn","btn-primary",3,"click"],["class","col-md-6 mb-4",4,"ngFor","ngForOf"],[1,"col-md-6","mb-4"],[1,"card","border"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"text-muted","font-size-13","mb-2"],["class","text-muted font-size-12 mb-3",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bx","bx-edit","me-1"],[1,"text-muted","font-size-12","mb-3"],[1,"bx","bx-file","font-size-48","text-muted","d-block","mb-3"],["class","mt-4",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"avatar-title","bg-light","text-primary","rounded"],[1,"mb-0","font-size-14"],["type","button",1,"btn","btn-sm","btn-outline-success",3,"click","title"],[1,"bx","bx-download","me-1"],[1,"d-none","d-md-inline"],[1,"mt-4"],["class","col-md-6 mb-3",4,"ngFor","ngForOf"],[1,"col-md-6","mb-3"],[1,"card-body","p-3"],[1,"d-flex","justify-content-between","align-items-start"],[1,"text-muted","mb-2","font-size-12"],[1,"d-flex","align-items-center","gap-2"],["class","text-muted font-size-12",4,"ngIf"],[1,"font-size-20"],[1,"text-muted","font-size-12"],[1,"bx","bx-folder","font-size-48","text-muted","d-block","mb-3"],["class","card border",4,"ngIf"],[1,"row","align-items-center"],[1,"col-md-8"],[1,"mb-2"],[1,"text-muted","mb-2"],["class","text-muted mb-2",4,"ngIf"],[1,"text-muted","mb-0"],[1,"col-md-4","text-end"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"bx","bx-mail-send","font-size-48","text-muted","d-block","mb-3"],[1,"bx","bx-user-x","font-size-48","text-muted","d-block","mb-3"],[1,"bx","bx-arrow-back","me-1"],[1,"invalid-feedback"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(o,n){if(1&o){const s=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h4",6)(5,"i",7),t.bIt("click",function(){return t.eBV(s),t.Njj(n.goBack())}),t.k0s(),t.DNE(6,bt,2,2,"span",8)(7,gt,2,0,"span",8),t.k0s(),t.j41(8,"div",9),t.DNE(9,vt,3,0,"button",10)(10,Ct,3,0,"button",11)(11,ht,3,0,"button",12),t.k0s()()()(),t.DNE(12,Ft,9,0,"div",13)(13,ae,118,42,"div",13)(14,re,12,0,"div",13),t.k0s(),t.j41(15,"div",14,0)(17,"div",15)(18,"div",16)(19,"div",17)(20,"h5",18),t.EFF(21,"Edit Client"),t.k0s(),t.j41(22,"button",19),t.bIt("click",function(){t.eBV(s);const a=t.sdS(16);return t.Njj(null==a?null:a.hide())}),t.k0s()(),t.j41(23,"div",20)(24,"form",21),t.bIt("ngSubmit",function(){return t.eBV(s),t.Njj(n.updateClient())}),t.j41(25,"div",3)(26,"div",22)(27,"div",23)(28,"label",24),t.EFF(29,"First Name "),t.j41(30,"span",25),t.EFF(31,"*"),t.k0s()(),t.nrm(32,"input",26),t.DNE(33,de,2,1,"div",27),t.k0s()(),t.j41(34,"div",22)(35,"div",23)(36,"label",28),t.EFF(37,"Last Name "),t.j41(38,"span",25),t.EFF(39,"*"),t.k0s()(),t.nrm(40,"input",29),t.DNE(41,ue,2,1,"div",27),t.k0s()()(),t.j41(42,"div",3)(43,"div",22)(44,"div",23)(45,"label",30),t.EFF(46,"Email"),t.k0s(),t.nrm(47,"input",31),t.DNE(48,_e,2,1,"div",27),t.k0s()(),t.j41(49,"div",22)(50,"div",23)(51,"label",32),t.EFF(52,"Phone Number"),t.k0s(),t.nrm(53,"input",33),t.k0s()()(),t.j41(54,"div",3)(55,"div",22)(56,"div",23)(57,"label",34),t.EFF(58,"Entity Type"),t.k0s(),t.j41(59,"select",35)(60,"option",36),t.EFF(61,"Select Entity Type"),t.k0s(),t.j41(62,"option",37),t.EFF(63,"Individual"),t.k0s(),t.j41(64,"option",38),t.EFF(65,"Business"),t.k0s()()()(),t.j41(66,"div",22)(67,"div",23)(68,"label",39),t.EFF(69,"Status"),t.k0s(),t.j41(70,"select",40)(71,"option",36),t.EFF(72,"Select Status"),t.k0s(),t.j41(73,"option",41),t.EFF(74,"Lead"),t.k0s(),t.j41(75,"option",42),t.EFF(76,"Invited"),t.k0s(),t.j41(77,"option",43),t.EFF(78,"Active"),t.k0s(),t.j41(79,"option",44),t.EFF(80,"Complete"),t.k0s()()()()(),t.j41(81,"div",45)(82,"div",46)(83,"button",47),t.bIt("click",function(){t.eBV(s);const a=t.sdS(16);return t.Njj(null==a?null:a.hide())}),t.EFF(84,"Cancel"),t.k0s(),t.j41(85,"button",48),t.DNE(86,fe,1,0,"span",49),t.EFF(87," Update Client "),t.k0s()()()()()()()()}2&o&&(t.R7$(6),t.Y8G("ngIf",n.client),t.R7$(),t.Y8G("ngIf",!n.client),t.R7$(2),t.Y8G("ngIf",n.client&&n.client.email),t.R7$(),t.Y8G("ngIf",n.client),t.R7$(),t.Y8G("ngIf",n.client),t.R7$(),t.Y8G("ngIf",n.isLoading),t.R7$(),t.Y8G("ngIf",!n.isLoading&&n.client),t.R7$(),t.Y8G("ngIf",!n.isLoading&&!n.client),t.R7$(10),t.Y8G("formGroup",n.editClientForm),t.R7$(8),t.AVh("is-invalid",n.editSubmitted&&n.ef.firstName.errors),t.R7$(),t.Y8G("ngIf",n.editSubmitted&&n.ef.firstName.errors),t.R7$(7),t.AVh("is-invalid",n.editSubmitted&&n.ef.lastName.errors),t.R7$(),t.Y8G("ngIf",n.editSubmitted&&n.ef.lastName.errors),t.R7$(6),t.AVh("is-invalid",n.editSubmitted&&n.ef.email.errors),t.R7$(),t.Y8G("ngIf",n.editSubmitted&&n.ef.email.errors),t.R7$(35),t.Y8G("disabled",n.editLoading),t.R7$(2),t.Y8G("disabled",n.editLoading),t.R7$(),t.Y8G("ngIf",n.editLoading))},dependencies:[u.MD,u.YU,u.Sq,u.bT,u.PV,r.YN,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.X1,r.j4,r.JD,_.Q_,_.hZ],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.avatar-lg[_ngcontent-%COMP%]{height:5rem;width:5rem}.avatar-xs[_ngcontent-%COMP%]{height:2rem;width:2rem}.avatar-title[_ngcontent-%COMP%]{align-items:center;background-color:var(--bs-primary);color:#fff;display:flex;font-weight:500;height:100%;justify-content:center;width:100%}.nav-tabs-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:none;color:#74788d;padding:12px 20px}.nav-tabs-custom[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:transparent;border-bottom:2px solid var(--bs-primary);color:var(--bs-primary)}.nav-tabs-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{border:none;color:var(--bs-primary)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:#495057;border-top:none}.card[_ngcontent-%COMP%]{box-shadow:0 .125rem .25rem #00000013;border:1px solid rgba(0,0,0,.125)}.card-title[_ngcontent-%COMP%]{color:#495057;font-weight:600}.badge[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500}.text-muted[_ngcontent-%COMP%]{color:#74788d!important}.font-size-12[_ngcontent-%COMP%]{font-size:.75rem!important}.font-size-13[_ngcontent-%COMP%]{font-size:.8125rem!important}.font-size-14[_ngcontent-%COMP%]{font-size:.875rem!important}.font-size-16[_ngcontent-%COMP%]{font-size:1rem!important}.font-size-18[_ngcontent-%COMP%]{font-size:1.125rem!important}.font-size-20[_ngcontent-%COMP%]{font-size:1.25rem!important}.font-size-24[_ngcontent-%COMP%]{font-size:1.5rem!important}.font-size-48[_ngcontent-%COMP%]{font-size:3rem!important}.notes-display[_ngcontent-%COMP%]   .notes-content[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;line-height:1.6;color:#333}.notes-display[_ngcontent-%COMP%]   .notes-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .notes-display[_ngcontent-%COMP%]   .notes-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .notes-display[_ngcontent-%COMP%]   .notes-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .notes-display[_ngcontent-%COMP%]   .notes-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .notes-display[_ngcontent-%COMP%]   .notes-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .notes-display[_ngcontent-%COMP%]   .notes-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:.5rem;color:#2c3e50}.notes-display[_ngcontent-%COMP%]   .notes-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.75rem}.notes-display[_ngcontent-%COMP%]   .notes-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .notes-display[_ngcontent-%COMP%]   .notes-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-left:1.5rem;margin-bottom:.75rem}.notes-display[_ngcontent-%COMP%]   .notes-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.notes-display[_ngcontent-%COMP%]   .notes-content[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-style:italic;color:#5a6c7d}.notes-editor[_ngcontent-%COMP%]   .editor-toolbar[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #dee2e6;border-radius:.375rem .375rem 0 0;padding:.5rem}.notes-editor[_ngcontent-%COMP%]   .editor-toolbar[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-color:#dee2e6}.notes-editor[_ngcontent-%COMP%]   .editor-toolbar[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#e9ecef;border-color:#adb5bd}.notes-editor[_ngcontent-%COMP%]   .editor-toolbar[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .notes-editor[_ngcontent-%COMP%]   .editor-toolbar[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{box-shadow:0 0 0 .2rem #0d6efd40}.notes-editor[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .notes-editor-content[_ngcontent-%COMP%]{border-radius:0 0 .375rem .375rem;border-top:none;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;line-height:1.6;resize:vertical}.notes-editor[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .notes-editor-content[_ngcontent-%COMP%]:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.notes-editor[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .notes-editor-content[contenteditable=true][_ngcontent-%COMP%]:empty:before{content:attr(placeholder);color:#6c757d;font-style:italic}.notes-editor[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .notes-editor-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .notes-editor[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .notes-editor-content[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.notes-editor[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .notes-editor-content[_ngcontent-%COMP%]   em[_ngcontent-%COMP%], .notes-editor[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .notes-editor-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-style:italic;color:#5a6c7d}.notes-editor[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .notes-editor-content[_ngcontent-%COMP%]   u[_ngcontent-%COMP%]{text-decoration:underline}.notes-editor[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .notes-editor-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .notes-editor[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .notes-editor-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-left:1.5rem;margin-bottom:.75rem}.notes-editor[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .notes-editor-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .notes-editor[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .notes-editor-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.25rem}.notes-editor[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .notes-editor-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc}.notes-editor[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .notes-editor-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{list-style-type:decimal}.notes-editor[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .notes-editor-content[_ngcontent-%COMP%]   .datetime-stamp[_ngcontent-%COMP%]{color:#0d6efd;font-weight:500;border-left:3px solid #0d6efd;padding-left:.75rem;margin:1rem 0;background:#0d6efd0d;border-radius:.25rem}.notes-editor[_ngcontent-%COMP%]   .editor-footer[_ngcontent-%COMP%]{font-size:.875rem}.notes-editor[_ngcontent-%COMP%]   .editor-footer[_ngcontent-%COMP%]   .bx-info-circle[_ngcontent-%COMP%]{color:#0d6efd}.card[_ngcontent-%COMP%]:has(.notes-editor), .card[_ngcontent-%COMP%]:has(.notes-display){box-shadow:0 .125rem .25rem #00000013;border:1px solid rgba(0,0,0,.125)}.card[_ngcontent-%COMP%]:has(.notes-editor)   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:has(.notes-display)   .card-title[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600}.card[_ngcontent-%COMP%]:has(.notes-editor)   .card-title[_ngcontent-%COMP%]   .bx-note[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:has(.notes-display)   .card-title[_ngcontent-%COMP%]   .bx-note[_ngcontent-%COMP%]{font-size:1.25rem}.btn-sm.btn-outline-primary[_ngcontent-%COMP%]{border-color:#0d6efd;color:#0d6efd}.btn-sm.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#0d6efd;border-color:#0d6efd;color:#fff}.btn-sm.btn-outline-primary[_ngcontent-%COMP%]:disabled{opacity:.65;cursor:not-allowed}.btn-sm.btn-success[_ngcontent-%COMP%]{background-color:#198754;border-color:#198754}.btn-sm.btn-success[_ngcontent-%COMP%]:hover{background-color:#157347;border-color:#146c43}.btn-sm.btn-success[_ngcontent-%COMP%]:disabled{opacity:.65;cursor:not-allowed}@media (max-width: 768px){.notes-editor[_ngcontent-%COMP%]   .editor-toolbar[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin-bottom:.5rem}.notes-editor[_ngcontent-%COMP%]   .editor-toolbar[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.notes-editor[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .notes-editor-content[_ngcontent-%COMP%]{min-height:150px;font-size:.9rem}.d-flex.gap-2[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem!important}.d-flex.gap-2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}.notes-display[_ngcontent-%COMP%], .notes-editor[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #00000026;transition:all .3s ease-in-out}.tab-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.nav-tabs-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:8px 12px;font-size:.875rem}.nav-tabs-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none!important}.page-title-box[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important;gap:1rem}.page-title-right[_ngcontent-%COMP%]{width:100%}.page-title-right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}}.bg-success[_ngcontent-%COMP%]{background-color:#34c38f!important}.bg-primary[_ngcontent-%COMP%]{background-color:#556ee6!important}.bg-warning[_ngcontent-%COMP%]{background-color:#f1b44c!important}.bg-danger[_ngcontent-%COMP%]{background-color:#f46a6a!important}.bg-info[_ngcontent-%COMP%]{background-color:#50a5f1!important}.bg-light[_ngcontent-%COMP%]{background-color:#f8f9fa!important;color:#495057!important}.spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}.empty-state[_ngcontent-%COMP%]{padding:3rem 1rem;text-align:center}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.5;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#495057;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#74788d;margin-bottom:1.5rem}.modal-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #dee2e6}.modal-title[_ngcontent-%COMP%]{color:#495057;font-weight:600}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#495057;margin-bottom:.5rem}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:var(--bs-primary);box-shadow:0 0 0 .2rem #556ee640}.is-invalid[_ngcontent-%COMP%]{border-color:#f46a6a}.invalid-feedback[_ngcontent-%COMP%]{color:#f46a6a;font-size:.875rem}.quick-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{text-align:center;padding:1rem}.quick-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.25rem}.quick-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:.5px;margin-bottom:0}.document-card[_ngcontent-%COMP%], .form-card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.document-card[_ngcontent-%COMP%]:hover, .form-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 .5rem 1rem #00000026}.avatar-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;text-transform:uppercase}"]})}}return i})();var C=m(400);const be=[{path:"list",component:ut,canActivate:[C.K],data:{role:"ACCOUNTANT"}},{path:"detail/:id",component:v,canActivate:[C.K],data:{role:"ACCOUNTANT"}}];let ge=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[p.iI.forChild(be),p.iI]})}}return i})(),ve=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[u.MD,ge,v]})}}return i})()}}]);
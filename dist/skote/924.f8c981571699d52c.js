"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[924],{6924:(L,p,o)=>{o.r(p),o.d(p,{ClientPortalAppLayoutComponent:()=>y});var r=o(177),s=o(803),c=o(5236);const g=[{id:1,label:"MENUITEMS.PORTAL.DASHBOARD.TEXT",icon:"bx-home-circle",link:"/client-portal/dashboard"},{id:2,label:"MENUITEMS.PORTAL.DOCUMENTS.TEXT",icon:"bx-file",link:"/client-portal/documents"},{id:3,label:"MENUITEMS.PORTAL.INTAKE.TEXT",icon:"bx-edit",link:"/client-portal/intake"},{id:4,label:"MENUITEMS.PORTAL.CHAT.TEXT",icon:"bx-chat",link:"/client-portal/chat"},{id:5,isLayout:!0},{id:6,label:"MENUITEMS.PORTAL.LOGOUT.TEXT",icon:"bx-log-out",link:"/auth/login"}];var u=o(8580),e=o(4438),h=o(6344),f=o(3318),v=o(2490);const b=i=>({active:i});function k(i,a){if(1&i&&e.nrm(0,"img",14),2&i){const t=e.XpG();e.FS9("src",t.valueset,e.B4B)}}function x(i,a){if(1&i&&e.nrm(0,"img",14),2&i){const t=e.XpG();e.FS9("src",t.flagvalue,e.B4B)}}function E(i,a){if(1&i){const t=e.RV6();e.j41(0,"a",24),e.bIt("click",function(){const l=e.eBV(t).$implicit,m=e.XpG(2);return e.Njj(m.setLanguage(l.text,l.lang,l.flag))}),e.nrm(1,"img",25),e.j41(2,"span",26),e.EFF(3),e.k0s()()}if(2&i){const t=a.$implicit,n=e.XpG(2);e.Y8G("ngClass",e.eq3(3,b,n.cookieValue===t.lang)),e.R7$(),e.FS9("src",t.flag,e.B4B),e.R7$(2),e.JRh(t.text)}}function T(i,a){if(1&i&&(e.j41(0,"div",22),e.Z7z(1,E,4,5,"a",23,e.Vm6),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Dyx(t.listLang)}}function F(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",22)(1,"a",27),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.logout())}),e.nrm(2,"i",28),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"HEADER.LOGIN.LOGOUT")," "))}let C=(()=>{class i{constructor(t,n,l,m,d,M){this.document=t,this.router=n,this.apiService=l,this.languageService=m,this.translate=d,this._cookiesService=M,this.userEmail="client@example.com",this.listLang=[{text:"English",flag:"assets/images/flags/us.jpg",lang:"en"},{text:"Spanish",flag:"assets/images/flags/spain.jpg",lang:"es"},{text:"German",flag:"assets/images/flags/germany.jpg",lang:"de"},{text:"Italian",flag:"assets/images/flags/italy.jpg",lang:"it"},{text:"Russian",flag:"assets/images/flags/russia.jpg",lang:"ru"}]}ngOnInit(){this.element=document.documentElement,this.loadUserEmail(),this.cookieValue=this._cookiesService.get("lang");const t=this.listLang.filter(n=>n.lang===this.cookieValue);this.countryName=t.map(n=>n.text),0===t.length?void 0===this.flagvalue&&(this.valueset="assets/images/flags/us.jpg"):this.flagvalue=t.map(n=>n.flag)}loadUserEmail(){const t=localStorage.getItem("currentUser");if(t)try{const n=JSON.parse(t);this.userEmail=n.email||n.emailAddress||n.username||"client@firmpilot.com"}catch(n){console.error("Error parsing user data:",n),this.userEmail="client@firmpilot.com"}else this.userEmail="client@firmpilot.com"}setLanguage(t,n,l){this.countryName=t,this.flagvalue=l,this.cookieValue=n,this.languageService.setLanguage(n)}toggleMobileMenu(t){t.preventDefault();const n=new CustomEvent("mobileMenuToggle");document.dispatchEvent(n)}fullscreen(){document.body.classList.toggle("fullscreen-enable"),document.fullscreenElement||this.element.mozFullScreenElement||this.element.webkitFullscreenElement?this.document.exitFullscreen?this.document.exitFullscreen():this.document.mozCancelFullScreen?this.document.mozCancelFullScreen():this.document.webkitExitFullscreen?this.document.webkitExitFullscreen():this.document.msExitFullscreen&&this.document.msExitFullscreen():this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen?this.element.webkitRequestFullscreen():this.element.msRequestFullscreen&&this.element.msRequestFullscreen()}logout(){this.apiService.logout().subscribe({next:t=>{localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),this.router.navigate(["/auth/login"])},error:t=>{console.error("Logout API error:",t),localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),this.router.navigate(["/auth/login"])}})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(r.qQ),e.rXU(s.Ix),e.rXU(h.G),e.rXU(f.g),e.rXU(c.c$),e.rXU(v.O))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-client-portal-topbar"]],standalone:!0,features:[e.aNF],decls:35,vars:2,consts:[["id","page-topbar"],[1,"navbar-header"],[1,"d-flex"],[1,"navbar-brand-box",2,"padding-top","25px"],["routerLink","/client-portal",1,"logo","logo-dark"],[1,"logo-sm"],[1,"mb-0","text-dark","font-weight-bold"],[1,"logo-lg"],["routerLink","/client-portal",1,"logo","logo-light"],[1,"mb-0","text-light","font-weight-bold"],["type","button","id","vertical-menu-btn",1,"btn","btn-sm","px-3","font-size-16","header-item",3,"click"],[1,"fa","fa-fw","fa-bars"],["dropdown","",1,"dropdown","d-inline-block"],["type","button","id","page-header-user-dropdown","dropdownToggle","",1,"btn","header-item"],["alt","Header Language","height","16",3,"src"],["class","dropdown-menu dropdown-menu-end",4,"dropdownMenu"],[1,"dropdown","d-none","d-lg-inline-block","ms-1"],["type","button","data-bs-toggle","fullscreen",1,"btn","header-item","noti-icon","waves-effect",3,"click"],[1,"bx","bx-fullscreen"],["type","button","dropdownToggle","","id","page-header-user-dropdown",1,"btn","header-item"],[1,"d-none","d-xl-inline-block","ms-1"],[1,"mdi","mdi-chevron-down","d-none","d-xl-inline-block"],[1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);",1,"dropdown-item","notify-item",3,"ngClass"],["href","javascript:void(0);",1,"dropdown-item","notify-item",3,"click","ngClass"],["alt","user-image","height","12",1,"me-1",3,"src"],[1,"align-middle"],["href","javascript: void(0);",1,"dropdown-item","text-danger",3,"click"],[1,"bx","bx-power-off","font-size-16","align-middle","me-1","text-danger"]],template:function(n,l){1&n&&(e.j41(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"span",5)(6,"h6",6),e.EFF(7,"FP"),e.k0s()(),e.j41(8,"span",7)(9,"h5",6),e.EFF(10,"Firm Pilot"),e.k0s()()(),e.j41(11,"a",8)(12,"span",5)(13,"h6",9),e.EFF(14,"FP"),e.k0s()(),e.j41(15,"span",7)(16,"h5",9),e.EFF(17,"Firm Pilot"),e.k0s()()()(),e.j41(18,"button",10),e.bIt("click",function(d){return l.toggleMobileMenu(d)}),e.nrm(19,"i",11),e.k0s()(),e.j41(20,"div",2)(21,"div",12)(22,"button",13),e.DNE(23,k,1,1,"img",14)(24,x,1,1,"img",14),e.k0s(),e.DNE(25,T,3,0,"div",15),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return l.fullscreen()}),e.nrm(28,"i",18),e.k0s()(),e.j41(29,"div",12)(30,"button",19)(31,"span",20),e.EFF(32),e.k0s(),e.nrm(33,"i",21),e.k0s(),e.DNE(34,F,5,3,"div",15),e.k0s()()()()),2&n&&(e.R7$(23),e.vxM(void 0===l.flagvalue?23:24),e.R7$(9),e.JRh(l.userEmail))},dependencies:[r.MD,r.YU,s.iI,s.Wk,c.h,c.D9,u.zE,u.hs,u.UL,u.Kk]})}}return i})();function _(i,a){1&i&&e.nrm(0,"li",22)}function I(i,a){if(1&i&&(e.j41(0,"li")(1,"a",23),e.nrm(2,"i"),e.j41(3,"span",24),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&i){const t=e.XpG().$implicit;e.R7$(),e.Y8G("routerLink",t.link),e.R7$(),e.HbH("bx "+t.icon),e.R7$(2),e.JRh(e.bMT(5,4,t.label))}}function P(i,a){if(1&i&&(e.qex(0),e.DNE(1,_,1,0,"li",20)(2,I,6,6,"li",21),e.bVm()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngIf",t.isLayout),e.R7$(),e.Y8G("ngIf",!t.isLayout&&t.link)}}let y=(()=>{class i{constructor(t,n){this.router=t,this.translate=n,this.menuItems=[],this.userEmail="client@example.com",this.userDisplayName="Client",this.isMenuOpen=!1}ngOnInit(){this.translate.setDefaultLang("en"),this.translate.use("en"),this.menuItems=g,this.loadUserInfo()}loadUserInfo(){const t=localStorage.getItem("currentUser");if(t)try{const n=JSON.parse(t);this.userEmail=n.email||n.emailAddress||n.username||"client@example.com",this.userDisplayName=this.userEmail.split("@")[0]}catch(n){console.error("Error parsing user data:",n),this.userEmail="client@example.com",this.userDisplayName="Client"}}toggleMenu(){this.isMenuOpen=!this.isMenuOpen;const t=document.querySelector(".vertical-menu");t&&t.classList.toggle("show")}logout(){localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),this.router.navigate(["/auth/login"])}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(s.Ix),e.rXU(c.c$))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-client-portal-app-layout"]],standalone:!0,features:[e.aNF],decls:31,vars:5,consts:[["id","layout-wrapper"],[1,"vertical-menu"],["data-simplebar","",1,"h-100"],["id","sidebar-menu"],["id","side-menu",1,"metismenu","list-unstyled"],["key","t-menu",1,"menu-title"],[4,"ngFor","ngForOf"],[1,"main-content"],[1,"page-content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box","d-sm-flex","align-items-center","justify-content-between"],[1,"mb-sm-0","font-size-18"],[1,"page-title-right"],[1,"breadcrumb","m-0"],[1,"breadcrumb-item","active"],[1,"footer"],[1,"col-sm-6"],[1,"text-sm-end","d-none","d-sm-block"],["class","menu-title",4,"ngIf"],[4,"ngIf"],[1,"menu-title"],["routerLinkActive","mm-active",1,"waves-effect",3,"routerLink"],["key","t-dashboard"]],template:function(n,l){1&n&&(e.j41(0,"div",0),e.nrm(1,"app-client-portal-topbar"),e.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"ul",4)(6,"li",5),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.DNE(9,P,3,2,"ng-container",6),e.k0s()()()(),e.j41(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),e.EFF(17,"Client Portal"),e.k0s(),e.j41(18,"div",14)(19,"ol",15)(20,"li",16),e.EFF(21),e.k0s()()()()()(),e.nrm(22,"router-outlet"),e.k0s()(),e.j41(23,"footer",17)(24,"div",9)(25,"div",10)(26,"div",18),e.EFF(27," \xa9 Firm Pilot. "),e.k0s(),e.j41(28,"div",18)(29,"div",19),e.EFF(30," Client Portal "),e.k0s()()()()()()()),2&n&&(e.R7$(7),e.JRh(e.bMT(8,3,"MENUITEMS.PORTAL.NAVIGATION.TEXT")),e.R7$(2),e.Y8G("ngForOf",l.menuItems),e.R7$(12),e.SpI("Welcome, ",l.userDisplayName,""))},dependencies:[r.MD,r.Sq,r.bT,s.iI,s.n3,s.Wk,s.wQ,c.h,c.D9,C],styles:[".vertical-menu[_ngcontent-%COMP%]{width:250px;z-index:1001;background:#2a3042;position:fixed;top:70px;bottom:0;left:0;transition:all .3s ease}.main-content[_ngcontent-%COMP%]{margin-left:250px;margin-top:70px;min-height:calc(100vh - 70px)}.footer[_ngcontent-%COMP%]{padding:24px 0;border-top:1px solid #eff2f7}@media (max-width: 768px){.vertical-menu[_ngcontent-%COMP%]{margin-left:-250px}.main-content[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 992px){.vertical-menu[_ngcontent-%COMP%]{margin-left:-250px;transition:all .3s}.main-content[_ngcontent-%COMP%], .vertical-menu.show[_ngcontent-%COMP%]{margin-left:0}}"]})}}return i})()}}]);
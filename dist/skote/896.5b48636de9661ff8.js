"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[896],{9896:(O,u,r)=>{r.r(u),r.d(u,{TaxConsultantModule:()=>P});var d=r(177),l=r(9417),p=r(803),h=r(8032),m=r.n(h),t=r(4438);function f(o,c){if(1&o){const e=t.RV6();t.j41(0,"button",64),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,s=t.XpG();return t.Njj(s.updateStatus(n,"reviewed"))}),t.nrm(1,"i",65),t.k0s()}}function b(o,c){if(1&o){const e=t.RV6();t.j41(0,"button",66),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,s=t.XpG();return t.Njj(s.updateStatus(n,"needs-revision"))}),t.nrm(1,"i",67),t.k0s()}}function F(o,c){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"div")(3,"h6",49),t.EFF(4),t.k0s(),t.j41(5,"p",50),t.EFF(6),t.k0s()()(),t.j41(7,"td")(8,"span",51),t.EFF(9),t.k0s()(),t.j41(10,"td"),t.EFF(11),t.nI1(12,"date"),t.k0s(),t.j41(13,"td")(14,"div",52)(15,"span",53),t.EFF(16),t.nI1(17,"titlecase"),t.k0s(),t.j41(18,"ul",54)(19,"li")(20,"a",55),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.updateStatus(n,"pending"))}),t.EFF(21,"Pending"),t.k0s()(),t.j41(22,"li")(23,"a",55),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.updateStatus(n,"reviewed"))}),t.EFF(24,"Reviewed"),t.k0s()(),t.j41(25,"li")(26,"a",55),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.updateStatus(n,"approved"))}),t.EFF(27,"Approved"),t.k0s()(),t.j41(28,"li")(29,"a",55),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.updateStatus(n,"needs-revision"))}),t.EFF(30,"Needs Revision"),t.k0s()()()()(),t.j41(31,"td")(32,"div",11)(33,"div",56),t.nrm(34,"div",57),t.k0s(),t.j41(35,"span",58),t.EFF(36),t.k0s()()(),t.j41(37,"td"),t.EFF(38),t.nI1(39,"date"),t.k0s(),t.j41(40,"td")(41,"div",59)(42,"button",60),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.viewForm(n))}),t.nrm(43,"i",61),t.k0s(),t.DNE(44,f,2,0,"button",62)(45,b,2,0,"button",63),t.k0s()()()}if(2&o){const e=c.$implicit,i=t.XpG();t.R7$(4),t.JRh(e.clientName),t.R7$(2),t.JRh(e.clientEmail),t.R7$(3),t.SpI(" ",i.getFormTypeDisplay(e.formType)," "),t.R7$(2),t.JRh(t.i5U(12,15,e.submissionDate,"short")),t.R7$(4),t.HbH(i.getStatusClass(e.status)),t.R7$(),t.SpI(" ",t.bMT(17,18,e.status)," "),t.R7$(18),t.HbH(100===e.completionPercentage?"bg-success":"bg-warning"),t.xc7("width",e.completionPercentage,"%"),t.R7$(2),t.SpI("",e.completionPercentage,"%"),t.R7$(2),t.JRh(t.i5U(39,20,e.lastModified,"short")),t.R7$(6),t.Y8G("ngIf","pending"===e.status),t.R7$(),t.Y8G("ngIf","reviewed"===e.status)}}function _(o,c){1&o&&(t.j41(0,"tr")(1,"td",68),t.EFF(2," No intake forms found matching your criteria. "),t.k0s()())}let v=(()=>{class o{constructor(){this.intakeForms=[],this.filteredForms=[],this.selectedStatus="all",this.selectedFormType="all",this.searchTerm="",this.stats={total:0,pending:0,reviewed:0,approved:0,needsRevision:0}}ngOnInit(){this.loadIntakeForms(),this.calculateStats()}loadIntakeForms(){this.intakeForms=[{id:1,clientId:101,clientName:"John Smith",clientEmail:"john.smith@email.com",submissionDate:"2024-02-15T10:30:00Z",status:"pending",formType:"tax-intake",completionPercentage:100,lastModified:"2024-02-15T10:30:00Z"},{id:2,clientId:102,clientName:"Sarah Johnson",clientEmail:"sarah.johnson@email.com",submissionDate:"2024-02-14T14:20:00Z",status:"reviewed",formType:"tax-intake",completionPercentage:100,lastModified:"2024-02-16T09:15:00Z"},{id:3,clientId:103,clientName:"Michael Brown",clientEmail:"michael.brown@email.com",submissionDate:"2024-02-13T16:45:00Z",status:"approved",formType:"tax-intake",completionPercentage:100,lastModified:"2024-02-17T11:30:00Z"},{id:4,clientId:104,clientName:"Emily Davis",clientEmail:"emily.davis@email.com",submissionDate:"2024-02-12T09:10:00Z",status:"needs-revision",formType:"tax-intake",completionPercentage:85,lastModified:"2024-02-16T15:20:00Z"},{id:5,clientId:105,clientName:"Robert Wilson",clientEmail:"robert.wilson@email.com",submissionDate:"2024-02-11T13:25:00Z",status:"pending",formType:"business-intake",completionPercentage:92,lastModified:"2024-02-11T13:25:00Z"}],this.filteredForms=[...this.intakeForms]}calculateStats(){this.stats.total=this.intakeForms.length,this.stats.pending=this.intakeForms.filter(e=>"pending"===e.status).length,this.stats.reviewed=this.intakeForms.filter(e=>"reviewed"===e.status).length,this.stats.approved=this.intakeForms.filter(e=>"approved"===e.status).length,this.stats.needsRevision=this.intakeForms.filter(e=>"needs-revision"===e.status).length}filterForms(){this.filteredForms=this.intakeForms.filter(e=>{const i="all"===this.selectedStatus||e.status===this.selectedStatus,n="all"===this.selectedFormType||e.formType===this.selectedFormType,s=e.clientName.toLowerCase().includes(this.searchTerm.toLowerCase())||e.clientEmail.toLowerCase().includes(this.searchTerm.toLowerCase());return i&&n&&s})}onStatusChange(){this.filterForms()}onFormTypeChange(){this.filterForms()}onSearchChange(){this.filterForms()}getStatusClass(e){switch(e){case"approved":return"badge bg-success";case"reviewed":return"badge bg-info";case"pending":return"badge bg-warning";case"needs-revision":return"badge bg-danger";default:return"badge bg-secondary"}}getFormTypeDisplay(e){switch(e){case"tax-intake":return"Tax Intake";case"business-intake":return"Business Intake";default:return e}}viewForm(e){m().fire({title:"View Intake Form",text:`Opening ${e.formType} form for ${e.clientName}`,icon:"info",timer:2e3,showConfirmButton:!1})}updateStatus(e,i){const n=e.status;e.status=i,e.lastModified=(new Date).toISOString(),this.calculateStats(),this.filterForms(),m().fire({title:"Status Updated",text:`Form status changed from ${n} to ${i}`,icon:"success",timer:2e3,showConfirmButton:!1})}exportForms(){m().fire({title:"Export Started",text:"Preparing intake forms export...",icon:"info",timer:2e3,showConfirmButton:!1})}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-intake-forms"]],decls:116,vars:9,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box","d-sm-flex","align-items-center","justify-content-between"],[1,"mb-sm-0","font-size-18"],[1,"page-title-right"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[1,"ri-download-line","me-1"],[1,"col-xl-3","col-md-6"],[1,"card","card-h-100"],[1,"card-body"],[1,"d-flex","align-items-center"],[1,"flex-grow-1"],[1,"text-muted","mb-3","lh-1","d-block","text-truncate"],[1,"mb-3"],[1,"flex-shrink-0"],["id","mini-chart1","data-colors",'["#5156be"]'],[1,"counter-value"],[1,"avatar-sm","rounded-circle","bg-warning-subtle"],[1,"avatar-title","rounded-circle","bg-warning-subtle","text-warning"],[1,"ri-time-line","font-size-24"],[1,"avatar-sm","rounded-circle","bg-success-subtle"],[1,"avatar-title","rounded-circle","bg-success-subtle","text-success"],[1,"ri-check-line","font-size-24"],[1,"avatar-sm","rounded-circle","bg-danger-subtle"],[1,"avatar-title","rounded-circle","bg-danger-subtle","text-danger"],[1,"ri-error-warning-line","font-size-24"],[1,"card"],[1,"row","mb-4"],[1,"col-md-3"],["for","statusFilter",1,"form-label"],["id","statusFilter",1,"form-select",3,"ngModelChange","change","ngModel"],["value","all"],["value","pending"],["value","reviewed"],["value","approved"],["value","needs-revision"],["for","formTypeFilter",1,"form-label"],["id","formTypeFilter",1,"form-select",3,"ngModelChange","change","ngModel"],["value","tax-intake"],["value","business-intake"],[1,"col-md-6"],["for","searchInput",1,"form-label"],["type","text","id","searchInput","placeholder","Search by client name or email...",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"table-responsive"],[1,"table","table-nowrap","table-hover"],[1,"table-light"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mb-1"],[1,"text-muted","mb-0","font-size-12"],[1,"badge","bg-primary-subtle","text-primary"],[1,"dropdown"],["data-bs-toggle","dropdown",1,"dropdown-toggle",2,"cursor","pointer"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"progress","flex-grow-1","me-2",2,"height","6px"],[1,"progress-bar"],[1,"text-muted","font-size-12"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"ri-eye-line"],["type","button","class","btn btn-sm btn-outline-success",3,"click",4,"ngIf"],["type","button","class","btn btn-sm btn-outline-warning",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-outline-success",3,"click"],[1,"ri-check-line"],["type","button",1,"btn","btn-sm","btn-outline-warning",3,"click"],[1,"ri-edit-line"],["colspan","7",1,"text-center","text-muted","py-4"]],template:function(i,n){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t.EFF(5,"Client Intake Forms"),t.k0s(),t.j41(6,"div",5)(7,"button",6),t.bIt("click",function(){return n.exportForms()}),t.nrm(8,"i",7),t.EFF(9,"Export Forms "),t.k0s()()()()(),t.j41(10,"div",1)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"span",13),t.EFF(17,"Total Forms"),t.k0s(),t.j41(18,"h4",14),t.EFF(19),t.k0s()(),t.j41(20,"div",15),t.nrm(21,"div",16),t.k0s()()()()(),t.j41(22,"div",8)(23,"div",9)(24,"div",10)(25,"div",11)(26,"div",12)(27,"span",13),t.EFF(28,"Pending Review"),t.k0s(),t.j41(29,"h4",14)(30,"span",17),t.EFF(31),t.k0s()()(),t.j41(32,"div",15)(33,"div",18)(34,"span",19),t.nrm(35,"i",20),t.k0s()()()()()()(),t.j41(36,"div",8)(37,"div",9)(38,"div",10)(39,"div",11)(40,"div",12)(41,"span",13),t.EFF(42,"Approved"),t.k0s(),t.j41(43,"h4",14),t.EFF(44),t.k0s()(),t.j41(45,"div",15)(46,"div",21)(47,"span",22),t.nrm(48,"i",23),t.k0s()()()()()()(),t.j41(49,"div",8)(50,"div",9)(51,"div",10)(52,"div",11)(53,"div",12)(54,"span",13),t.EFF(55,"Needs Revision"),t.k0s(),t.j41(56,"h4",14),t.EFF(57),t.k0s()(),t.j41(58,"div",15)(59,"div",24)(60,"span",25),t.nrm(61,"i",26),t.k0s()()()()()()()(),t.j41(62,"div",1)(63,"div",2)(64,"div",27)(65,"div",10)(66,"div",28)(67,"div",29)(68,"label",30),t.EFF(69,"Filter by Status"),t.k0s(),t.j41(70,"select",31),t.mxI("ngModelChange",function(a){return t.DH7(n.selectedStatus,a)||(n.selectedStatus=a),a}),t.bIt("change",function(){return n.onStatusChange()}),t.j41(71,"option",32),t.EFF(72,"All Statuses"),t.k0s(),t.j41(73,"option",33),t.EFF(74,"Pending"),t.k0s(),t.j41(75,"option",34),t.EFF(76,"Reviewed"),t.k0s(),t.j41(77,"option",35),t.EFF(78,"Approved"),t.k0s(),t.j41(79,"option",36),t.EFF(80,"Needs Revision"),t.k0s()()(),t.j41(81,"div",29)(82,"label",37),t.EFF(83,"Filter by Form Type"),t.k0s(),t.j41(84,"select",38),t.mxI("ngModelChange",function(a){return t.DH7(n.selectedFormType,a)||(n.selectedFormType=a),a}),t.bIt("change",function(){return n.onFormTypeChange()}),t.j41(85,"option",32),t.EFF(86,"All Types"),t.k0s(),t.j41(87,"option",39),t.EFF(88,"Tax Intake"),t.k0s(),t.j41(89,"option",40),t.EFF(90,"Business Intake"),t.k0s()()(),t.j41(91,"div",41)(92,"label",42),t.EFF(93,"Search Forms"),t.k0s(),t.j41(94,"input",43),t.mxI("ngModelChange",function(a){return t.DH7(n.searchTerm,a)||(n.searchTerm=a),a}),t.bIt("input",function(){return n.onSearchChange()}),t.k0s()()(),t.j41(95,"div",44)(96,"table",45)(97,"thead",46)(98,"tr")(99,"th"),t.EFF(100,"Client"),t.k0s(),t.j41(101,"th"),t.EFF(102,"Form Type"),t.k0s(),t.j41(103,"th"),t.EFF(104,"Submission Date"),t.k0s(),t.j41(105,"th"),t.EFF(106,"Status"),t.k0s(),t.j41(107,"th"),t.EFF(108,"Completion"),t.k0s(),t.j41(109,"th"),t.EFF(110,"Last Modified"),t.k0s(),t.j41(111,"th"),t.EFF(112,"Actions"),t.k0s()()(),t.j41(113,"tbody"),t.DNE(114,F,46,23,"tr",47)(115,_,3,0,"tr",48),t.k0s()()()()()()()()),2&i&&(t.R7$(19),t.JRh(n.stats.total),t.R7$(12),t.JRh(n.stats.pending),t.R7$(13),t.JRh(n.stats.approved),t.R7$(13),t.JRh(n.stats.needsRevision),t.R7$(13),t.R50("ngModel",n.selectedStatus),t.R7$(14),t.R50("ngModel",n.selectedFormType),t.R7$(10),t.R50("ngModel",n.searchTerm),t.R7$(20),t.Y8G("ngForOf",n.filteredForms),t.R7$(),t.Y8G("ngIf",0===n.filteredForms.length))},dependencies:[d.Sq,d.bT,l.xH,l.y7,l.me,l.wz,l.BC,l.vS,d.PV,d.vh],styles:[".card-h-100[_ngcontent-%COMP%]{height:100%}.avatar-sm[_ngcontent-%COMP%]{height:2rem;width:2rem}.avatar-title[_ngcontent-%COMP%]{align-items:center;background-color:#556ee6;color:#fff;display:flex;font-weight:500;height:100%;justify-content:center;width:100%}.bg-primary-subtle[_ngcontent-%COMP%]{background-color:#556ee61a!important}.bg-success-subtle[_ngcontent-%COMP%]{background-color:#34c38f1a!important}.bg-warning-subtle[_ngcontent-%COMP%]{background-color:#fcb92c1a!important}.bg-danger-subtle[_ngcontent-%COMP%]{background-color:#f46a6a1a!important}.progress[_ngcontent-%COMP%]{height:6px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;border-top:none}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.badge[_ngcontent-%COMP%]{font-size:.75rem}"]})}}return o})();function k(o,c){if(1&o&&(t.j41(0,"option",56),t.EFF(1),t.k0s()),2&o){const e=c.$implicit;t.Y8G("value",e.id),t.R7$(),t.JRh(e.name)}}function C(o,c){if(1&o&&(t.j41(0,"p",60),t.nrm(1,"i",76),t.EFF(2),t.nI1(3,"slice"),t.k0s()),2&o){const e=t.XpG().$implicit;t.R7$(2),t.SpI("",t.brH(3,1,e.notes,0,50),"... ")}}function j(o,c){if(1&o&&(t.j41(0,"div")(1,"span",77),t.EFF(2),t.k0s(),t.j41(3,"p",78),t.EFF(4),t.nI1(5,"date"),t.k0s()()),2&o){const e=t.XpG().$implicit;t.R7$(2),t.JRh(e.reviewedBy),t.R7$(2),t.JRh(t.i5U(5,2,e.reviewDate,"short"))}}function y(o,c){1&o&&(t.j41(0,"span",79),t.EFF(1,"Not reviewed"),t.k0s())}function w(o,c){if(1&o){const e=t.RV6();t.j41(0,"button",80),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,s=t.XpG();return t.Njj(s.updateStatus(n,"approved"))}),t.nrm(1,"i",81),t.k0s()}}function T(o,c){if(1&o){const e=t.RV6();t.j41(0,"button",82),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,s=t.XpG();return t.Njj(s.updateStatus(n,"rejected"))}),t.nrm(1,"i",83),t.k0s()}}function E(o,c){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"div",11),t.nrm(3,"i",57),t.j41(4,"div")(5,"h6",58),t.EFF(6),t.k0s(),t.DNE(7,C,4,5,"p",59),t.k0s()()(),t.j41(8,"td")(9,"div")(10,"h6",58),t.EFF(11),t.k0s(),t.j41(12,"p",60),t.EFF(13),t.k0s()()(),t.j41(14,"td")(15,"span"),t.EFF(16),t.k0s()(),t.j41(17,"td")(18,"div")(19,"span",61),t.EFF(20),t.k0s(),t.j41(21,"p",60),t.EFF(22),t.k0s()()(),t.j41(23,"td"),t.EFF(24),t.nI1(25,"date"),t.k0s(),t.j41(26,"td")(27,"div",62)(28,"span",63),t.EFF(29),t.nI1(30,"titlecase"),t.k0s(),t.j41(31,"ul",64)(32,"li")(33,"a",65),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.updateStatus(n,"pending"))}),t.EFF(34,"Pending"),t.k0s()(),t.j41(35,"li")(36,"a",65),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.updateStatus(n,"reviewed"))}),t.EFF(37,"Reviewed"),t.k0s()(),t.j41(38,"li")(39,"a",65),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.updateStatus(n,"approved"))}),t.EFF(40,"Approved"),t.k0s()(),t.j41(41,"li")(42,"a",65),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.updateStatus(n,"rejected"))}),t.EFF(43,"Rejected"),t.k0s()()()()(),t.j41(44,"td"),t.DNE(45,j,6,5,"div",55)(46,y,2,0,"span",66),t.k0s(),t.j41(47,"td")(48,"div",67)(49,"button",68),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.viewDocument(n))}),t.nrm(50,"i",69),t.k0s(),t.j41(51,"button",70),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.downloadDocument(n))}),t.nrm(52,"i",71),t.k0s(),t.j41(53,"button",72),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.addNotes(n))}),t.nrm(54,"i",73),t.k0s(),t.DNE(55,w,2,0,"button",74)(56,T,2,0,"button",75),t.k0s()()()}if(2&o){const e=c.$implicit,i=t.XpG();t.R7$(6),t.JRh(e.documentName),t.R7$(),t.Y8G("ngIf",e.notes),t.R7$(4),t.JRh(e.clientName),t.R7$(2),t.JRh(e.clientEmail),t.R7$(2),t.HbH(i.getCategoryClass(e.category)),t.R7$(),t.SpI(" ",i.getCategoryDisplay(e.category)," "),t.R7$(4),t.JRh(e.documentType),t.R7$(2),t.JRh(e.size),t.R7$(2),t.JRh(t.i5U(25,17,e.uploadDate,"short")),t.R7$(4),t.HbH(i.getStatusClass(e.status)),t.R7$(),t.SpI(" ",t.bMT(30,20,e.status)," "),t.R7$(16),t.Y8G("ngIf",e.reviewedBy),t.R7$(),t.Y8G("ngIf",!e.reviewedBy),t.R7$(9),t.Y8G("ngIf","pending"===e.status),t.R7$(),t.Y8G("ngIf","pending"===e.status||"reviewed"===e.status)}}function I(o,c){1&o&&(t.j41(0,"tr")(1,"td",84),t.EFF(2," No documents found matching your criteria. "),t.k0s()())}let D=(()=>{class o{constructor(){this.documents=[],this.filteredDocuments=[],this.selectedStatus="all",this.selectedCategory="all",this.selectedClient="all",this.searchTerm="",this.stats={total:0,pending:0,reviewed:0,approved:0,rejected:0},this.clients=[]}ngOnInit(){this.loadDocuments(),this.calculateStats(),this.extractClients()}loadDocuments(){this.documents=[{id:1,clientId:101,clientName:"John Smith",clientEmail:"john.smith@email.com",documentName:"W2_2024.pdf",documentType:"PDF",category:"tax-documents",size:"245 KB",uploadDate:"2024-02-15T10:30:00Z",status:"pending"},{id:2,clientId:102,clientName:"Sarah Johnson",clientEmail:"sarah.johnson@email.com",documentName:"Bank_Statement_Jan2024.pdf",documentType:"PDF",category:"financial-statements",size:"1.2 MB",uploadDate:"2024-02-14T14:20:00Z",status:"reviewed",reviewedBy:"Tax Consultant",reviewDate:"2024-02-16T09:15:00Z"},{id:3,clientId:103,clientName:"Michael Brown",clientEmail:"michael.brown@email.com",documentName:"Receipt_Office_Supplies.jpg",documentType:"Image",category:"receipts",size:"890 KB",uploadDate:"2024-02-13T16:45:00Z",status:"approved",reviewedBy:"Tax Consultant",reviewDate:"2024-02-17T11:30:00Z"},{id:4,clientId:104,clientName:"Emily Davis",clientEmail:"emily.davis@email.com",documentName:"1099_Form.pdf",documentType:"PDF",category:"tax-documents",size:"156 KB",uploadDate:"2024-02-12T09:10:00Z",status:"rejected",reviewedBy:"Tax Consultant",reviewDate:"2024-02-16T15:20:00Z",notes:"Document is unclear, please re-upload with better quality"},{id:5,clientId:105,clientName:"Robert Wilson",clientEmail:"robert.wilson@email.com",documentName:"Business_Expenses_Q1.xlsx",documentType:"Spreadsheet",category:"financial-statements",size:"2.1 MB",uploadDate:"2024-02-11T13:25:00Z",status:"pending"},{id:6,clientId:101,clientName:"John Smith",clientEmail:"john.smith@email.com",documentName:"Property_Tax_Statement.pdf",documentType:"PDF",category:"tax-documents",size:"340 KB",uploadDate:"2024-02-10T11:15:00Z",status:"approved",reviewedBy:"Tax Consultant",reviewDate:"2024-02-15T14:45:00Z"}],this.filteredDocuments=[...this.documents]}calculateStats(){this.stats.total=this.documents.length,this.stats.pending=this.documents.filter(e=>"pending"===e.status).length,this.stats.reviewed=this.documents.filter(e=>"reviewed"===e.status).length,this.stats.approved=this.documents.filter(e=>"approved"===e.status).length,this.stats.rejected=this.documents.filter(e=>"rejected"===e.status).length}extractClients(){const e=new Map;this.documents.forEach(i=>{e.has(i.clientId)||e.set(i.clientId,{id:i.clientId,name:i.clientName})}),this.clients=Array.from(e.values())}filterDocuments(){this.filteredDocuments=this.documents.filter(e=>{const i="all"===this.selectedStatus||e.status===this.selectedStatus,n="all"===this.selectedCategory||e.category===this.selectedCategory,s="all"===this.selectedClient||e.clientId.toString()===this.selectedClient,a=e.documentName.toLowerCase().includes(this.searchTerm.toLowerCase())||e.clientName.toLowerCase().includes(this.searchTerm.toLowerCase())||e.clientEmail.toLowerCase().includes(this.searchTerm.toLowerCase());return i&&n&&s&&a})}onStatusChange(){this.filterDocuments()}onCategoryChange(){this.filterDocuments()}onClientChange(){this.filterDocuments()}onSearchChange(){this.filterDocuments()}getStatusClass(e){switch(e){case"approved":return"badge bg-success";case"reviewed":return"badge bg-info";case"pending":return"badge bg-warning";case"rejected":return"badge bg-danger";default:return"badge bg-secondary"}}getCategoryDisplay(e){switch(e){case"tax-documents":return"Tax Documents";case"financial-statements":return"Financial Statements";case"receipts":return"Receipts";case"other":return"Other";default:return e}}getCategoryClass(e){switch(e){case"tax-documents":return"badge bg-primary-subtle text-primary";case"financial-statements":return"badge bg-success-subtle text-success";case"receipts":return"badge bg-warning-subtle text-warning";case"other":return"badge bg-info-subtle text-info";default:return"badge bg-secondary"}}viewDocument(e){m().fire({title:"View Document",text:`Opening ${e.documentName} for ${e.clientName}`,icon:"info",timer:2e3,showConfirmButton:!1})}downloadDocument(e){m().fire({title:"Download Started",text:`Downloading ${e.documentName}...`,icon:"info",timer:2e3,showConfirmButton:!1})}updateStatus(e,i){const n=e.status;e.status=i,e.reviewedBy="Tax Consultant",e.reviewDate=(new Date).toISOString(),this.calculateStats(),this.filterDocuments(),m().fire({title:"Status Updated",text:`Document status changed from ${n} to ${i}`,icon:"success",timer:2e3,showConfirmButton:!1})}addNotes(e){m().fire({title:"Add Notes",input:"textarea",inputLabel:"Review Notes",inputPlaceholder:"Enter your notes about this document...",inputValue:e.notes||"",showCancelButton:!0,confirmButtonText:"Save Notes",cancelButtonText:"Cancel"}).then(i=>{i.isConfirmed&&(e.notes=i.value,e.reviewedBy="Tax Consultant",e.reviewDate=(new Date).toISOString(),m().fire({title:"Notes Saved",text:"Review notes have been added to the document",icon:"success",timer:2e3,showConfirmButton:!1}))})}exportDocuments(){m().fire({title:"Export Started",text:"Preparing documents export...",icon:"info",timer:2e3,showConfirmButton:!1})}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-client-documents"]],decls:130,vars:11,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box","d-sm-flex","align-items-center","justify-content-between"],[1,"mb-sm-0","font-size-18"],[1,"page-title-right"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[1,"ri-download-line","me-1"],[1,"col-xl-3","col-md-6"],[1,"card","card-h-100"],[1,"card-body"],[1,"d-flex","align-items-center"],[1,"flex-grow-1"],[1,"text-muted","mb-3","lh-1","d-block","text-truncate"],[1,"mb-3"],[1,"flex-shrink-0"],[1,"avatar-sm","rounded-circle","bg-primary-subtle"],[1,"avatar-title","rounded-circle","bg-primary-subtle","text-primary"],[1,"ri-file-text-line","font-size-24"],[1,"avatar-sm","rounded-circle","bg-warning-subtle"],[1,"avatar-title","rounded-circle","bg-warning-subtle","text-warning"],[1,"ri-time-line","font-size-24"],[1,"avatar-sm","rounded-circle","bg-success-subtle"],[1,"avatar-title","rounded-circle","bg-success-subtle","text-success"],[1,"ri-check-line","font-size-24"],[1,"avatar-sm","rounded-circle","bg-danger-subtle"],[1,"avatar-title","rounded-circle","bg-danger-subtle","text-danger"],[1,"ri-close-line","font-size-24"],[1,"card"],[1,"row","mb-4"],[1,"col-md-2"],["for","statusFilter",1,"form-label"],["id","statusFilter",1,"form-select",3,"ngModelChange","change","ngModel"],["value","all"],["value","pending"],["value","reviewed"],["value","approved"],["value","rejected"],["for","categoryFilter",1,"form-label"],["id","categoryFilter",1,"form-select",3,"ngModelChange","change","ngModel"],["value","tax-documents"],["value","financial-statements"],["value","receipts"],["value","other"],[1,"col-md-3"],["for","clientFilter",1,"form-label"],["id","clientFilter",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-5"],["for","searchInput",1,"form-label"],["type","text","id","searchInput","placeholder","Search by document name, client name, or email...",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"table-responsive"],[1,"table","table-nowrap","table-hover"],[1,"table-light"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"ri-file-text-line","me-2","text-muted"],[1,"mb-1"],["class","text-muted mb-0 font-size-12",4,"ngIf"],[1,"text-muted","mb-0","font-size-12"],[1,"badge","bg-light","text-dark"],[1,"dropdown"],["data-bs-toggle","dropdown",1,"dropdown-toggle",2,"cursor","pointer"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["class","text-muted font-size-12",4,"ngIf"],[1,"d-flex","gap-1"],["type","button","title","View Document",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"ri-eye-line"],["type","button","title","Download",1,"btn","btn-sm","btn-outline-info",3,"click"],[1,"ri-download-line"],["type","button","title","Add Notes",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"ri-sticky-note-line"],["type","button","class","btn btn-sm btn-outline-success","title","Approve",3,"click",4,"ngIf"],["type","button","class","btn btn-sm btn-outline-danger","title","Reject",3,"click",4,"ngIf"],[1,"ri-sticky-note-line","me-1"],[1,"font-size-12"],[1,"text-muted","mb-0","font-size-11"],[1,"text-muted","font-size-12"],["type","button","title","Approve",1,"btn","btn-sm","btn-outline-success",3,"click"],[1,"ri-check-line"],["type","button","title","Reject",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"ri-close-line"],["colspan","8",1,"text-center","text-muted","py-4"]],template:function(i,n){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t.EFF(5,"Client Documents"),t.k0s(),t.j41(6,"div",5)(7,"button",6),t.bIt("click",function(){return n.exportDocuments()}),t.nrm(8,"i",7),t.EFF(9,"Export Documents "),t.k0s()()()()(),t.j41(10,"div",1)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"span",13),t.EFF(17,"Total Documents"),t.k0s(),t.j41(18,"h4",14),t.EFF(19),t.k0s()(),t.j41(20,"div",15)(21,"div",16)(22,"span",17),t.nrm(23,"i",18),t.k0s()()()()()()(),t.j41(24,"div",8)(25,"div",9)(26,"div",10)(27,"div",11)(28,"div",12)(29,"span",13),t.EFF(30,"Pending Review"),t.k0s(),t.j41(31,"h4",14),t.EFF(32),t.k0s()(),t.j41(33,"div",15)(34,"div",19)(35,"span",20),t.nrm(36,"i",21),t.k0s()()()()()()(),t.j41(37,"div",8)(38,"div",9)(39,"div",10)(40,"div",11)(41,"div",12)(42,"span",13),t.EFF(43,"Approved"),t.k0s(),t.j41(44,"h4",14),t.EFF(45),t.k0s()(),t.j41(46,"div",15)(47,"div",22)(48,"span",23),t.nrm(49,"i",24),t.k0s()()()()()()(),t.j41(50,"div",8)(51,"div",9)(52,"div",10)(53,"div",11)(54,"div",12)(55,"span",13),t.EFF(56,"Rejected"),t.k0s(),t.j41(57,"h4",14),t.EFF(58),t.k0s()(),t.j41(59,"div",15)(60,"div",25)(61,"span",26),t.nrm(62,"i",27),t.k0s()()()()()()()(),t.j41(63,"div",1)(64,"div",2)(65,"div",28)(66,"div",10)(67,"div",29)(68,"div",30)(69,"label",31),t.EFF(70,"Status"),t.k0s(),t.j41(71,"select",32),t.mxI("ngModelChange",function(a){return t.DH7(n.selectedStatus,a)||(n.selectedStatus=a),a}),t.bIt("change",function(){return n.onStatusChange()}),t.j41(72,"option",33),t.EFF(73,"All Statuses"),t.k0s(),t.j41(74,"option",34),t.EFF(75,"Pending"),t.k0s(),t.j41(76,"option",35),t.EFF(77,"Reviewed"),t.k0s(),t.j41(78,"option",36),t.EFF(79,"Approved"),t.k0s(),t.j41(80,"option",37),t.EFF(81,"Rejected"),t.k0s()()(),t.j41(82,"div",30)(83,"label",38),t.EFF(84,"Category"),t.k0s(),t.j41(85,"select",39),t.mxI("ngModelChange",function(a){return t.DH7(n.selectedCategory,a)||(n.selectedCategory=a),a}),t.bIt("change",function(){return n.onCategoryChange()}),t.j41(86,"option",33),t.EFF(87,"All Categories"),t.k0s(),t.j41(88,"option",40),t.EFF(89,"Tax Documents"),t.k0s(),t.j41(90,"option",41),t.EFF(91,"Financial Statements"),t.k0s(),t.j41(92,"option",42),t.EFF(93,"Receipts"),t.k0s(),t.j41(94,"option",43),t.EFF(95,"Other"),t.k0s()()(),t.j41(96,"div",44)(97,"label",45),t.EFF(98,"Client"),t.k0s(),t.j41(99,"select",46),t.mxI("ngModelChange",function(a){return t.DH7(n.selectedClient,a)||(n.selectedClient=a),a}),t.bIt("change",function(){return n.onClientChange()}),t.j41(100,"option",33),t.EFF(101,"All Clients"),t.k0s(),t.DNE(102,k,2,2,"option",47),t.k0s()(),t.j41(103,"div",48)(104,"label",49),t.EFF(105,"Search Documents"),t.k0s(),t.j41(106,"input",50),t.mxI("ngModelChange",function(a){return t.DH7(n.searchTerm,a)||(n.searchTerm=a),a}),t.bIt("input",function(){return n.onSearchChange()}),t.k0s()()(),t.j41(107,"div",51)(108,"table",52)(109,"thead",53)(110,"tr")(111,"th"),t.EFF(112,"Document"),t.k0s(),t.j41(113,"th"),t.EFF(114,"Client"),t.k0s(),t.j41(115,"th"),t.EFF(116,"Category"),t.k0s(),t.j41(117,"th"),t.EFF(118,"Type & Size"),t.k0s(),t.j41(119,"th"),t.EFF(120,"Upload Date"),t.k0s(),t.j41(121,"th"),t.EFF(122,"Status"),t.k0s(),t.j41(123,"th"),t.EFF(124,"Reviewed By"),t.k0s(),t.j41(125,"th"),t.EFF(126,"Actions"),t.k0s()()(),t.j41(127,"tbody"),t.DNE(128,E,57,22,"tr",54)(129,I,3,0,"tr",55),t.k0s()()()()()()()()),2&i&&(t.R7$(19),t.JRh(n.stats.total),t.R7$(13),t.JRh(n.stats.pending),t.R7$(13),t.JRh(n.stats.approved),t.R7$(13),t.JRh(n.stats.rejected),t.R7$(13),t.R50("ngModel",n.selectedStatus),t.R7$(14),t.R50("ngModel",n.selectedCategory),t.R7$(14),t.R50("ngModel",n.selectedClient),t.R7$(3),t.Y8G("ngForOf",n.clients),t.R7$(4),t.R50("ngModel",n.searchTerm),t.R7$(22),t.Y8G("ngForOf",n.filteredDocuments),t.R7$(),t.Y8G("ngIf",0===n.filteredDocuments.length))},dependencies:[d.Sq,d.bT,l.xH,l.y7,l.me,l.wz,l.BC,l.vS,d.P9,d.PV,d.vh],styles:[".card-h-100[_ngcontent-%COMP%]{height:100%}.avatar-sm[_ngcontent-%COMP%]{height:2rem;width:2rem}.avatar-title[_ngcontent-%COMP%]{align-items:center;background-color:#556ee6;color:#fff;display:flex;font-weight:500;height:100%;justify-content:center;width:100%}.bg-primary-subtle[_ngcontent-%COMP%]{background-color:#556ee61a!important}.bg-success-subtle[_ngcontent-%COMP%]{background-color:#34c38f1a!important}.bg-warning-subtle[_ngcontent-%COMP%]{background-color:#fcb92c1a!important}.bg-danger-subtle[_ngcontent-%COMP%]{background-color:#f46a6a1a!important}.bg-info-subtle[_ngcontent-%COMP%]{background-color:#50a5f11a!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;border-top:none}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.badge[_ngcontent-%COMP%]{font-size:.75rem}.font-size-11[_ngcontent-%COMP%]{font-size:.6875rem}.font-size-12[_ngcontent-%COMP%]{font-size:.75rem}.btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem}"]})}}return o})();var g=r(400);const R=[{path:"intake-forms",component:v,canActivate:[g.K],data:{role:"ACCOUNTANT"}},{path:"client-documents",component:D,canActivate:[g.K],data:{role:"ACCOUNTANT"}}];let x=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[p.iI.forChild(R),p.iI]})}}return o})();var S=r(6551),M=r(1745),N=r(8580),$=r(779),B=r(3816);let P=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[d.MD,l.YN,l.X1,x,S.T,M.V,N.zE,$.Q_,B.jr]})}}return o})()}}]);
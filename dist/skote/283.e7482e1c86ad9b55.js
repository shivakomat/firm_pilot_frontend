"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[283],{5283:(we,f,c)=>{c.r(f),c.d(f,{ClientPortalModule:()=>De});var d=c(177),r=c(9417),g=c(803),b=c(8032),m=c.n(b),e=c(4438),h=c(9386);const _=["uploadModal"];function k(i,a){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",26),e.nrm(3,"i",27),e.EFF(4),e.k0s()(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"td")(13,"span"),e.EFF(14),e.nI1(15,"titlecase"),e.k0s()(),e.j41(16,"td")(17,"button",28),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.downloadDocument(n))}),e.nrm(18,"i",29),e.k0s()()()}if(2&i){const t=a.$implicit,o=e.XpG();e.R7$(4),e.SpI(" ",t.name," "),e.R7$(2),e.JRh(t.type),e.R7$(2),e.JRh(t.size),e.R7$(2),e.JRh(e.i5U(11,7,t.uploadDate,"shortDate")),e.R7$(3),e.HbH(o.getStatusClass(t.status)),e.R7$(),e.SpI(" ",e.bMT(15,10,t.status)," ")}}function v(i,a){1&i&&(e.j41(0,"tr")(1,"td",30),e.EFF(2," No documents found matching your criteria. "),e.k0s()())}function F(i,a){if(1&i){const t=e.RV6();e.j41(0,"li",52)(1,"div",53)(2,"div",54)(3,"div",55)(4,"div",56),e.nrm(5,"i",57),e.k0s()(),e.j41(6,"div",58)(7,"div",59)(8,"h6",60),e.EFF(9),e.k0s(),e.j41(10,"p",61),e.EFF(11),e.k0s()()(),e.j41(12,"div",62)(13,"button",63),e.bIt("click",function(){const n=e.eBV(t).index,s=e.XpG(3);return e.Njj(s.removeUploadedFile(n))}),e.nrm(14,"i",64),e.k0s()()()()()}if(2&i){const t=a.$implicit,o=e.XpG(3);e.R7$(9),e.JRh(t.name),e.R7$(2),e.JRh(o.formatFileSize(t.size))}}function C(i,a){if(1&i&&(e.j41(0,"div")(1,"h6",49),e.EFF(2,"Selected Files:"),e.k0s(),e.j41(3,"ul",50),e.DNE(4,F,15,2,"li",51),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",t.uploadedFiles)}}function x(i,a){1&i&&e.nrm(0,"span",65)}function y(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",6)(1,"div",31)(2,"div",0)(3,"div",32)(4,"div",33)(5,"h5",3),e.EFF(6,"Upload Document"),e.k0s(),e.j41(7,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeUploadModal())}),e.k0s()()(),e.j41(8,"div",1)(9,"form")(10,"div",35)(11,"div",36)(12,"label",37),e.EFF(13,"Document Category *"),e.k0s(),e.j41(14,"select",38),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.uploadForm.category,n)||(s.uploadForm.category=n),e.Njj(n)}),e.j41(15,"option",39),e.EFF(16,"Select Category"),e.k0s(),e.j41(17,"option",11),e.EFF(18,"Tax Documents"),e.k0s(),e.j41(19,"option",12),e.EFF(20,"Financial Statements"),e.k0s(),e.j41(21,"option",13),e.EFF(22,"Receipts"),e.k0s(),e.j41(23,"option",14),e.EFF(24,"Other"),e.k0s()()(),e.j41(25,"div",36)(26,"label",40),e.EFF(27,"Description (Optional)"),e.k0s(),e.j41(28,"input",41),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.uploadForm.description,n)||(s.uploadForm.description=n),e.Njj(n)}),e.k0s()()(),e.j41(29,"div",42)(30,"label",43),e.EFF(31,"Upload Files"),e.k0s(),e.j41(32,"dropzone",44),e.bIt("success",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onUploadSuccess(n))}),e.k0s(),e.DNE(33,C,5,1,"div",21),e.k0s()(),e.j41(34,"div",45)(35,"button",46),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeUploadModal())}),e.EFF(36,"Cancel"),e.k0s(),e.j41(37,"button",47),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.submitUpload())}),e.DNE(38,x,1,0,"span",48),e.EFF(39),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(14),e.R50("ngModel",t.uploadForm.category),e.R7$(14),e.R50("ngModel",t.uploadForm.description),e.R7$(4),e.Y8G("config",t.dropzoneConfig)("message","Drop files here or click to upload."),e.R7$(),e.Y8G("ngIf",t.uploadedFiles.length>0),e.R7$(4),e.Y8G("disabled",0===t.uploadedFiles.length||!t.uploadForm.category||t.isUploading),e.R7$(),e.Y8G("ngIf",t.isUploading),e.R7$(),e.SpI(" ",t.isUploading?"Uploading...":"Upload "+t.uploadedFiles.length+" File(s)"," ")}}let I=(()=>{class i{constructor(){this.documents=[],this.filteredDocuments=[],this.selectedCategory="all",this.searchTerm="",this.selectedFile=null,this.isUploading=!1,this.showUploadModal=!1,this.uploadedFiles=[],this.uploadForm={category:"",description:""},this.dropzoneConfig={url:"/upload",clickable:!0,addRemoveLinks:!1,previewsContainer:!1,acceptedFiles:".pdf,.jpg,.jpeg,.png,.doc,.docx",maxFilesize:10,maxFiles:10,autoProcessQueue:!1}}ngOnInit(){this.loadDocuments()}loadDocuments(){this.documents=[{id:1,name:"W2_2024.pdf",type:"PDF",size:"245 KB",uploadDate:"2024-01-15",status:"approved",category:"tax-documents"},{id:2,name:"Bank_Statement_Jan2024.pdf",type:"PDF",size:"1.2 MB",uploadDate:"2024-02-01",status:"reviewed",category:"financial-statements"},{id:3,name:"Receipt_Office_Supplies.jpg",type:"Image",size:"890 KB",uploadDate:"2024-02-10",status:"pending",category:"receipts"}],this.filteredDocuments=[...this.documents]}filterDocuments(){this.filteredDocuments=this.documents.filter(t=>{const o="all"===this.selectedCategory||t.category===this.selectedCategory,n=t.name.toLowerCase().includes(this.searchTerm.toLowerCase());return o&&n})}onCategoryChange(){this.filterDocuments()}onSearchChange(){this.filterDocuments()}getStatusClass(t){switch(t){case"approved":return"badge bg-success";case"reviewed":return"badge bg-info";case"pending":return"badge bg-warning";default:return"badge bg-secondary"}}downloadDocument(t){m().fire({title:"Download Started",text:`Downloading ${t.name}...`,icon:"info",timer:2e3,showConfirmButton:!1}),console.log("Downloading document:",t.name)}uploadDocument(){this.selectedFile=null,this.uploadForm={category:"",description:""},this.showUploadModal=!0}closeUploadModal(){this.showUploadModal=!1}onUploadSuccess(t){setTimeout(()=>{this.uploadedFiles.push(t[0])},0)}removeUploadedFile(t){this.uploadedFiles.splice(t,1)}formatFileSize(t){if(0===t)return"0 Bytes";const s=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]}submitUpload(){!this.selectedFile||!this.uploadForm.category||(this.isUploading=!0,setTimeout(()=>{this.uploadedFiles.forEach(t=>{const o={id:this.documents.length+1,name:t.name,type:this.getFileTypeDisplay(t.type),size:this.formatFileSize(t.size),uploadDate:(new Date).toISOString(),status:"pending",category:this.uploadForm.category};this.documents.unshift(o)}),this.filterDocuments(),this.uploadedFiles=[],this.isUploading=!1,this.showUploadModal=!1,m().fire({title:"Upload Successful!",text:"Your document has been uploaded and is pending review.",icon:"success",timer:3e3,showConfirmButton:!1})},2e3))}getFileTypeDisplay(t){switch(t){case"application/pdf":return"PDF";case"image/jpeg":case"image/jpg":case"image/png":return"Image";case"application/msword":case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"Document";default:return"File"}}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-documents"]],viewQuery:function(o,n){if(1&o&&e.GBs(_,5),2&o){let s;e.mGM(s=e.lsd())&&(n.uploadModal=s.first)}},decls:59,vars:5,consts:[[1,"card"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"card-title","mb-0"],["type","button",1,"btn","btn-primary",3,"click"],[1,"ri-upload-cloud-line","me-1"],[1,"row","mb-4"],[1,"col-md-6"],["for","categoryFilter",1,"form-label"],["id","categoryFilter",1,"form-select",3,"ngModelChange","change","ngModel"],["value","all"],["value","tax-documents"],["value","financial-statements"],["value","receipts"],["value","other"],["for","searchInput",1,"form-label"],["type","text","id","searchInput","placeholder","Search by document name...",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"table-responsive"],[1,"table","table-nowrap","table-hover"],[1,"table-light"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","row mb-4",4,"ngIf"],[1,"alert","alert-info","mt-4"],[1,"alert-heading"],[1,"mb-0"],[1,"d-flex","align-items-center"],[1,"ri-file-text-line","me-2","text-muted"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"ri-download-line"],["colspan","6",1,"text-center","text-muted","py-4"],[1,"col-12"],[1,"card-header"],[1,"d-flex","justify-content-between","align-items-center"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"row"],[1,"col-md-6","mb-3"],["for","documentCategory",1,"form-label"],["id","documentCategory","name","category","required","",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["for","documentDescription",1,"form-label"],["type","text","id","documentDescription","name","description","placeholder","Add notes about this document...",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3"],[1,"form-label"],[1,"dropzone",3,"success","config","message"],[1,"d-flex","justify-content-end","gap-2"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],[1,"mt-3"],[1,"list-unstyled","mb-0"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[1,"border","rounded"],[1,"d-flex","p-2"],[1,"flex-shrink-0","me-3"],[1,"avatar-sm","bg-light","rounded","d-flex","align-items-center","justify-content-center"],[1,"ri-file-text-line","text-muted"],[1,"flex-grow-1"],[1,"pt-1"],[1,"fs-md","mb-1"],[1,"fs-sm","text-muted","mb-0"],[1,"flex-shrink-0","ms-3"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"ri-delete-bin-line"],["role","status",1,"spinner-border","spinner-border-sm","me-2"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e.EFF(4,"Documents"),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return n.uploadDocument()}),e.nrm(6,"i",5),e.EFF(7,"Upload Document "),e.k0s()(),e.j41(8,"div",6)(9,"div",7)(10,"label",8),e.EFF(11,"Filter by Category"),e.k0s(),e.j41(12,"select",9),e.mxI("ngModelChange",function(l){return e.DH7(n.selectedCategory,l)||(n.selectedCategory=l),l}),e.bIt("change",function(){return n.onCategoryChange()}),e.j41(13,"option",10),e.EFF(14,"All Categories"),e.k0s(),e.j41(15,"option",11),e.EFF(16,"Tax Documents"),e.k0s(),e.j41(17,"option",12),e.EFF(18,"Financial Statements"),e.k0s(),e.j41(19,"option",13),e.EFF(20,"Receipts"),e.k0s(),e.j41(21,"option",14),e.EFF(22,"Other"),e.k0s()()(),e.j41(23,"div",7)(24,"label",15),e.EFF(25,"Search Documents"),e.k0s(),e.j41(26,"input",16),e.mxI("ngModelChange",function(l){return e.DH7(n.searchTerm,l)||(n.searchTerm=l),l}),e.bIt("input",function(){return n.onSearchChange()}),e.k0s()()(),e.j41(27,"div",17)(28,"table",18)(29,"thead",19)(30,"tr")(31,"th"),e.EFF(32,"Document Name"),e.k0s(),e.j41(33,"th"),e.EFF(34,"Type"),e.k0s(),e.j41(35,"th"),e.EFF(36,"Size"),e.k0s(),e.j41(37,"th"),e.EFF(38,"Upload Date"),e.k0s(),e.j41(39,"th"),e.EFF(40,"Status"),e.k0s(),e.j41(41,"th"),e.EFF(42,"Actions"),e.k0s()()(),e.j41(43,"tbody"),e.DNE(44,k,19,12,"tr",20)(45,v,3,0,"tr",21),e.k0s()()(),e.DNE(46,y,40,8,"div",22),e.j41(47,"div",23)(48,"h6",24),e.EFF(49,"Upload Guidelines:"),e.k0s(),e.j41(50,"ul",25)(51,"li"),e.EFF(52,"Accepted formats: PDF, JPG, PNG, DOC, DOCX"),e.k0s(),e.j41(53,"li"),e.EFF(54,"Maximum file size: 10MB"),e.k0s(),e.j41(55,"li"),e.EFF(56,"Please organize documents by category for easier processing"),e.k0s(),e.j41(57,"li"),e.EFF(58,"Uploaded documents will be reviewed within 1-2 business days"),e.k0s()()()()()),2&o&&(e.R7$(12),e.R50("ngModel",n.selectedCategory),e.R7$(14),e.R50("ngModel",n.searchTerm),e.R7$(18),e.Y8G("ngForOf",n.filteredDocuments),e.R7$(),e.Y8G("ngIf",0===n.filteredDocuments.length),e.R7$(),e.Y8G("ngIf",n.showUploadModal))},dependencies:[d.Sq,d.bT,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.YS,r.vS,r.cV,h.HF,d.PV,d.vh],styles:[".table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;border-top:none}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem}.alert-info[_ngcontent-%COMP%]{border-left:4px solid #17a2b8}.card-title[_ngcontent-%COMP%]{font-weight:600}"]})}}return i})();function j(i,a){1&i&&(e.j41(0,"span"),e.nrm(1,"i",20),e.EFF(2,"Completed "),e.k0s())}function T(i,a){1&i&&(e.j41(0,"span"),e.nrm(1,"i",21),e.EFF(2,"Continue "),e.k0s())}function S(i,a){1&i&&(e.j41(0,"span"),e.nrm(1,"i",22),e.EFF(2,"Start Form "),e.k0s())}function E(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",8)(1,"div",9)(2,"div",1)(3,"div",10),e.nrm(4,"i",11),e.j41(5,"span"),e.EFF(6),e.nI1(7,"titlecase"),e.nI1(8,"replace"),e.k0s()(),e.j41(9,"h5",12),e.EFF(10),e.k0s(),e.j41(11,"p",13),e.EFF(12),e.k0s(),e.j41(13,"div",14)(14,"small",15),e.nrm(15,"i",16),e.EFF(16),e.nI1(17,"date"),e.k0s(),e.nrm(18,"br"),e.j41(19,"small",15),e.nrm(20,"i",17),e.EFF(21),e.k0s()(),e.j41(22,"button",18),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.openForm(n))}),e.DNE(23,j,3,0,"span",19)(24,T,3,0,"span",19)(25,S,3,0,"span",19),e.k0s()()()()}if(2&i){const t=a.$implicit,o=e.XpG();e.R7$(),e.AVh("border-success","completed"===t.status)("border-warning","in-progress"===t.status),e.R7$(3),e.HbH(o.getStatusIcon(t.status)),e.R7$(),e.HbH(o.getStatusClass(t.status)),e.R7$(),e.JRh(e.brH(8,19,e.bMT(7,17,t.status),"-"," ")),e.R7$(4),e.JRh(t.title),e.R7$(2),e.JRh(t.description),e.R7$(4),e.SpI(" Due: ",e.i5U(17,23,t.dueDate,"shortDate")," "),e.R7$(5),e.SpI(" ",t.category," "),e.R7$(),e.Y8G("disabled","completed"===t.status),e.R7$(),e.Y8G("ngIf","completed"===t.status),e.R7$(),e.Y8G("ngIf","in-progress"===t.status),e.R7$(),e.Y8G("ngIf","not-started"===t.status)}}function M(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"div",24)(2,"div",25)(3,"div",26)(4,"h5",27),e.EFF(5),e.k0s(),e.j41(6,"button",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeForm())}),e.k0s()(),e.j41(7,"div",29)(8,"form",30)(9,"div",4)(10,"div",31)(11,"label",32),e.EFF(12,"Business Name *"),e.k0s(),e.nrm(13,"input",33),e.k0s(),e.j41(14,"div",31)(15,"label",34),e.EFF(16,"Business Type *"),e.k0s(),e.j41(17,"select",35)(18,"option",36),e.EFF(19,"Select Business Type"),e.k0s(),e.j41(20,"option",37),e.EFF(21,"LLC"),e.k0s(),e.j41(22,"option",38),e.EFF(23,"Corporation"),e.k0s(),e.j41(24,"option",39),e.EFF(25,"Partnership"),e.k0s(),e.j41(26,"option",40),e.EFF(27,"Sole Proprietorship"),e.k0s()()()(),e.j41(28,"div",4)(29,"div",31)(30,"label",41),e.EFF(31,"Tax ID (EIN) *"),e.k0s(),e.nrm(32,"input",42),e.k0s(),e.j41(33,"div",31)(34,"label",43),e.EFF(35,"Phone Number *"),e.k0s(),e.nrm(36,"input",44),e.k0s()(),e.j41(37,"div",14)(38,"label",45),e.EFF(39,"Business Address *"),e.k0s(),e.nrm(40,"textarea",46),e.k0s(),e.j41(41,"div",4)(42,"div",31)(43,"label",47),e.EFF(44,"Email Address *"),e.k0s(),e.nrm(45,"input",48),e.k0s(),e.j41(46,"div",31)(47,"label",49),e.EFF(48,"Annual Revenue"),e.k0s(),e.nrm(49,"input",50),e.k0s()(),e.j41(50,"div",4)(51,"div",31)(52,"label",51),e.EFF(53,"Number of Employees"),e.k0s(),e.nrm(54,"input",52),e.k0s()(),e.j41(55,"div",14)(56,"label",53),e.EFF(57,"Business Description"),e.k0s(),e.nrm(58,"textarea",54),e.k0s()()(),e.j41(59,"div",55)(60,"button",56),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeForm())}),e.EFF(61,"Cancel"),e.k0s(),e.j41(62,"button",57),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveForm())}),e.EFF(63,"Save Draft"),e.k0s(),e.j41(64,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.submitForm())}),e.EFF(65,"Submit Form"),e.k0s()()()()()}if(2&i){const t=e.XpG();e.xc7("display",t.showFormModal?"block":"none"),e.AVh("show",t.showFormModal),e.R7$(5),e.JRh(null==t.selectedForm?null:t.selectedForm.title),e.R7$(3),e.Y8G("formGroup",t.currentForm),e.R7$(54),e.Y8G("disabled",!t.currentForm.valid),e.R7$(2),e.Y8G("disabled",!t.currentForm.valid)}}function N(i,a){if(1&i&&e.nrm(0,"div",59),2&i){const t=e.XpG();e.AVh("show",t.showFormModal)}}let D=(()=>{class i{constructor(t){this.fb=t,this.intakeForms=[],this.selectedForm=null,this.showFormModal=!1,this.currentForm=this.fb.group({businessName:["",r.k0.required],businessType:["",r.k0.required],taxId:["",r.k0.required],address:["",r.k0.required],phone:["",r.k0.required],email:["",[r.k0.required,r.k0.email]],annualRevenue:[""],numberOfEmployees:[""],businessDescription:[""]})}ngOnInit(){this.loadIntakeForms()}loadIntakeForms(){this.intakeForms=[{id:1,title:"Business Information Form",description:"Basic business details and contact information",status:"completed",dueDate:"2024-01-15",category:"Business Setup"},{id:2,title:"Tax Preparation Questionnaire",description:"Annual tax preparation information and documentation requirements",status:"in-progress",dueDate:"2024-03-15",category:"Tax Preparation"},{id:3,title:"Bookkeeping Services Setup",description:"Monthly bookkeeping service preferences and requirements",status:"not-started",dueDate:"2024-02-28",category:"Bookkeeping"}]}getStatusClass(t){switch(t){case"completed":return"badge bg-success";case"in-progress":return"badge bg-warning";default:return"badge bg-secondary"}}getStatusIcon(t){switch(t){case"completed":return"ri-check-line";case"in-progress":return"ri-time-line";default:return"ri-file-list-line"}}openForm(t){this.selectedForm=t,this.showFormModal=!0,1===t.id&&this.currentForm.patchValue({businessName:"Sample Business LLC",businessType:"LLC",taxId:"12-3456789",address:"123 Main St, City, State 12345",phone:"(555) 123-4567",email:"business@example.com",annualRevenue:"500000",numberOfEmployees:"5",businessDescription:"Professional services company"})}closeForm(){this.showFormModal=!1,this.selectedForm=null}saveForm(){this.currentForm.valid&&this.selectedForm&&(console.log("Saving form data:",this.currentForm.value),this.selectedForm.status="in-progress",this.closeForm())}submitForm(){this.currentForm.valid&&this.selectedForm&&(console.log("Submitting form data:",this.currentForm.value),this.selectedForm.status="completed",this.closeForm())}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(r.ok))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-intake"]],decls:10,vars:3,consts:[[1,"card"],[1,"card-body"],[1,"card-title","mb-4"],[1,"text-muted","mb-4"],[1,"row"],["class","col-lg-4 col-md-6 mb-4",4,"ngFor","ngForOf"],["class","modal fade","tabindex","-1",3,"show","display",4,"ngIf"],["class","modal-backdrop fade",3,"show",4,"ngIf"],[1,"col-lg-4","col-md-6","mb-4"],[1,"card","border","h-100"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"font-size-24","text-primary"],[1,"card-title"],[1,"card-text","text-muted"],[1,"mb-3"],[1,"text-muted"],[1,"ri-calendar-line","me-1"],[1,"ri-folder-line","me-1"],["type","button",1,"btn","btn-primary","btn-sm",3,"click","disabled"],[4,"ngIf"],[1,"ri-check-line","me-1"],[1,"ri-edit-line","me-1"],[1,"ri-play-line","me-1"],["tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"col-md-6","mb-3"],["for","businessName",1,"form-label"],["type","text","id","businessName","formControlName","businessName",1,"form-control"],["for","businessType",1,"form-label"],["id","businessType","formControlName","businessType",1,"form-select"],["value",""],["value","LLC"],["value","Corporation"],["value","Partnership"],["value","Sole Proprietorship"],["for","taxId",1,"form-label"],["type","text","id","taxId","formControlName","taxId",1,"form-control"],["for","phone",1,"form-label"],["type","tel","id","phone","formControlName","phone",1,"form-control"],["for","address",1,"form-label"],["id","address","rows","2","formControlName","address",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],["for","annualRevenue",1,"form-label"],["type","number","id","annualRevenue","formControlName","annualRevenue",1,"form-control"],["for","numberOfEmployees",1,"form-label"],["type","number","id","numberOfEmployees","formControlName","numberOfEmployees",1,"form-control"],["for","businessDescription",1,"form-label"],["id","businessDescription","rows","3","formControlName","businessDescription",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"modal-backdrop","fade"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"h4",2),e.EFF(3,"Intake Forms"),e.k0s(),e.j41(4,"p",3),e.EFF(5,"Complete the required forms below to help us serve you better. Click on any form to get started."),e.k0s(),e.j41(6,"div",4),e.DNE(7,E,26,26,"div",5),e.k0s()()(),e.DNE(8,M,66,8,"div",6)(9,N,1,2,"div",7)),2&o&&(e.R7$(7),e.Y8G("ngForOf",n.intakeForms),e.R7$(),e.Y8G("ngIf",n.showFormModal),e.R7$(),e.Y8G("ngIf",n.showFormModal))},dependencies:[d.Sq,d.bT,r.qT,r.xH,r.y7,r.me,r.Q0,r.wz,r.BC,r.cb,r.j4,r.JD,d.PV,d.vh],styles:[".card.border-success[_ngcontent-%COMP%]{border-color:#28a745!important}.card.border-warning[_ngcontent-%COMP%]{border-color:#ffc107!important}.card-title[_ngcontent-%COMP%]{font-weight:600}.modal.show[_ngcontent-%COMP%]{background-color:#00000080}.modal-backdrop.show[_ngcontent-%COMP%]{opacity:.5}.btn-sm[_ngcontent-%COMP%]{padding:.375rem .75rem}.form-label[_ngcontent-%COMP%]{font-weight:500}"]})}}return i})();var w=c(1413),p=c(6977),P=c(152),O=c(3294),R=c(6344);function G(i,a){1&i&&(e.j41(0,"span",16),e.EFF(1,"Saving..."),e.k0s())}function $(i,a){1&i&&e.nrm(0,"i",20)}function A(i,a){if(1&i){const t=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){const n=e.eBV(t).index,s=e.XpG();return e.Njj(s.goToSection(n))}),e.nrm(1,"i",18),e.EFF(2),e.DNE(3,$,1,0,"i",19),e.k0s()}if(2&i){const t=a.$implicit;e.R7$(),e.HbH(t.icon),e.R7$(),e.SpI(" ",t.title," "),e.R7$(),e.Y8G("ngIf",t.completed)}}function Y(i,a){1&i&&e.nrm(0,"i",64)}function B(i,a){1&i&&e.nrm(0,"i",65)}function V(i,a){1&i&&e.nrm(0,"i",64)}function L(i,a){1&i&&e.nrm(0,"i",65)}function U(i,a){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",1)(2,"div",35)(3,"label",36),e.EFF(4,"Spouse's Name"),e.k0s(),e.nrm(5,"input",66),e.k0s(),e.j41(6,"div",35)(7,"label",36),e.EFF(8,"Spouse's SSN"),e.k0s(),e.j41(9,"div",39)(10,"input",40),e.bIt("input",function(n){e.eBV(t);const s=e.XpG(3);return e.Njj(s.formatSSNInput(n,"personalInformation.spouseSsn"))}),e.k0s(),e.j41(11,"button",41),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.toggleSSNMask("spouse-ssn"))}),e.DNE(12,V,1,0,"i",42)(13,L,1,0,"i",43),e.k0s()()()()()}if(2&i){let t;const o=e.XpG(3);e.R7$(10),e.Y8G("value",o.getDisplaySSN(null==(t=o.intakeForm.get("personalInformation.spouseSsn"))?null:t.value,"spouse-ssn")),e.R7$(2),e.Y8G("ngIf",o.isSSNMasked("spouse-ssn")),e.R7$(),e.Y8G("ngIf",!o.isSSNMasked("spouse-ssn"))}}function X(i,a){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",30)(2,"h5",31),e.EFF(3,"\u{1f510} Section A. Personal Information"),e.k0s(),e.j41(4,"button",32),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.clearSection(0))}),e.nrm(5,"i",33),e.EFF(6,"Clear Section "),e.k0s()(),e.j41(7,"div",34)(8,"div",1)(9,"div",35)(10,"label",36),e.EFF(11,"Full Name *"),e.k0s(),e.nrm(12,"input",37),e.k0s(),e.j41(13,"div",35)(14,"label",36),e.EFF(15,"Date of Birth *"),e.k0s(),e.nrm(16,"input",38),e.k0s()(),e.j41(17,"div",1)(18,"div",35)(19,"label",36),e.EFF(20,"SSN/ITIN *"),e.k0s(),e.j41(21,"div",39)(22,"input",40),e.bIt("input",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.formatSSNInput(n,"personalInformation.ssn"))}),e.k0s(),e.j41(23,"button",41),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.toggleSSNMask("personal-ssn"))}),e.DNE(24,Y,1,0,"i",42)(25,B,1,0,"i",43),e.k0s()()(),e.j41(26,"div",35)(27,"label",36),e.EFF(28,"Marital Status *"),e.k0s(),e.j41(29,"select",44)(30,"option",45),e.EFF(31,"Select Status"),e.k0s(),e.j41(32,"option",46),e.EFF(33,"Single"),e.k0s(),e.j41(34,"option",47),e.EFF(35,"Married Filing Jointly"),e.k0s(),e.j41(36,"option",48),e.EFF(37,"Married Filing Separately"),e.k0s(),e.j41(38,"option",49),e.EFF(39,"Head of Household"),e.k0s(),e.j41(40,"option",50),e.EFF(41,"Qualifying Widower"),e.k0s()()()(),e.DNE(42,U,14,3,"div",22),e.j41(43,"div",51)(44,"div",1)(45,"div",52)(46,"label",36),e.EFF(47,"Street Address *"),e.k0s(),e.nrm(48,"input",53),e.k0s()(),e.j41(49,"div",1)(50,"div",54)(51,"label",36),e.EFF(52,"City *"),e.k0s(),e.nrm(53,"input",55),e.k0s(),e.j41(54,"div",54)(55,"label",36),e.EFF(56,"State *"),e.k0s(),e.nrm(57,"input",56),e.k0s(),e.j41(58,"div",54)(59,"label",36),e.EFF(60,"ZIP Code *"),e.k0s(),e.nrm(61,"input",57),e.k0s()()(),e.j41(62,"div",1)(63,"div",35)(64,"label",36),e.EFF(65,"Phone *"),e.k0s(),e.j41(66,"input",58),e.bIt("input",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.formatPhoneInput(n,"personalInformation.phone"))}),e.k0s()(),e.j41(67,"div",35)(68,"label",36),e.EFF(69,"Email *"),e.k0s(),e.nrm(70,"input",59),e.k0s()(),e.j41(71,"div",60)(72,"h6",61),e.EFF(73,"Driver's License / State ID"),e.k0s(),e.j41(74,"div",1)(75,"div",54)(76,"label",36),e.EFF(77,"License Number"),e.k0s(),e.nrm(78,"input",62),e.k0s(),e.j41(79,"div",54)(80,"label",36),e.EFF(81,"State"),e.k0s(),e.nrm(82,"input",56),e.k0s(),e.j41(83,"div",54)(84,"label",36),e.EFF(85,"Expiration Date"),e.k0s(),e.nrm(86,"input",63),e.k0s()()()()()}if(2&i){let t,o;const n=e.XpG(2);e.R7$(22),e.Y8G("value",n.getDisplaySSN(null==(t=n.intakeForm.get("personalInformation.ssn"))?null:t.value,"personal-ssn")),e.R7$(2),e.Y8G("ngIf",n.isSSNMasked("personal-ssn")),e.R7$(),e.Y8G("ngIf",!n.isSSNMasked("personal-ssn")),e.R7$(17),e.Y8G("ngIf","married-jointly"===(null==(o=n.intakeForm.get("personalInformation.maritalStatus"))?null:o.value)||"married-separately"===(null==(o=n.intakeForm.get("personalInformation.maritalStatus"))?null:o.value))}}function z(i,a){1&i&&(e.j41(0,"div",72),e.nrm(1,"i",73),e.j41(2,"p"),e.EFF(3,'No dependents added yet. Click "Add Dependent" to get started.'),e.k0s()())}function q(i,a){1&i&&e.nrm(0,"i",64)}function J(i,a){1&i&&e.nrm(0,"i",65)}function H(i,a){1&i&&(e.j41(0,"div",1)(1,"div",35)(2,"label",36),e.EFF(3,"Child Care Amount"),e.k0s(),e.nrm(4,"input",90),e.k0s()())}function Q(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",74)(1,"div",75)(2,"h6",31),e.EFF(3),e.k0s(),e.j41(4,"button",32),e.bIt("click",function(){const n=e.eBV(t).index,s=e.XpG(3);return e.Njj(s.removeDependent(n))}),e.nrm(5,"i",76),e.k0s()(),e.j41(6,"div",77)(7,"div",1)(8,"div",35)(9,"label",36),e.EFF(10,"Name *"),e.k0s(),e.nrm(11,"input",78),e.k0s(),e.j41(12,"div",35)(13,"label",36),e.EFF(14,"SSN/ITIN *"),e.k0s(),e.j41(15,"div",39)(16,"input",40),e.bIt("input",function(n){const s=e.eBV(t).index,l=e.XpG(3);return e.Njj(l.formatSSNInput(n,"dependents."+s+".ssn"))}),e.k0s(),e.j41(17,"button",41),e.bIt("click",function(){const n=e.eBV(t).index,s=e.XpG(3);return e.Njj(s.toggleSSNMask("dependent-ssn-"+n))}),e.DNE(18,q,1,0,"i",42)(19,J,1,0,"i",43),e.k0s()()()(),e.j41(20,"div",1)(21,"div",54)(22,"label",36),e.EFF(23,"Date of Birth *"),e.k0s(),e.nrm(24,"input",38),e.k0s(),e.j41(25,"div",54)(26,"label",36),e.EFF(27,"Relationship *"),e.k0s(),e.j41(28,"select",79)(29,"option",45),e.EFF(30,"Select Relationship"),e.k0s(),e.j41(31,"option",80),e.EFF(32,"Son"),e.k0s(),e.j41(33,"option",81),e.EFF(34,"Daughter"),e.k0s(),e.j41(35,"option",82),e.EFF(36,"Stepchild"),e.k0s(),e.j41(37,"option",83),e.EFF(38,"Grandchild"),e.k0s(),e.j41(39,"option",84),e.EFF(40,"Other"),e.k0s()()(),e.j41(41,"div",54)(42,"label",36),e.EFF(43,"Months Lived With You"),e.k0s(),e.nrm(44,"input",85),e.k0s()(),e.j41(45,"div",1)(46,"div",35)(47,"div",86),e.nrm(48,"input",87),e.j41(49,"label",88),e.EFF(50,"Lived with you full year"),e.k0s()()(),e.j41(51,"div",35)(52,"div",86),e.nrm(53,"input",89),e.j41(54,"label",88),e.EFF(55,"Child care expenses paid"),e.k0s()()()(),e.DNE(56,H,5,0,"div",15),e.k0s()()}if(2&i){let t,o;const n=a.$implicit,s=a.index,l=e.XpG(3);e.R7$(3),e.SpI("Dependent ",s+1,""),e.R7$(3),e.Y8G("formGroup",n),e.R7$(10),e.Y8G("value",l.getDisplaySSN(null==(t=n.get("ssn"))?null:t.value,"dependent-ssn-"+s)),e.R7$(2),e.Y8G("ngIf",l.isSSNMasked("dependent-ssn-"+s)),e.R7$(),e.Y8G("ngIf",!l.isSSNMasked("dependent-ssn-"+s)),e.R7$(29),e.Mz_("id","fullYear_",s,""),e.R7$(),e.Mz_("for","fullYear_",s,""),e.R7$(4),e.Mz_("id","childCare_",s,""),e.R7$(),e.Mz_("for","childCare_",s,""),e.R7$(2),e.Y8G("ngIf",null==(o=n.get("childCareExpenses"))?null:o.value)}}function K(i,a){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",30)(2,"h5",31),e.EFF(3,"\u{1f468}\u200d\u{1f469}\u200d\u{1f467} Section B. Dependents"),e.k0s(),e.j41(4,"div",67)(5,"button",32),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.clearSection(1))}),e.nrm(6,"i",33),e.EFF(7,"Clear Section "),e.k0s(),e.j41(8,"button",68),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.addDependent())}),e.nrm(9,"i",69),e.EFF(10,"Add Dependent "),e.k0s()()(),e.DNE(11,z,4,0,"div",70)(12,Q,57,14,"div",71),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(11),e.Y8G("ngIf",0===t.dependentsArray.length),e.R7$(),e.Y8G("ngForOf",t.dependentsArray.controls)}}function W(i,a){1&i&&(e.j41(0,"div",72),e.nrm(1,"i",91),e.j41(2,"p"),e.EFF(3,'No income sources added yet. Click "Add Income Source" to get started.'),e.k0s()())}function Z(i,a){1&i&&(e.j41(0,"div",1)(1,"div",35)(2,"label",36),e.EFF(3,"Employer Name"),e.k0s(),e.nrm(4,"input",105),e.k0s()())}function ee(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",74)(1,"div",75)(2,"h6",31),e.EFF(3),e.k0s(),e.j41(4,"button",32),e.bIt("click",function(){const n=e.eBV(t).index,s=e.XpG(3);return e.Njj(s.removeIncomeSource(n))}),e.nrm(5,"i",76),e.k0s()(),e.j41(6,"div",77)(7,"div",1)(8,"div",54)(9,"label",36),e.EFF(10,"Income Type *"),e.k0s(),e.j41(11,"select",92)(12,"option",45),e.EFF(13,"Select Type"),e.k0s(),e.j41(14,"option",93),e.EFF(15,"W-2 Employment Income"),e.k0s(),e.j41(16,"option",94),e.EFF(17,"1099-NEC (Freelance/Contractor)"),e.k0s(),e.j41(18,"option",95),e.EFF(19,"1099-MISC"),e.k0s(),e.j41(20,"option",96),e.EFF(21,"1099-INT (Interest)"),e.k0s(),e.j41(22,"option",97),e.EFF(23,"1099-DIV (Dividends)"),e.k0s(),e.j41(24,"option",98),e.EFF(25,"1099-B (Stock Sales)"),e.k0s(),e.j41(26,"option",99),e.EFF(27,"1099-R (Retirement)"),e.k0s(),e.j41(28,"option",100),e.EFF(29,"SSA-1099 (Social Security)"),e.k0s(),e.j41(30,"option",101),e.EFF(31,"Rental Income"),e.k0s(),e.j41(32,"option",102),e.EFF(33,"Business/Self-Employment"),e.k0s(),e.j41(34,"option",84),e.EFF(35,"Other Income"),e.k0s()()(),e.j41(36,"div",54)(37,"label",36),e.EFF(38,"Description *"),e.k0s(),e.nrm(39,"input",103),e.k0s(),e.j41(40,"div",54)(41,"label",36),e.EFF(42,"Amount *"),e.k0s(),e.nrm(43,"input",104),e.k0s()(),e.DNE(44,Z,5,0,"div",15),e.k0s()()}if(2&i){let t;const o=a.$implicit,n=a.index;e.R7$(3),e.SpI("Income Source ",n+1,""),e.R7$(3),e.Y8G("formGroup",o),e.R7$(38),e.Y8G("ngIf","w2"===(null==(t=o.get("type"))?null:t.value))}}function te(i,a){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",30)(2,"h5",31),e.EFF(3,"\u{1f4bc} Section C. Income"),e.k0s(),e.j41(4,"div",67)(5,"button",32),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.clearSection(2))}),e.nrm(6,"i",33),e.EFF(7,"Clear Section "),e.k0s(),e.j41(8,"button",68),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.addIncomeSource())}),e.nrm(9,"i",69),e.EFF(10,"Add Income Source "),e.k0s()()(),e.DNE(11,W,4,0,"div",70)(12,ee,45,3,"div",71),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(11),e.Y8G("ngIf",0===t.incomeArray.length),e.R7$(),e.Y8G("ngForOf",t.incomeArray.controls)}}function ne(i,a){1&i&&(e.j41(0,"div",124),e.nrm(1,"input",125),e.k0s())}function oe(i,a){1&i&&(e.j41(0,"div",124),e.nrm(1,"input",126),e.k0s())}function ie(i,a){1&i&&(e.j41(0,"div",124),e.nrm(1,"input",127),e.k0s())}function se(i,a){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",30)(2,"h5",31),e.EFF(3,"\u{1f4b8} Section D. Deductions & Adjustments"),e.k0s(),e.j41(4,"button",32),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.clearSection(3))}),e.nrm(5,"i",33),e.EFF(6,"Clear Section "),e.k0s()(),e.j41(7,"div",106)(8,"div",1)(9,"div",35)(10,"div",86),e.nrm(11,"input",107),e.j41(12,"label",108),e.EFF(13,"Mortgage Interest Paid"),e.k0s()(),e.DNE(14,ne,2,0,"div",109),e.k0s(),e.j41(15,"div",35)(16,"div",86),e.nrm(17,"input",110),e.j41(18,"label",111),e.EFF(19,"Property Taxes Paid"),e.k0s()(),e.DNE(20,oe,2,0,"div",109),e.k0s()(),e.j41(21,"div",1)(22,"div",35)(23,"label",36),e.EFF(24,"Charitable Contributions (Cash)"),e.k0s(),e.nrm(25,"input",112),e.k0s(),e.j41(26,"div",35)(27,"label",36),e.EFF(28,"Charitable Contributions (Non-Cash)"),e.k0s(),e.nrm(29,"input",113),e.k0s()(),e.j41(30,"div",1)(31,"div",35)(32,"div",86),e.nrm(33,"input",114),e.j41(34,"label",115),e.EFF(35,"Student Loan Interest Paid"),e.k0s()(),e.DNE(36,ie,2,0,"div",109),e.k0s(),e.j41(37,"div",35)(38,"label",36),e.EFF(39,"IRA/401(k) Contributions"),e.k0s(),e.nrm(40,"input",116),e.k0s()(),e.j41(41,"div",1)(42,"div",35)(43,"label",36),e.EFF(44,"IRA Type"),e.k0s(),e.j41(45,"select",117)(46,"option",45),e.EFF(47,"Select Type"),e.k0s(),e.j41(48,"option",118),e.EFF(49,"Traditional IRA"),e.k0s(),e.j41(50,"option",119),e.EFF(51,"Roth IRA"),e.k0s(),e.j41(52,"option",120),e.EFF(53,"401(k)"),e.k0s(),e.j41(54,"option",121),e.EFF(55,"403(b)"),e.k0s()()(),e.j41(56,"div",35)(57,"label",36),e.EFF(58,"Medical Expenses (Out-of-Pocket)"),e.k0s(),e.nrm(59,"input",122),e.k0s()(),e.j41(60,"div",61)(61,"label",36),e.EFF(62,"Other Adjustments"),e.k0s(),e.nrm(63,"textarea",123),e.k0s()()()}if(2&i){let t,o,n;const s=e.XpG(2);e.R7$(14),e.Y8G("ngIf",null==(t=s.intakeForm.get("deductionsAdjustments.mortgageInterest"))?null:t.value),e.R7$(6),e.Y8G("ngIf",null==(o=s.intakeForm.get("deductionsAdjustments.propertyTaxes"))?null:o.value),e.R7$(16),e.Y8G("ngIf",null==(n=s.intakeForm.get("deductionsAdjustments.studentLoanInterest"))?null:n.value)}}function re(i,a){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",30)(2,"h5",31),e.EFF(3,"\u{1f3e5} Section E. Health Coverage"),e.k0s(),e.j41(4,"button",32),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.clearSection(4))}),e.nrm(5,"i",33),e.EFF(6,"Clear Section "),e.k0s()(),e.j41(7,"div",128)(8,"div",129)(9,"label",36),e.EFF(10,"Did you have health insurance all year? *"),e.k0s(),e.j41(11,"div",86),e.nrm(12,"input",130),e.j41(13,"label",131),e.EFF(14,"Yes"),e.k0s()(),e.j41(15,"div",86),e.nrm(16,"input",132),e.j41(17,"label",133),e.EFF(18,"No"),e.k0s()()(),e.j41(19,"div",1)(20,"div",54)(21,"div",86),e.nrm(22,"input",134),e.j41(23,"label",135),e.EFF(24,"Marketplace Coverage"),e.k0s()()(),e.j41(25,"div",54)(26,"div",86),e.nrm(27,"input",136),e.j41(28,"label",137),e.EFF(29,"Employer Coverage"),e.k0s()()()(),e.j41(30,"div",1)(31,"div",54)(32,"div",86),e.nrm(33,"input",138),e.j41(34,"label",139),e.EFF(35,"Form 1095-A (Marketplace)"),e.k0s()()(),e.j41(36,"div",54)(37,"div",86),e.nrm(38,"input",140),e.j41(39,"label",141),e.EFF(40,"Form 1095-B"),e.k0s()()(),e.j41(41,"div",54)(42,"div",86),e.nrm(43,"input",142),e.j41(44,"label",143),e.EFF(45,"Form 1095-C"),e.k0s()()()()()()}2&i&&(e.R7$(12),e.Y8G("value",!0),e.R7$(4),e.Y8G("value",!1))}function ae(i,a){1&i&&(e.j41(0,"div",1)(1,"div",35)(2,"label",36),e.EFF(3,"Care Provider Name"),e.k0s(),e.nrm(4,"input",152),e.k0s(),e.j41(5,"div",35)(6,"label",36),e.EFF(7,"Care Provider EIN/SSN"),e.k0s(),e.nrm(8,"input",153),e.k0s()())}function le(i,a){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",30)(2,"h5",31),e.EFF(3,"\u{1f393} Section F. Credits"),e.k0s(),e.j41(4,"button",32),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.clearSection(5))}),e.nrm(5,"i",33),e.EFF(6,"Clear Section "),e.k0s()(),e.j41(7,"div",144)(8,"div",1)(9,"div",35)(10,"label",36),e.EFF(11,"Education Expenses"),e.k0s(),e.nrm(12,"input",145),e.k0s(),e.j41(13,"div",35)(14,"div",146),e.nrm(15,"input",147),e.j41(16,"label",148),e.EFF(17,"Have Form 1098-T (Tuition Statement)"),e.k0s()()()(),e.j41(18,"div",1)(19,"div",35)(20,"label",36),e.EFF(21,"Child & Dependent Care Expenses"),e.k0s(),e.nrm(22,"input",149),e.k0s()(),e.DNE(23,ae,9,0,"div",15),e.j41(24,"div",1)(25,"div",35)(26,"label",36),e.EFF(27,"Adoption Expenses"),e.k0s(),e.nrm(28,"input",150),e.k0s(),e.j41(29,"div",35)(30,"label",36),e.EFF(31,"Energy-Efficient Home Upgrades"),e.k0s(),e.nrm(32,"input",151),e.k0s()()()()}if(2&i){let t;const o=e.XpG(2);e.R7$(23),e.Y8G("ngIf",(null==(t=o.intakeForm.get("credits.childCareExpenses"))?null:t.value)>0)}}function ce(i,a){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",30)(2,"h5",31),e.EFF(3,"\u{1f4c2} Section G. Prior Year & IRS Notices"),e.k0s(),e.j41(4,"button",32),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.clearSection(6))}),e.nrm(5,"i",33),e.EFF(6,"Clear Section "),e.k0s()(),e.j41(7,"div",154)(8,"div",129)(9,"label",36),e.EFF(10,"Did you file taxes last year?"),e.k0s(),e.j41(11,"div",86),e.nrm(12,"input",155),e.j41(13,"label",156),e.EFF(14,"Yes"),e.k0s()(),e.j41(15,"div",86),e.nrm(16,"input",157),e.j41(17,"label",158),e.EFF(18,"No"),e.k0s()()(),e.j41(19,"div",129)(20,"div",86),e.nrm(21,"input",159),e.j41(22,"label",160),e.EFF(23,"Received IRS or State Notices"),e.k0s()()(),e.j41(24,"div",61)(25,"label",36),e.EFF(26,"Other Notes or Questions"),e.k0s(),e.nrm(27,"textarea",161),e.k0s()()()}2&i&&(e.R7$(12),e.Y8G("value",!0),e.R7$(4),e.Y8G("value",!1))}function de(i,a){if(1&i){const t=e.RV6();e.j41(0,"button",162),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.submitForm())}),e.nrm(1,"i",163),e.EFF(2,"Submit Form "),e.k0s()}if(2&i){const t=e.XpG(2);e.Y8G("disabled",!t.intakeForm.valid||t.isLoading)}}function me(i,a){if(1&i){const t=e.RV6();e.j41(0,"button",164),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.nextSection())}),e.EFF(1," Next"),e.nrm(2,"i",165),e.k0s()}}function ue(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"form",21),e.DNE(5,X,87,4,"div",22)(6,K,13,2,"div",22)(7,te,13,2,"div",22)(8,se,64,3,"div",22)(9,re,46,2,"div",22)(10,le,33,1,"div",22)(11,ce,28,2,"div",22),e.j41(12,"div",23)(13,"button",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.previousSection())}),e.nrm(14,"i",25),e.EFF(15,"Previous "),e.k0s(),e.j41(16,"div")(17,"button",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.autoSave())}),e.nrm(18,"i",27),e.EFF(19,"Save Draft "),e.k0s(),e.DNE(20,de,3,1,"button",28)(21,me,3,0,"button",29),e.k0s()()()()()()()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("formGroup",t.intakeForm),e.R7$(),e.Y8G("ngIf",0===t.currentSection),e.R7$(),e.Y8G("ngIf",1===t.currentSection),e.R7$(),e.Y8G("ngIf",2===t.currentSection),e.R7$(),e.Y8G("ngIf",3===t.currentSection),e.R7$(),e.Y8G("ngIf",4===t.currentSection),e.R7$(),e.Y8G("ngIf",5===t.currentSection),e.R7$(),e.Y8G("ngIf",6===t.currentSection),e.R7$(2),e.Y8G("disabled",0===t.currentSection),e.R7$(4),e.Y8G("disabled",t.isSaving),e.R7$(3),e.Y8G("ngIf",t.currentSection===t.sections.length-1),e.R7$(),e.Y8G("ngIf",t.currentSection<t.sections.length-1)}}function pe(i,a){1&i&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",166)(4,"div",167)(5,"span",12),e.EFF(6,"Loading..."),e.k0s()(),e.j41(7,"p",168),e.EFF(8,"Loading your intake form..."),e.k0s()()()()())}let fe=(()=>{class i{constructor(t,o){this.fb=t,this.apiService=o,this.destroy$=new w.B,this.currentSection=0,this.progress=0,this.isLoading=!1,this.isSaving=!1,this.formId=1,this.ssnMasked={},this.sections=[{id:0,title:"Personal Information",description:"Basic personal and contact information",icon:"ri-user-line",completed:!1,required:!0},{id:1,title:"Dependents",description:"Information about dependents and children",icon:"ri-group-line",completed:!1,required:!1},{id:2,title:"Income",description:"All sources of income for the tax year",icon:"ri-money-dollar-circle-line",completed:!1,required:!0},{id:3,title:"Deductions & Adjustments",description:"Itemized deductions and income adjustments",icon:"ri-calculator-line",completed:!1,required:!1},{id:4,title:"Health Coverage",description:"Health insurance coverage information",icon:"ri-heart-pulse-line",completed:!1,required:!0},{id:5,title:"Credits",description:"Tax credits and education expenses",icon:"ri-award-line",completed:!1,required:!1},{id:6,title:"Prior Year & IRS Notices",description:"Previous year information and IRS correspondence",icon:"ri-file-text-line",completed:!1,required:!1}],this.initializeForm();const n=localStorage.getItem("currentUser");n&&(this.currentUser=JSON.parse(n))}ngOnInit(){this.loadExistingData(),this.setupAutoSave(),this.progress=0}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){this.intakeForm=this.fb.group({personalInformation:this.fb.group({fullName:["",r.k0.required],dateOfBirth:["",r.k0.required],ssn:["",[r.k0.required,r.k0.pattern(/^\d{3}-\d{2}-\d{4}$/)]],maritalStatus:["",r.k0.required],spouseName:[""],spouseSsn:[""],address:this.fb.group({street:["",r.k0.required],city:["",r.k0.required],state:["",r.k0.required],zipCode:["",[r.k0.required,r.k0.pattern(/^\d{5}(-\d{4})?$/)]]}),phone:["",[r.k0.required,r.k0.pattern(/^\(\d{3}\) \d{3}-\d{4}$/)]],email:["",[r.k0.required,r.k0.email]],driverLicense:this.fb.group({number:[""],state:[""],expiration:[""]})}),dependents:this.fb.array([]),incomeSource:this.fb.array([]),deductionsAdjustments:this.fb.group({mortgageInterest:[!1],mortgageAmount:[0],propertyTaxes:[!1],propertyTaxAmount:[0],charitableCash:[0],charitableNonCash:[0],studentLoanInterest:[!1],studentLoanAmount:[0],iraContributions:[0],iraType:[""],medicalExpenses:[0],otherAdjustments:[""]}),healthCoverage:this.fb.group({hadInsuranceAllYear:[null,r.k0.required],marketplaceCoverage:[!1],employerCoverage:[!1],form1095A:[!1],form1095B:[!1],form1095C:[!1]}),credits:this.fb.group({educationExpenses:[0],tuition1098T:[!1],childCareExpenses:[0],childCareProviderName:[""],childCareProviderEin:[""],adoptionExpenses:[0],energyEfficiencyUpgrades:[0]}),priorYearInfo:this.fb.group({filedLastYear:[null],estimatedTaxPayments:this.fb.array([]),irsNotices:[!1],otherNotes:[""]})})}loadExistingData(){this.isLoading=!0,console.log("\u{1f504} Loading existing intake data"),console.log("Form ID:",this.formId),console.log("Auth token exists:",!!localStorage.getItem("authToken")),this.apiService.getMyIntakeResponse(this.formId).pipe((0,p.Q)(this.destroy$)).subscribe({next:t=>{console.log("\u2705 Load response received:",t),t.success&&t.responses?(console.log("\u{1f4cb} Populating form with existing data"),this.populateFormFromAPI(t.responses)):console.log("\u2139\ufe0f No existing data found or response not successful"),this.isLoading=!1},error:t=>{console.error("\u274c Error loading intake form:",t),console.error("Error details:",{status:t.status,statusText:t.statusText,message:t.message,error:t.error}),404!==t.status?401===t.status||400===t.status?(console.error("\u{1f6a8} Authentication issue while loading data"),m().fire({title:"Authentication Error",text:"Your session may have expired. Please log in again.",icon:"warning",confirmButtonText:"Login",showCancelButton:!0}).then(o=>{o.isConfirmed&&(window.location.href="/account/login")})):m().fire({title:"Error",text:"Failed to load existing form data.",icon:"error"}):console.log("\u2139\ufe0f No existing data found (404)"),this.isLoading=!1}})}populateFormFromAPI(t){try{let o;if(o=t.personalInfo&&"string"==typeof t.personalInfo?JSON.parse(t.personalInfo):t.personalInfo&&"object"==typeof t.personalInfo?t.personalInfo:t,o.personalInfo){const n={...o.personalInfo};n.firstName&&n.lastName&&!n.fullName&&(n.fullName=`${n.firstName} ${n.lastName}`),this.intakeForm.get("personalInformation")?.patchValue(n)}if(o.incomeInfo){if(o.incomeInfo.sources&&o.incomeInfo.sources.length>0){const n=this.intakeForm.get("incomeSource");o.incomeInfo.sources.forEach(s=>{n.push(this.createIncomeGroup(s))})}if(o.incomeInfo.dependents&&o.incomeInfo.dependents.length>0){const n=this.intakeForm.get("dependents");o.incomeInfo.dependents.forEach(s=>{n.push(this.createDependentGroup(s))})}}if(o.deductionsInfo){const n={...o.deductionsInfo};n.healthCoverage&&(this.intakeForm.get("healthCoverage")?.patchValue(n.healthCoverage),delete n.healthCoverage),n.credits&&(this.intakeForm.get("credits")?.patchValue(n.credits),delete n.credits),n.priorYearInfo&&(this.intakeForm.get("priorYearInfo")?.patchValue(n.priorYearInfo),delete n.priorYearInfo),this.intakeForm.get("deductionsAdjustments")?.patchValue(n)}this.updateProgress()}catch(o){console.error("Error parsing intake form data:",o),this.updateProgress()}}setupAutoSave(){this.intakeForm.valueChanges.pipe((0,P.B)(2e3),(0,O.F)(),(0,p.Q)(this.destroy$)).subscribe(()=>{this.autoSave()})}autoSave(){if(!this.isSaving){this.isSaving=!0;const t=this.prepareAPIFormData();console.log("\u{1f504} Auto-save triggered"),console.log("\u{1f4cb} Form data structure:",Object.keys(JSON.parse(t.responseJson))),console.log("\u{1f511} Auth token check:",!!localStorage.getItem("authToken")),this.apiService.saveMyIntakeDraft(this.formId,t).pipe((0,p.Q)(this.destroy$)).subscribe({next:o=>{if(this.isSaving=!1,this.updateProgress(),console.log("\u2705 Auto-save successful:",o),o.success){const n=document.createElement("div");n.className="toast-container position-fixed top-0 end-0 p-3",n.innerHTML='\n                <div class="toast show" role="alert">\n                  <div class="toast-body bg-success text-white">\n                    <i class="ri-check-line me-1"></i>Draft saved successfully\n                  </div>\n                </div>\n              ',document.body.appendChild(n),setTimeout(()=>document.body.removeChild(n),3e3)}},error:o=>{this.isSaving=!1,console.error("\u274c Auto-save failed:",o),console.error("Error details:",{status:o.status,statusText:o.statusText,message:o.message,error:o.error}),401===o.status||400===o.status?(console.error("\u{1f6a8} Authentication issue detected"),console.error("Current token:",localStorage.getItem("authToken")?"exists":"missing"),m().fire({title:"Authentication Error",text:"Your session may have expired. Please log in again.",icon:"warning",confirmButtonText:"Login",showCancelButton:!0}).then(n=>{n.isConfirmed&&(window.location.href="/account/login")})):m().fire({title:"Save Failed",text:"Unable to save draft. Please try again.",icon:"error",timer:3e3,showConfirmButton:!1})}})}}prepareAPIFormData(){const t=this.intakeForm.value,o={personalInfo:{firstName:t.personalInformation?.fullName?.split(" ")[0]||"",lastName:t.personalInformation?.fullName?.split(" ").slice(1).join(" ")||"",email:t.personalInformation?.email||"",phone:t.personalInformation?.phone||"",dateOfBirth:t.personalInformation?.dateOfBirth||"",ssn:t.personalInformation?.ssn||"",maritalStatus:t.personalInformation?.maritalStatus||"",address:t.personalInformation?.address||{}},incomeInfo:{sources:t.incomeSource||[],dependents:t.dependents||[],estimatedIncome:this.calculateTotalIncome(t.incomeSource||[])},deductionsInfo:{...t.deductionsAdjustments,healthCoverage:t.healthCoverage,credits:t.credits,priorYearInfo:t.priorYearInfo},documentsInfo:{currentSection:this.currentSection,progress:this.progress,lastSaved:(new Date).toISOString(),completedSections:this.sections.filter(n=>n.completed).length},additionalInfo:{formVersion:"1.0",submissionSource:"client-portal"}};return{responseJson:JSON.stringify(o)}}prepareLegacyAPIFormData(){const t=this.prepareAPIFormData();return{formId:1,responseJson:JSON.stringify(t)}}calculateTotalIncome(t){return t.reduce((o,n)=>o+(n.amount||0),0)}updateProgress(){this.progress=this.calculateProgress()}calculateProgress(){this.sections.forEach((n,s)=>{n.completed=this.isSectionCompleted(s)});const t=this.sections.length,o=this.sections.filter(n=>n.completed).length;return Math.round(o/t*100)}isSectionCompleted(t){const o=this.intakeForm.value;switch(t){case 0:const n=o.personalInformation;return!!(n?.fullName&&n?.ssn&&n?.address?.street);case 1:case 3:case 5:return!0;case 2:return o.incomeSource&&o.incomeSource.length>0;case 4:return null!==o.healthCoverage?.hadInsuranceAllYear;case 6:return null!==o.priorYearInfo?.filedLastYear;default:return!1}}goToSection(t){this.currentSection=t}nextSection(){this.currentSection<this.sections.length-1&&this.currentSection++}previousSection(){this.currentSection>0&&this.currentSection--}get dependentsArray(){return this.intakeForm.get("dependents")}get incomeArray(){return this.intakeForm.get("incomeSource")}createDependentGroup(t){return this.fb.group({id:[t?.id||this.generateId()],name:[t?.name||"",r.k0.required],ssn:[t?.ssn||"",[r.k0.required,r.k0.pattern(/^\d{3}-\d{2}-\d{4}$/)]],dateOfBirth:[t?.dateOfBirth||"",r.k0.required],relationship:[t?.relationship||"",r.k0.required],monthsLivedWithYou:[t?.monthsLivedWithYou||12,[r.k0.min(1),r.k0.max(12)]],fullYear:[void 0===t?.fullYear||t.fullYear],childCareExpenses:[t?.childCareExpenses||!1],childCareAmount:[t?.childCareAmount||0]})}createIncomeGroup(t){return this.fb.group({id:[t?.id||this.generateId()],type:[t?.type||"",r.k0.required],description:[t?.description||"",r.k0.required],amount:[t?.amount||0,[r.k0.required,r.k0.min(0)]],employerName:[t?.employerName||""],details:[t?.details||{}]})}addDependent(){this.dependentsArray.push(this.createDependentGroup())}removeDependent(t){this.dependentsArray.removeAt(t)}addIncomeSource(){this.incomeArray.push(this.createIncomeGroup())}removeIncomeSource(t){this.incomeArray.removeAt(t)}toggleSSNMask(t){this.ssnMasked[t]=!this.ssnMasked[t]}isSSNMasked(t){return!1!==this.ssnMasked[t]}getDisplaySSN(t,o){return this.isSSNMasked(o)?this.maskSSN(t):t}maskSSN(t){if(!t)return"";const o=t.replace(/\D/g,"");return o.length>=9?`***-**-${o.slice(-4)}`:t}formatSSNInput(t,o){const s=this.formatSSN(t.target.value);this.intakeForm.get(o)?.setValue(s)}formatSSN(t){const o=t.replace(/\D/g,"");return o.length>=9?`${o.slice(0,3)}-${o.slice(3,5)}-${o.slice(5,9)}`:o.length>=5?`${o.slice(0,3)}-${o.slice(3,5)}-${o.slice(5)}`:o.length>=3?`${o.slice(0,3)}-${o.slice(3)}`:o}generateId(){return Math.random().toString(36).substr(2,9)}formatPhoneInput(t,o){const n=t.target.value.replace(/\D/g,"");let s="";s=n.length>=10?`(${n.slice(0,3)}) ${n.slice(3,6)}-${n.slice(6,10)}`:n.length>=6?`(${n.slice(0,3)}) ${n.slice(3,6)}-${n.slice(6)}`:n.length>=3?`(${n.slice(0,3)}) ${n.slice(3)}`:n,this.intakeForm.get(o)?.setValue(s)}clearSection(t){m().fire({title:"Clear Section",text:`Are you sure you want to clear all data in the "${this.sections[t].title}" section?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, Clear Section",cancelButtonText:"Cancel"}).then(o=>{o.isConfirmed&&this.performClearSection(t)})}performClearSection(t){switch(t){case 0:this.intakeForm.get("personalInformation")?.reset();break;case 1:const o=this.intakeForm.get("dependents");for(;0!==o.length;)o.removeAt(0);break;case 2:const n=this.intakeForm.get("incomeSource");for(;0!==n.length;)n.removeAt(0);break;case 3:this.intakeForm.get("deductionsAdjustments")?.reset();break;case 4:this.intakeForm.get("healthCoverage")?.reset();break;case 5:this.intakeForm.get("credits")?.reset();break;case 6:this.intakeForm.get("priorYearInfo")?.reset();const s=this.intakeForm.get("priorYearInfo.estimatedTaxPayments");if(s)for(;0!==s.length;)s.removeAt(0)}this.updateProgress(),m().fire({title:"Section Cleared",text:`The "${this.sections[t].title}" section has been cleared.`,icon:"success",timer:2e3,showConfirmButton:!1})}submitForm(){this.intakeForm.valid?m().fire({title:"Submit Intake Form",text:"Are you sure you want to submit your tax intake form? You won't be able to make changes after submission.",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Submit"}).then(t=>{t.isConfirmed&&this.performSubmit()}):m().fire({title:"Form Incomplete",text:"Please complete all required sections before submitting.",icon:"warning"})}performSubmit(){this.isLoading=!0;const t=this.prepareAPIFormData(),o=JSON.parse(t.responseJson);o.documentsInfo={...o.documentsInfo,status:"submitted",submittedAt:(new Date).toISOString()};const n={responseJson:JSON.stringify(o)};this.apiService.submitMyIntakeResponse(this.formId,n).pipe((0,p.Q)(this.destroy$)).subscribe({next:s=>{this.isLoading=!1,s.success?m().fire({title:"Success!",text:"Your tax intake form has been submitted successfully.",icon:"success"}):m().fire({title:"Error",text:s.message||"There was an error submitting your form.",icon:"error"})},error:s=>{this.isLoading=!1,m().fire({title:"Error",text:"There was an error submitting your form. Please try again.",icon:"error"}),console.error("Submit error:",s)}})}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(r.ok),e.rXU(R.G))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-tax-intake"]],decls:20,vars:10,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"card-title","mb-0"],[1,"d-flex","align-items-center"],["class","badge bg-info me-2",4,"ngIf"],[1,"text-muted"],[1,"progress","mb-3",2,"height","12px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info"],[1,"visually-hidden"],[1,"d-flex","flex-wrap","gap-2"],["type","button","class","btn btn-sm btn-info",3,"click",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"badge","bg-info","me-2"],["type","button",1,"btn","btn-sm","btn-info",3,"click"],[1,"me-1"],["class","ri-check-line ms-1",4,"ngIf"],[1,"ri-check-line","ms-1"],[3,"formGroup"],[4,"ngIf"],[1,"d-flex","justify-content-between","mt-4"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"ri-arrow-left-line","me-1"],["type","button",1,"btn","btn-info","me-2",3,"click","disabled"],[1,"ri-save-line","me-1"],["type","button","class","btn btn-info",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-info",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-0"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"ri-delete-bin-line","me-1"],["formGroupName","personalInformation"],[1,"col-md-6","mb-3"],[1,"form-label"],["type","text","formControlName","fullName",1,"form-control"],["type","date","formControlName","dateOfBirth",1,"form-control"],[1,"input-group"],["type","text","placeholder","***-**-****",1,"form-control",3,"input","value"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["class","ri-eye-line",4,"ngIf"],["class","ri-eye-off-line",4,"ngIf"],["formControlName","maritalStatus",1,"form-select"],["value",""],["value","single"],["value","married-jointly"],["value","married-separately"],["value","head-of-household"],["value","qualifying-widower"],["formGroupName","address"],[1,"col-12","mb-3"],["type","text","formControlName","street",1,"form-control"],[1,"col-md-4","mb-3"],["type","text","formControlName","city",1,"form-control"],["type","text","formControlName","state",1,"form-control"],["type","text","formControlName","zipCode",1,"form-control"],["type","tel","formControlName","phone","placeholder","(555) 123-4567",1,"form-control",3,"input"],["type","email","formControlName","email",1,"form-control"],["formGroupName","driverLicense"],[1,"mb-3"],["type","text","formControlName","number",1,"form-control"],["type","date","formControlName","expiration",1,"form-control"],[1,"ri-eye-line"],[1,"ri-eye-off-line"],["type","text","formControlName","spouseName",1,"form-control"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-info","btn-sm",3,"click"],[1,"ri-add-line","me-1"],["class","text-center text-muted py-4",4,"ngIf"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"text-center","text-muted","py-4"],[1,"ri-group-line","font-size-48","mb-3","d-block"],[1,"card","mb-3"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"ri-delete-bin-line"],[1,"card-body",3,"formGroup"],["type","text","formControlName","name",1,"form-control"],["formControlName","relationship",1,"form-select"],["value","son"],["value","daughter"],["value","stepchild"],["value","grandchild"],["value","other"],["type","number","formControlName","monthsLivedWithYou","min","1","max","12",1,"form-control"],[1,"form-check"],["type","checkbox","formControlName","fullYear",1,"form-check-input",3,"id"],[1,"form-check-label",3,"for"],["type","checkbox","formControlName","childCareExpenses",1,"form-check-input",3,"id"],["type","number","formControlName","childCareAmount","min","0",1,"form-control"],[1,"ri-money-dollar-circle-line","font-size-48","mb-3","d-block"],["formControlName","type",1,"form-select"],["value","w2"],["value","1099-nec"],["value","1099-misc"],["value","1099-int"],["value","1099-div"],["value","1099-b"],["value","1099-r"],["value","ssa-1099"],["value","rental"],["value","business"],["type","text","formControlName","description","placeholder","e.g., ABC Company, Rental Property",1,"form-control"],["type","number","formControlName","amount","min","0","step","0.01",1,"form-control"],["type","text","formControlName","employerName",1,"form-control"],["formGroupName","deductionsAdjustments"],["type","checkbox","formControlName","mortgageInterest","id","mortgageInterest",1,"form-check-input"],["for","mortgageInterest",1,"form-check-label"],["class","mt-2",4,"ngIf"],["type","checkbox","formControlName","propertyTaxes","id","propertyTaxes",1,"form-check-input"],["for","propertyTaxes",1,"form-check-label"],["type","number","formControlName","charitableCash","min","0",1,"form-control"],["type","number","formControlName","charitableNonCash","min","0",1,"form-control"],["type","checkbox","formControlName","studentLoanInterest","id","studentLoanInterest",1,"form-check-input"],["for","studentLoanInterest",1,"form-check-label"],["type","number","formControlName","iraContributions","min","0",1,"form-control"],["formControlName","iraType",1,"form-select"],["value","traditional"],["value","roth"],["value","401k"],["value","403b"],["type","number","formControlName","medicalExpenses","min","0",1,"form-control"],["formControlName","otherAdjustments","rows","3","placeholder","Describe any other deductions or adjustments",1,"form-control"],[1,"mt-2"],["type","number","formControlName","mortgageAmount","placeholder","Amount","min","0",1,"form-control"],["type","number","formControlName","propertyTaxAmount","placeholder","Amount","min","0",1,"form-control"],["type","number","formControlName","studentLoanAmount","placeholder","Amount","min","0",1,"form-control"],["formGroupName","healthCoverage"],[1,"mb-4"],["type","radio","formControlName","hadInsuranceAllYear","id","insurance_yes",1,"form-check-input",3,"value"],["for","insurance_yes",1,"form-check-label"],["type","radio","formControlName","hadInsuranceAllYear","id","insurance_no",1,"form-check-input",3,"value"],["for","insurance_no",1,"form-check-label"],["type","checkbox","formControlName","marketplaceCoverage","id","marketplace",1,"form-check-input"],["for","marketplace",1,"form-check-label"],["type","checkbox","formControlName","employerCoverage","id","employer",1,"form-check-input"],["for","employer",1,"form-check-label"],["type","checkbox","formControlName","form1095A","id","form1095A",1,"form-check-input"],["for","form1095A",1,"form-check-label"],["type","checkbox","formControlName","form1095B","id","form1095B",1,"form-check-input"],["for","form1095B",1,"form-check-label"],["type","checkbox","formControlName","form1095C","id","form1095C",1,"form-check-input"],["for","form1095C",1,"form-check-label"],["formGroupName","credits"],["type","number","formControlName","educationExpenses","min","0",1,"form-control"],[1,"form-check","mt-4"],["type","checkbox","formControlName","tuition1098T","id","tuition1098T",1,"form-check-input"],["for","tuition1098T",1,"form-check-label"],["type","number","formControlName","childCareExpenses","min","0",1,"form-control"],["type","number","formControlName","adoptionExpenses","min","0",1,"form-control"],["type","number","formControlName","energyEfficiencyUpgrades","min","0",1,"form-control"],["type","text","formControlName","childCareProviderName",1,"form-control"],["type","text","formControlName","childCareProviderEin",1,"form-control"],["formGroupName","priorYearInfo"],["type","radio","formControlName","filedLastYear","id","filed_yes",1,"form-check-input",3,"value"],["for","filed_yes",1,"form-check-label"],["type","radio","formControlName","filedLastYear","id","filed_no",1,"form-check-input",3,"value"],["for","filed_no",1,"form-check-label"],["type","checkbox","formControlName","irsNotices","id","irsNotices",1,"form-check-input"],["for","irsNotices",1,"form-check-label"],["formControlName","otherNotes","rows","4","placeholder","Any additional information, questions, or special circumstances you'd like your accountant to know about",1,"form-control"],["type","button",1,"btn","btn-info",3,"click","disabled"],[1,"ri-send-plane-line","me-1"],["type","button",1,"btn","btn-info",3,"click"],[1,"ri-arrow-right-line","ms-1"],[1,"card-body","text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"mt-3","text-muted"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),e.EFF(7,"\u{1f4c4} Client Tax Intake Form"),e.k0s(),e.j41(8,"div",7),e.DNE(9,G,2,0,"span",8),e.j41(10,"span",9),e.EFF(11),e.k0s()()(),e.j41(12,"div",10)(13,"div",11)(14,"span",12),e.EFF(15),e.k0s()()(),e.j41(16,"div",13),e.DNE(17,A,4,4,"button",14),e.k0s()()()()(),e.DNE(18,ue,22,12,"div",15)(19,pe,9,0,"div",15),e.k0s()),2&o&&(e.R7$(9),e.Y8G("ngIf",n.isSaving),e.R7$(2),e.Lme("Step ",n.currentSection+1," of ",n.sections.length,""),e.R7$(2),e.xc7("width",n.progress,"%"),e.BMQ("aria-valuenow",n.progress),e.R7$(2),e.SpI("",n.progress,"% Complete"),e.R7$(2),e.Y8G("ngForOf",n.sections),e.R7$(),e.Y8G("ngIf",!n.isLoading),e.R7$(),e.Y8G("ngIf",n.isLoading))},dependencies:[d.Sq,d.bT,r.qT,r.xH,r.y7,r.me,r.Q0,r.Zm,r.wz,r.Fm,r.BC,r.cb,r.VZ,r.zX,r.j4,r.JD,r.$R],styles:['.progress[_ngcontent-%COMP%]{background-color:#e9ecef;border-radius:8px;height:12px!important}.progress-bar[_ngcontent-%COMP%]{background-color:#17a2b8!important;border-radius:8px;transition:width .6s ease}.progress-bar.bg-info[_ngcontent-%COMP%]{background-color:#17a2b8!important}.btn-sm[_ngcontent-%COMP%]{font-size:.875rem;padding:.375rem .75rem;border-radius:6px}.btn-sm.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-sm.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.btn-sm.btn-primary[_ngcontent-%COMP%]{background-color:#405189;border-color:#405189}.btn-sm.btn-primary[_ngcontent-%COMP%]:hover{background-color:#364574;border-color:#2f3d66}.card[_ngcontent-%COMP%]{border:1px solid #e9ecef;border-radius:8px;box-shadow:0 .125rem .25rem #00000013}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #e9ecef;padding:1rem 1.25rem}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#495057;margin-bottom:.5rem}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:6px;padding:.5rem .75rem;font-size:.875rem}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#405189;box-shadow:0 0 0 .2rem #40518940}.form-control.is-invalid[_ngcontent-%COMP%], .form-select.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.form-control.is-invalid[_ngcontent-%COMP%]:focus, .form-select.is-invalid[_ngcontent-%COMP%]:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem #dc354540}.input-group[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{border-color:#ced4da;color:#6c757d}.input-group[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;border-color:#adb5bd;color:#495057}.input-group[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #6c757d40}.form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#405189;border-color:#405189}.form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{border-color:#405189;box-shadow:0 0 0 .2rem #40518940}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{font-weight:500;color:#495057}.text-muted[_ngcontent-%COMP%]{color:#6c757d!important}.font-size-48[_ngcontent-%COMP%]{font-size:3rem!important}.badge.bg-info[_ngcontent-%COMP%]{background-color:#17a2b8!important}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#dc3545;border-color:#dc3545;color:#fff}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}h5[_ngcontent-%COMP%]{color:#405189;font-weight:600;margin-bottom:1.5rem}h6[_ngcontent-%COMP%]{color:#495057;font-weight:600}@media (max-width: 768px){.d-flex.flex-wrap.gap-2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:.75rem}.d-flex.flex-wrap.gap-2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem}.card-body[_ngcontent-%COMP%]{padding:1rem}.container-fluid[_ngcontent-%COMP%]{padding-left:.75rem;padding-right:.75rem}}.card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.form-label[_ngcontent-%COMP%]:after{content:""}.form-label[_ngcontent-%COMP%]:has( + input[required])[_ngcontent-%COMP%]:after, .form-label[_ngcontent-%COMP%]:has( + select[required])[_ngcontent-%COMP%]:after, .form-label[_ngcontent-%COMP%]:has( + textarea[required])[_ngcontent-%COMP%]:after{content:" *";color:#dc3545}.input-group[_ngcontent-%COMP%]   .form-control[placeholder*="***"][_ngcontent-%COMP%]{font-family:monospace;letter-spacing:1px}.progress[_ngcontent-%COMP%]{position:relative}.progress[_ngcontent-%COMP%]:after{content:attr(data-progress) "%";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:.75rem;font-weight:600;color:#495057}']})}}return i})();var ge=c(5538);const he=["messagesContainer"];function be(i,a){if(1&i&&(e.j41(0,"div",17)(1,"span",18),e.EFF(2),e.k0s()()),2&i){const t=e.XpG().$implicit,o=e.XpG();e.R7$(2),e.JRh(o.formatDate(t.timestamp))}}function _e(i,a){1&i&&e.nrm(0,"i",53)}function ke(i,a){1&i&&e.nrm(0,"i",54)}function ve(i,a){if(1&i&&(e.j41(0,"div",49)(1,"div",50),e.DNE(2,_e,1,0,"i",51)(3,ke,1,0,"i",52),e.k0s()()),2&i){const t=e.XpG().$implicit,o=e.XpG();e.R7$(),e.AVh("bg-primary","ACCOUNTANT"===t.senderType)("bg-gradient-ai",o.isAIMessage(t)),e.R7$(),e.Y8G("ngIf","ACCOUNTANT"===t.senderType),e.R7$(),e.Y8G("ngIf",o.isAIMessage(t))}}function Fe(i,a){if(1&i&&(e.j41(0,"div",55),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.senderName)}}function Ce(i,a){1&i&&(e.j41(0,"div",56)(1,"button",57),e.nrm(2,"i",58),e.k0s()())}function xe(i,a){if(1&i&&(e.j41(0,"div",40),e.DNE(1,be,3,1,"div",41),e.j41(2,"div",42),e.DNE(3,ve,4,6,"div",43),e.j41(4,"div",44),e.DNE(5,Fe,2,1,"div",45),e.j41(6,"div",46),e.EFF(7),e.k0s(),e.j41(8,"div",47),e.EFF(9),e.k0s()(),e.DNE(10,Ce,3,0,"div",48),e.k0s()()),2&i){const t=a.$implicit,o=a.index,n=e.XpG();e.R7$(),e.Y8G("ngIf",n.shouldShowDateSeparator(o)),e.R7$(),e.AVh("message-sent",n.isMyMessage(t))("message-received",!n.isMyMessage(t)),e.R7$(),e.Y8G("ngIf",!n.isMyMessage(t)),e.R7$(),e.AVh("bubble-sent",n.isMyMessage(t))("bubble-received","ACCOUNTANT"===t.senderType)("bubble-ai",n.isAIMessage(t)),e.R7$(),e.Y8G("ngIf",!n.isMyMessage(t)),e.R7$(2),e.JRh(t.content),e.R7$(2),e.JRh(n.formatTime(t.timestamp)),e.R7$(),e.Y8G("ngIf",!n.isMyMessage(t))}}function ye(i,a){1&i&&(e.j41(0,"div",59)(1,"div",60)(2,"span",61),e.EFF(3,"Loading..."),e.k0s()(),e.j41(4,"small",62),e.EFF(5,"Loading messages..."),e.k0s()())}const Ie=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",loadComponent:()=>c.e(796).then(c.bind(c,8796)).then(i=>i.ClientDashboardComponent)},{path:"documents",component:I},{path:"intake",component:D},{path:"tax-intake",component:fe},{path:"chat",component:(()=>{class i{constructor(t){this.chatService=t,this.messages=[],this.newMessage="",this.currentThread=null,this.isLoading=!1,this.subscriptions=[],this.currentUser=this.chatService.getCurrentUser()}ngOnInit(){this.loadMessages()}ngAfterViewChecked(){this.scrollToBottom()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}loadMessages(){this.isLoading=!0;const t=this.currentUser?.id||1,o=this.loadMessagesFromStorage(t);if(o.length>0)return this.messages=o,void(this.isLoading=!1);const n=this.chatService.getThread(t).subscribe({next:s=>{this.currentThread=s.thread,this.messages=s.messages,this.saveMessagesToStorage(t,this.messages),this.isLoading=!1},error:s=>{console.error("Error loading messages:",s),this.isLoading=!1,this.loadMockMessages(),this.saveMessagesToStorage(t,this.messages)}});this.subscriptions.push(n)}loadMockMessages(){this.messages=[{content:"Hello! Welcome to our chat system. How can I help you today?",senderId:1,senderName:"Sarah Johnson, CPA",senderType:"ACCOUNTANT",timestamp:new Date("2024-02-10T09:00:00"),threadId:1},{content:"Hi Sarah! I have a question about my quarterly tax payments.",senderId:this.currentUser?.id||2,senderName:"You",senderType:"CLIENT",timestamp:new Date("2024-02-10T09:15:00"),threadId:1},{content:"Of course! I'd be happy to help with your quarterly payments. What specific question do you have?",senderId:1,senderName:"Sarah Johnson, CPA",senderType:"ACCOUNTANT",timestamp:new Date("2024-02-10T09:16:00"),threadId:1}]}loadMessagesFromStorage(t){try{const o=`chat_messages_client_${t}`,n=localStorage.getItem(o);if(n)return JSON.parse(n).map(l=>({...l,timestamp:new Date(l.timestamp)}))}catch(o){console.error("Error loading messages from storage:",o)}return[]}saveMessagesToStorage(t,o){try{const n=`chat_messages_client_${t}`;localStorage.setItem(n,JSON.stringify(o))}catch(n){console.error("Error saving messages to storage:",n)}}sendMessage(){if(this.newMessage.trim()&&this.currentThread){const t={content:this.newMessage.trim(),senderType:"CLIENT"},o=this.currentUser?.id||1,n=this.chatService.sendMessage(o,t).subscribe({next:s=>{const l={content:this.newMessage,senderId:this.currentUser?.id||2,senderName:"You",senderType:"CLIENT",timestamp:new Date,threadId:this.currentThread?.id||1};this.messages.push(l),this.saveMessagesToStorage(o,this.messages),this.newMessage="",l.content.toLowerCase().includes("@ai")&&this.handleAIResponse(l.content)},error:s=>{console.error("Error sending message:",s);const l={content:this.newMessage,senderId:this.currentUser?.id||2,senderName:"You",senderType:"CLIENT",timestamp:new Date,threadId:this.currentThread?.id||1};this.messages.push(l),this.saveMessagesToStorage(o,this.messages),this.newMessage="",l.content.toLowerCase().includes("@ai")&&this.handleAIResponse(l.content)}});this.subscriptions.push(n)}}addLocalMessage(){const t={content:this.newMessage.trim(),senderId:this.currentUser?.id||2,senderName:"You",senderType:"CLIENT",timestamp:new Date,threadId:this.currentThread?.id||1};this.messages.push(t),this.newMessage="",setTimeout(()=>{this.simulateAccountantResponse()},2e3)}simulateAccountantResponse(){const t=["Thank you for your message. I'll review this and get back to you shortly.","I understand your concern. Let me look into this for you.","That's a great question. I'll need to check a few things and respond within the hour.","I've received your message and will provide a detailed response soon."],n={content:t[Math.floor(Math.random()*t.length)],senderId:1,senderName:"Sarah Johnson, CPA",senderType:"ACCOUNTANT",timestamp:new Date,threadId:this.currentThread?.id||1};this.messages.push(n),this.saveMessagesToStorage(this.currentUser?.id||1,this.messages)}handleAIResponse(t){setTimeout(()=>{const o=["I understand you're asking about tax matters. Based on current tax regulations, here's what I can tell you: For quarterly payments, you should calculate 25% of your expected annual tax liability and submit by the quarterly deadlines.","That's a great tax question! Here's some guidance: Business expenses must be ordinary and necessary for your trade or business. Keep detailed records and receipts for all deductions.","I can help with that tax inquiry. Here's what you should know: The standard deduction for 2024 is $14,600 for single filers and $29,200 for married filing jointly.","Thank you for your tax question. Here's some helpful information: Self-employment tax is 15.3% of your net self-employment earnings, covering Social Security and Medicare taxes."],s={content:o[Math.floor(Math.random()*o.length)],senderId:0,senderName:"Tax AI Agent",senderType:"AI_AGENT",timestamp:new Date,threadId:this.currentThread?.id||1};this.messages.push(s),this.saveMessagesToStorage(this.currentUser?.id||1,this.messages),this.scrollToBottom()},1500)}triggerAIResponse(t){const o=this.chatService.getAIResponse(t).subscribe({next:n=>{this.messages.push({content:n.message,senderId:0,senderName:"Tax AI Agent",senderType:"AI_AGENT",timestamp:new Date,threadId:this.currentThread?.id||1}),this.saveMessagesToStorage(this.currentUser?.id||1,this.messages),this.scrollToBottom()},error:n=>{console.error("Error getting AI response:",n),this.handleAIResponse(t)}});this.subscriptions.push(o)}onKeyPress(t){"Enter"===t.key&&!t.shiftKey&&(t.preventDefault(),this.sendMessage())}scrollToBottom(){try{this.messagesContainer&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)}catch(t){console.error("Error scrolling to bottom:",t)}}formatTime(t){return new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).format(t)}formatDate(t){const o=new Date,n=new Date(t);if(n.toDateString()===o.toDateString())return"Today";const s=new Date(o);return s.setDate(s.getDate()-1),n.toDateString()===s.toDateString()?"Yesterday":n.toLocaleDateString()}shouldShowDateSeparator(t){if(0===t)return!0;const n=this.messages[t-1];return this.messages[t].timestamp.toDateString()!==n.timestamp.toDateString()}isMyMessage(t){return"CLIENT"===t.senderType&&t.senderId===this.currentUser?.id}isAIMessage(t){return"AI_AGENT"===t.senderType}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(ge.m))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-chat"]],viewQuery:function(o,n){if(1&o&&e.GBs(he,5),2&o){let s;e.mGM(s=e.lsd())&&(n.messagesContainer=s.first)}},standalone:!0,features:[e.aNF],decls:55,vars:5,consts:[["messagesContainer",""],[1,"chat-container"],[1,"chat-header"],[1,"d-flex","align-items-center"],[1,"avatar-container","me-3"],[1,"avatar-circle","bg-primary"],[1,"ri-user-line","text-white"],[1,"status-indicator"],[1,"mb-0","chat-title"],[1,"text-muted"],[1,"chat-actions"],[1,"btn","btn-light","btn-sm","me-2"],[1,"ri-search-line"],[1,"ri-settings-3-line"],[1,"btn","btn-light","btn-sm"],[1,"ri-more-2-line"],[1,"chat-messages"],[1,"date-separator"],[1,"date-label"],["class","message-container",4,"ngFor","ngForOf"],["class","loading-container",4,"ngIf"],[1,"chat-input"],[1,"input-container"],[1,"btn","btn-light","attachment-btn"],[1,"ri-emotion-line"],[1,"ri-attachment-2"],[1,"ri-file-line"],[1,"input-wrapper"],["placeholder","Enter Message...","rows","1",1,"message-input",3,"ngModelChange","keypress","ngModel","disabled"],["type","button",1,"btn","send-btn",3,"click","disabled"],[1,"ri-send-plane-fill"],[1,"card","mt-3"],[1,"card-body"],[1,"card-title"],[1,"list-unstyled","mb-0"],[1,"mb-2"],[1,"ri-time-line","text-primary","me-2"],[1,"ri-calendar-line","text-primary","me-2"],[1,"ri-file-line","text-primary","me-2"],[1,"ri-phone-line","text-primary","me-2"],[1,"message-container"],["class","date-separator",4,"ngIf"],[1,"message-row"],["class","message-avatar",4,"ngIf"],[1,"message-bubble"],["class","message-sender",4,"ngIf"],[1,"message-text"],[1,"message-time"],["class","message-options",4,"ngIf"],[1,"message-avatar"],[1,"avatar-circle"],["class","ri-user-3-line text-white",4,"ngIf"],["class","ri-robot-2-line text-white",4,"ngIf"],[1,"ri-user-3-line","text-white"],[1,"ri-robot-2-line","text-white"],[1,"message-sender"],[1,"message-options"],[1,"btn","btn-sm","btn-light"],[1,"ri-more-2-fill"],[1,"loading-container"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"visually-hidden"],[1,"text-muted","ms-2"]],template:function(o,n){if(1&o){const s=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),e.nrm(5,"i",6),e.k0s(),e.nrm(6,"div",7),e.k0s(),e.j41(7,"div")(8,"h5",8),e.EFF(9,"Sarah Johnson, CPA"),e.k0s(),e.j41(10,"small",9),e.EFF(11,"Active now"),e.k0s()()(),e.j41(12,"div",10)(13,"button",11),e.nrm(14,"i",12),e.k0s(),e.j41(15,"button",11),e.nrm(16,"i",13),e.k0s(),e.j41(17,"button",14),e.nrm(18,"i",15),e.k0s()()(),e.j41(19,"div",16,0)(21,"div",17)(22,"span",18),e.EFF(23,"Today"),e.k0s()(),e.DNE(24,xe,11,16,"div",19)(25,ye,6,0,"div",20),e.k0s(),e.j41(26,"div",21)(27,"div",22)(28,"button",23),e.nrm(29,"i",24),e.k0s(),e.j41(30,"button",23),e.nrm(31,"i",25),e.k0s(),e.j41(32,"button",23),e.nrm(33,"i",26),e.k0s(),e.j41(34,"div",27)(35,"textarea",28),e.mxI("ngModelChange",function(u){return e.eBV(s),e.DH7(n.newMessage,u)||(n.newMessage=u),e.Njj(u)}),e.bIt("keypress",function(u){return e.eBV(s),e.Njj(n.onKeyPress(u))}),e.k0s()(),e.j41(36,"button",29),e.bIt("click",function(){return e.eBV(s),e.Njj(n.sendMessage())}),e.nrm(37,"i",30),e.k0s()()()(),e.j41(38,"div",31)(39,"div",32)(40,"h6",33),e.EFF(41,"Chat Guidelines"),e.k0s(),e.j41(42,"ul",34)(43,"li",35),e.nrm(44,"i",36),e.EFF(45,"Response time: Usually within 2-4 hours during business hours"),e.k0s(),e.j41(46,"li",35),e.nrm(47,"i",37),e.EFF(48,"Business hours: Monday-Friday, 9 AM - 6 PM EST"),e.k0s(),e.j41(49,"li",35),e.nrm(50,"i",38),e.EFF(51,"For document sharing, please use the Documents section"),e.k0s(),e.j41(52,"li"),e.nrm(53,"i",39),e.EFF(54,"For urgent matters, please call: (555) 123-4567"),e.k0s()()()()}2&o&&(e.R7$(24),e.Y8G("ngForOf",n.messages),e.R7$(),e.Y8G("ngIf",n.isLoading),e.R7$(10),e.R50("ngModel",n.newMessage),e.Y8G("disabled",n.isLoading),e.R7$(),e.Y8G("disabled",!n.newMessage.trim()||n.isLoading))},dependencies:[d.MD,d.Sq,d.bT,r.YN,r.me,r.BC,r.vS],styles:['.chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;max-height:800px;background:#fff;border-radius:12px;box-shadow:0 4px 20px #0000001a;overflow:hidden}.chat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;background:#fff;border-bottom:1px solid #f0f0f0;position:sticky;top:0;z-index:10}.avatar-container[_ngcontent-%COMP%]{position:relative}.avatar-circle[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px}.bg-gradient-ai[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.status-indicator[_ngcontent-%COMP%]{position:absolute;bottom:2px;right:2px;width:12px;height:12px;background:#10b981;border:2px solid #ffffff;border-radius:50%}.chat-title[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:16px}.chat-actions[_ngcontent-%COMP%]{display:flex;gap:4px}.chat-messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px;background:#f9fafb;scroll-behavior:smooth}.date-separator[_ngcontent-%COMP%]{text-align:center;margin:20px 0;position:relative}.date-separator[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#e5e7eb;z-index:1}.date-label[_ngcontent-%COMP%]{background:#f9fafb;color:#6b7280;padding:4px 12px;font-size:12px;font-weight:500;position:relative;z-index:2}.message-container[_ngcontent-%COMP%]{margin-bottom:8px}.message-row[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:8px;margin-bottom:12px}.message-sent[_ngcontent-%COMP%]{justify-content:flex-end}.message-received[_ngcontent-%COMP%]{justify-content:flex-start}.message-avatar[_ngcontent-%COMP%]{width:32px;height:32px;flex-shrink:0}.message-avatar[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%]{width:32px;height:32px;font-size:14px;box-shadow:0 2px 8px #00000026}.message-avatar[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background:#6366f1!important}.message-avatar[_ngcontent-%COMP%]   .bg-gradient-ai[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)!important}.message-bubble[_ngcontent-%COMP%]{max-width:320px;padding:12px 16px;border-radius:18px;position:relative;word-wrap:break-word}.bubble-sent[_ngcontent-%COMP%]{background:#6366f1;color:#fff;border-bottom-right-radius:6px;margin-left:auto}.bubble-received[_ngcontent-%COMP%]{background:#fff;color:#1f2937;border:1px solid #e5e7eb;border-bottom-left-radius:6px}.bubble-ai[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-bottom-left-radius:6px}.message-sender[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#6366f1;margin-bottom:4px}.bubble-sent[_ngcontent-%COMP%]   .message-sender[_ngcontent-%COMP%]{color:#fffc}.bubble-ai[_ngcontent-%COMP%]   .message-sender[_ngcontent-%COMP%]{color:#ffffffe6}.message-text[_ngcontent-%COMP%]{line-height:1.4;font-size:14px}.message-time[_ngcontent-%COMP%]{font-size:11px;opacity:.7;margin-top:4px;text-align:right}.bubble-received[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{color:#6b7280}.message-options[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}.message-row[_ngcontent-%COMP%]:hover   .message-options[_ngcontent-%COMP%]{opacity:1}.loading-container[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#6b7280}.chat-input[_ngcontent-%COMP%]{padding:16px 20px;background:#fff;border-top:1px solid #f0f0f0}.input-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:8px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:24px;padding:8px 12px;transition:border-color .2s}.input-container[_ngcontent-%COMP%]:focus-within{border-color:#6366f1;box-shadow:0 0 0 3px #6366f11a}.attachment-btn[_ngcontent-%COMP%]{border:none;background:transparent;color:#6b7280;padding:8px;border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;transition:all .2s}.attachment-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb;color:#374151}.input-wrapper[_ngcontent-%COMP%]{flex:1}.message-input[_ngcontent-%COMP%]{width:100%;border:none;background:transparent;resize:none;outline:none;font-size:14px;line-height:1.4;padding:8px 0;color:#1f2937;max-height:120px}.message-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.send-btn[_ngcontent-%COMP%]{background:#6366f1;border:none;color:#fff;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s;cursor:pointer}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#5856eb;transform:scale(1.05)}.send-btn[_ngcontent-%COMP%]:disabled{background:#d1d5db;cursor:not-allowed;transform:none}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}@media (max-width: 768px){.chat-container[_ngcontent-%COMP%]{height:100vh;border-radius:0}.message-bubble[_ngcontent-%COMP%]{max-width:280px}.chat-header[_ngcontent-%COMP%]{padding:12px 16px}.chat-messages[_ngcontent-%COMP%]{padding:16px}.chat-input[_ngcontent-%COMP%]{padding:12px 16px}}']})}}return i})()}];let je=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[g.iI.forChild(Ie),g.iI]})}}return i})();var Te=c(6551),Se=c(1745),Ee=c(8580),Me=c(779),Ne=c(3816);let De=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[d.MD,r.YN,r.X1,je,Te.T,Se.V,Ee.zE,Me.Q_,Ne.jr,h._L]})}}return i})()}}]);
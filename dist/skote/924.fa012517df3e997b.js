"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[924],{6924:(O,u,a)=>{a.r(u),a.d(u,{ClientPortalAppLayoutComponent:()=>T});var r=a(177),l=a(803),c=a(5236);const g=[{id:1,label:"MENUITEMS.PORTAL.DASHBOARD.TEXT",icon:"bx-home-circle",link:"/client-portal/dashboard"},{id:2,label:"MENUITEMS.PORTAL.DOCUMENTS.TEXT",icon:"bx-file",link:"/client-portal/documents"},{id:3,label:"MENUITEMS.PORTAL.INTAKE.TEXT",icon:"bx-edit",link:"/client-portal/intake"},{id:4,label:"MENUITEMS.PORTAL.CHAT.TEXT",icon:"bx-chat",link:"/client-portal/chat"},{id:5,isLayout:!0},{id:6,label:"MENUITEMS.PORTAL.LOGOUT.TEXT",icon:"bx-log-out",link:"/auth/login"}];var d=a(8580),e=a(4438),p=a(3318),h=a(2490),f=a(6344);const b=i=>({active:i});function v(i,s){if(1&i){const t=e.RV6();e.j41(0,"a",24),e.bIt("click",function(){const o=e.eBV(t).$implicit,m=e.XpG(2);return e.Njj(m.setLanguage(o.text,o.lang,o.flag))}),e.nrm(1,"img",25),e.j41(2,"span",26),e.EFF(3),e.k0s()()}if(2&i){const t=s.$implicit,n=e.XpG(2);e.Y8G("ngClass",e.eq3(3,b,n.selectedLang===t.lang)),e.R7$(),e.Y8G("src",t.flag,e.B4B),e.R7$(2),e.JRh(t.text)}}function x(i,s){if(1&i&&(e.j41(0,"div",22),e.DNE(1,v,4,5,"a",23),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.listLang)}}function k(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",22)(1,"a",27),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.logout())}),e.nrm(2,"i",28),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"HEADER.LOGIN.LOGOUT")," "))}let C=(()=>{class i{constructor(t,n,o,m,M,_){this.document=t,this.router=n,this.translate=o,this.languageService=m,this.cookieService=M,this.apiService=_,this.userEmail="client@example.com",this.userDisplayName="Client",this.flagvalue="assets/images/flags/us.jpg",this.countryName="English",this.listLang=[{text:"English",flag:"assets/images/flags/us.jpg",lang:"en"},{text:"Spanish",flag:"assets/images/flags/spain.jpg",lang:"es"},{text:"German",flag:"assets/images/flags/germany.jpg",lang:"de"},{text:"Italian",flag:"assets/images/flags/italy.jpg",lang:"it"},{text:"Russian",flag:"assets/images/flags/russia.jpg",lang:"ru"}]}ngOnInit(){this.element=document.documentElement,this.loadUserInfo(),this.initializeLanguage()}loadUserInfo(){const t=localStorage.getItem("currentUser");if(t)try{const n=JSON.parse(t);this.userEmail=n.email||n.emailAddress||n.username||"client@example.com",this.userDisplayName=this.userEmail.split("@")[0]}catch(n){console.error("Error parsing user data:",n),this.userEmail="client@example.com",this.userDisplayName="Client"}}initializeLanguage(){const t=this.cookieService.get("lang")||"en",n=this.listLang.filter(o=>o.lang===t);n.length>0&&(this.countryName=n[0].text,this.flagvalue=n[0].flag)}setLanguage(t,n,o){this.countryName=t,this.flagvalue=o,this.languageService.setLanguage(n),this.translate.use(n)}toggleMenu(){const t=document.querySelector(".vertical-menu");t&&t.classList.toggle("show")}fullscreen(){document.body.classList.toggle("fullscreen-enable"),document.fullscreenElement||this.element.mozFullScreenElement||this.element.webkitFullscreenElement?this.document.exitFullscreen?this.document.exitFullscreen():this.document.mozCancelFullScreen?this.document.mozCancelFullScreen():this.document.webkitExitFullscreen?this.document.webkitExitFullscreen():this.document.msExitFullscreen&&this.document.msExitFullscreen():this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen?this.element.webkitRequestFullscreen():this.element.msRequestFullscreen&&this.element.msRequestFullscreen()}logout(){this.apiService.logout().subscribe({next:t=>{localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),this.router.navigate(["/auth/login"])},error:t=>{console.error("Logout API error:",t),localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),this.router.navigate(["/auth/login"])}})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(r.qQ),e.rXU(l.Ix),e.rXU(c.c$),e.rXU(p.g),e.rXU(h.O),e.rXU(f.G))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-client-portal-topbar"]],standalone:!0,features:[e.aNF],decls:34,vars:2,consts:[["id","page-topbar"],[1,"navbar-header"],[1,"d-flex"],[1,"navbar-brand-box",2,"padding-top","25px"],["routerLink","/client-portal",1,"logo","logo-dark"],[1,"logo-sm"],[1,"mb-0","text-dark","font-weight-bold"],[1,"logo-lg"],["routerLink","/client-portal",1,"logo","logo-light"],[1,"mb-0","text-light","font-weight-bold"],["type","button","id","vertical-menu-btn",1,"btn","btn-sm","px-3","font-size-16","header-item",3,"click"],[1,"fa","fa-fw","fa-bars"],["dropdown","",1,"dropdown","d-inline-block"],["type","button","id","page-header-lang-dropdown","dropdownToggle","",1,"btn","header-item"],["alt","Header Language","height","16",3,"src"],["class","dropdown-menu dropdown-menu-end",4,"dropdownMenu"],[1,"dropdown","d-none","d-lg-inline-block","ms-1"],["type","button","data-bs-toggle","fullscreen",1,"btn","header-item","noti-icon","waves-effect",3,"click"],[1,"bx","bx-fullscreen"],["type","button","dropdownToggle","","id","page-header-user-dropdown",1,"btn","header-item"],[1,"d-none","d-xl-inline-block","ms-1"],[1,"mdi","mdi-chevron-down","d-none","d-xl-inline-block"],[1,"dropdown-menu","dropdown-menu-end"],["class","dropdown-item notify-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dropdown-item","notify-item",3,"click","ngClass"],["alt","user-image","height","12",1,"me-1",3,"src"],[1,"align-middle"],["href","javascript: void(0);",1,"dropdown-item","text-danger",3,"click"],[1,"bx","bx-power-off","font-size-16","align-middle","me-1","text-danger"]],template:function(n,o){1&n&&(e.j41(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"span",5)(6,"h6",6),e.EFF(7,"FP"),e.k0s()(),e.j41(8,"span",7)(9,"h5",6),e.EFF(10,"Firm Pilot"),e.k0s()()(),e.j41(11,"a",8)(12,"span",5)(13,"h6",9),e.EFF(14,"FP"),e.k0s()(),e.j41(15,"span",7)(16,"h5",9),e.EFF(17,"Firm Pilot"),e.k0s()()()(),e.j41(18,"button",10),e.bIt("click",function(){return o.toggleMenu()}),e.nrm(19,"i",11),e.k0s()(),e.j41(20,"div",2)(21,"div",12)(22,"button",13),e.nrm(23,"img",14),e.k0s(),e.DNE(24,x,2,1,"div",15),e.k0s(),e.j41(25,"div",16)(26,"button",17),e.bIt("click",function(){return o.fullscreen()}),e.nrm(27,"i",18),e.k0s()(),e.j41(28,"div",12)(29,"button",19)(30,"span",20),e.EFF(31),e.k0s(),e.nrm(32,"i",21),e.k0s(),e.DNE(33,k,5,3,"div",15),e.k0s()()()()),2&n&&(e.R7$(23),e.Y8G("src",o.flagvalue,e.B4B),e.R7$(8),e.JRh(o.userDisplayName))},dependencies:[r.MD,r.YU,r.Sq,l.iI,l.Wk,c.h,c.D9,d.zE,d.hs,d.UL,d.Kk],styles:["#page-topbar[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:0;z-index:1002;background:#fff;box-shadow:0 2px 4px #0f223a1f;height:70px}.navbar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 1.5rem;height:70px}.navbar-brand-box[_ngcontent-%COMP%]{width:250px;text-align:center}.header-item[_ngcontent-%COMP%]{color:#74788d;border:none;background:transparent;padding:.5rem}.header-item[_ngcontent-%COMP%]:hover{color:#495057}.header-profile-user[_ngcontent-%COMP%]{width:36px;height:36px}.dropdown-menu[_ngcontent-%COMP%]{border:1px solid #e9ecef;box-shadow:0 .75rem 1.5rem #12263f08}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}"]})}}return i})();function P(i,s){1&i&&e.nrm(0,"li",28)}function E(i,s){if(1&i&&(e.j41(0,"li")(1,"a",29),e.nrm(2,"i"),e.j41(3,"span",30),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&i){const t=e.XpG().$implicit;e.R7$(),e.Y8G("routerLink",t.link),e.R7$(),e.HbH("bx "+t.icon),e.R7$(2),e.JRh(e.bMT(5,4,t.label))}}function F(i,s){if(1&i&&(e.qex(0),e.DNE(1,P,1,0,"li",26)(2,E,6,6,"li",27),e.bVm()),2&i){const t=s.$implicit;e.R7$(),e.Y8G("ngIf",t.isLayout),e.R7$(),e.Y8G("ngIf",!t.isLayout&&t.link)}}let T=(()=>{class i{constructor(t,n){this.router=t,this.translate=n,this.menuItems=[],this.userEmail="client@example.com",this.userDisplayName="Client",this.isMenuOpen=!1}ngOnInit(){this.translate.setDefaultLang("en"),this.translate.use("en"),this.menuItems=g,this.loadUserInfo()}loadUserInfo(){const t=localStorage.getItem("currentUser");if(t)try{const n=JSON.parse(t);this.userEmail=n.email||n.emailAddress||n.username||"client@example.com",this.userDisplayName=this.userEmail.split("@")[0]}catch(n){console.error("Error parsing user data:",n),this.userEmail="client@example.com",this.userDisplayName="Client"}}toggleMenu(){this.isMenuOpen=!this.isMenuOpen;const t=document.querySelector(".vertical-menu");t&&t.classList.toggle("show")}logout(){localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),this.router.navigate(["/auth/login"])}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(l.Ix),e.rXU(c.c$))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-client-portal-app-layout"]],standalone:!0,features:[e.aNF],decls:40,vars:5,consts:[["lang","en"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["content","Client Portal for Firm Pilot","name","description"],["content","Firm Pilot","name","author"],["data-sidebar","dark","data-layout-mode","light"],["id","layout-wrapper"],[1,"vertical-menu"],["data-simplebar","",1,"h-100"],["id","sidebar-menu"],["id","side-menu",1,"metismenu","list-unstyled"],["key","t-menu",1,"menu-title"],[4,"ngFor","ngForOf"],[1,"main-content"],[1,"page-content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box","d-sm-flex","align-items-center","justify-content-between"],[1,"mb-sm-0","font-size-18"],[1,"page-title-right"],[1,"breadcrumb","m-0"],[1,"breadcrumb-item","active"],[1,"footer"],[1,"col-sm-6"],[1,"text-sm-end","d-none","d-sm-block"],["class","menu-title",4,"ngIf"],[4,"ngIf"],[1,"menu-title"],["routerLinkActive","mm-active",1,"waves-effect",3,"routerLink"],["key","t-dashboard"]],template:function(n,o){1&n&&(e.j41(0,"html",0)(1,"head"),e.nrm(2,"meta",1),e.j41(3,"title"),e.EFF(4,"Client Portal - Firm Pilot"),e.k0s(),e.nrm(5,"meta",2)(6,"meta",3)(7,"meta",4),e.k0s(),e.j41(8,"body",5)(9,"div",6),e.nrm(10,"app-client-portal-topbar"),e.j41(11,"div",7)(12,"div",8)(13,"div",9)(14,"ul",10)(15,"li",11),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.DNE(18,F,3,2,"ng-container",12),e.k0s()()()(),e.j41(19,"div",13)(20,"div",14)(21,"div",15)(22,"div",16)(23,"div",17)(24,"div",18)(25,"h4",19),e.EFF(26,"Client Portal"),e.k0s(),e.j41(27,"div",20)(28,"ol",21)(29,"li",22),e.EFF(30),e.k0s()()()()()(),e.nrm(31,"router-outlet"),e.k0s()(),e.j41(32,"footer",23)(33,"div",15)(34,"div",16)(35,"div",24),e.EFF(36," \xa9 Firm Pilot. "),e.k0s(),e.j41(37,"div",24)(38,"div",25),e.EFF(39," Client Portal "),e.k0s()()()()()()()()()),2&n&&(e.R7$(16),e.JRh(e.bMT(17,3,"MENUITEMS.PORTAL.NAVIGATION.TEXT")),e.R7$(2),e.Y8G("ngForOf",o.menuItems),e.R7$(12),e.SpI("Welcome, ",o.userDisplayName,""))},dependencies:[r.MD,r.Sq,r.bT,l.iI,l.n3,l.Wk,l.wQ,c.h,c.D9,C],styles:[".navbar-brand-box[_ngcontent-%COMP%]{width:250px;text-align:center}.vertical-menu[_ngcontent-%COMP%]{width:250px;z-index:1001;background:#2a3042;position:fixed;top:70px;bottom:0;left:0}.main-content[_ngcontent-%COMP%]{margin-left:250px;margin-top:70px;min-height:calc(100vh - 70px)}#page-topbar[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:0;z-index:1002;background:#fff;box-shadow:0 2px 4px #0f223a1f;height:70px}.navbar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 1.5rem;height:70px}#sidebar-menu[_ngcontent-%COMP%]   .metismenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a6b0cf;display:block;padding:.625rem 1.5rem;position:relative;transition:all .4s;text-decoration:none}#sidebar-menu[_ngcontent-%COMP%]   .metismenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, #sidebar-menu[_ngcontent-%COMP%]   .metismenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.mm-active[_ngcontent-%COMP%]{color:#74788d;background-color:#ffffff0f}.menu-title[_ngcontent-%COMP%]{padding:12px 20px!important;letter-spacing:.05em;pointer-events:none;cursor:default;font-size:11px;text-transform:uppercase;color:#6c757d;font-weight:600}.footer[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px 0;border-top:1px solid #e9ecef}@media (max-width: 992px){.vertical-menu[_ngcontent-%COMP%]{margin-left:-250px;transition:all .3s}.main-content[_ngcontent-%COMP%], .vertical-menu.show[_ngcontent-%COMP%]{margin-left:0}}"]})}}return i})()}}]);